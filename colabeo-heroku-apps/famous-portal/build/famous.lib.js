/**
 * almond 0.2.6 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/

/* Zepto v1.0-1-ga3cab6c - polyfill zepto detect event ajax form fx - zeptojs.com/license */

//     Underscore.js 1.5.2
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

!function(t,e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof window){var i;window.addEventListener("load",function(){t.Famous=e(),i&&t.Famous(i)}),t.Famous=function(t){i=t}}else t.Famous=e()}(this,function(){var requirejs,require,define;!function(t){function e(t,e){return g.call(t,e)}function i(t,e){var i,s,o,n,r,a,u,h,c,p,l=e&&e.split("/"),f=m.map,d=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(l=l.slice(0,l.length-1),t=l.concat(t.split("/")),h=0;h<t.length;h+=1)if(p=t[h],"."===p)t.splice(h,1),h-=1;else if(".."===p){if(1===h&&(".."===t[2]||".."===t[0]))break;h>0&&(t.splice(h-1,2),h-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((l||d)&&f){for(i=t.split("/"),h=i.length;h>0;h-=1){if(s=i.slice(0,h).join("/"),l)for(c=l.length;c>0;c-=1)if(o=f[l.slice(0,c).join("/")],o&&(o=o[s])){n=o,r=h;break}if(n)break;!a&&d&&d[s]&&(a=d[s],u=h)}!n&&a&&(n=a,r=u),n&&(i.splice(0,r,n),t=i.join("/"))}return t}function s(e,i){return function(){return c.apply(t,y.call(arguments,0).concat([e,i]))}}function o(t){return function(e){return i(e,t)}}function n(t){return function(e){f[t]=e}}function r(i){if(e(d,i)){var s=d[i];delete d[i],v[i]=!0,h.apply(t,s)}if(!e(f,i)&&!e(v,i))throw new Error("No "+i);return f[i]}function a(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function u(t){return function(){return m&&m.config&&m.config[t]||{}}}var h,c,p,l,f={},d={},m={},v={},g=Object.prototype.hasOwnProperty,y=[].slice;p=function(t,e){var s,n=a(t),u=n[0];return t=n[1],u&&(u=i(u,e),s=r(u)),u?t=s&&s.normalize?s.normalize(t,o(e)):i(t,e):(t=i(t,e),n=a(t),u=n[0],t=n[1],u&&(s=r(u))),{f:u?u+"!"+t:t,n:t,pr:u,p:s}},l={require:function(t){return s(t)},exports:function(t){var e=f[t];return"undefined"!=typeof e?e:f[t]={}},module:function(t){return{id:t,uri:"",exports:f[t],config:u(t)}}},h=function(i,o,a,u){var h,c,m,g,y,w,S=[];if(u=u||i,"function"==typeof a){for(o=!o.length&&a.length?["require","exports","module"]:o,y=0;y<o.length;y+=1)if(g=p(o[y],u),c=g.f,"require"===c)S[y]=l.require(i);else if("exports"===c)S[y]=l.exports(i),w=!0;else if("module"===c)h=S[y]=l.module(i);else if(e(f,c)||e(d,c)||e(v,c))S[y]=r(c);else{if(!g.p)throw new Error(i+" missing "+c);g.p.load(g.n,s(u,!0),n(c),{}),S[y]=f[c]}m=a.apply(f[i],S),i&&(h&&h.exports!==t&&h.exports!==f[i]?f[i]=h.exports:m===t&&w||(f[i]=m))}else i&&(f[i]=a)},requirejs=require=c=function(e,i,s,o,n){return"string"==typeof e?l[e]?l[e](i):r(p(e,i).f):(e.splice||(m=e,i.splice?(e=i,i=s,s=null):e=t),i=i||function(){},"function"==typeof s&&(s=o,o=n),o?h(t,e,i,s):setTimeout(function(){h(t,e,i,s)},4),c)},c.config=function(t){return m=t,m.deps&&c(m.deps,m.callback),c},requirejs._defined=f,define=function(t,i,s){i.splice||(s=i,i=[]),e(f,t)||e(d,t)||(d[t]=[t,i,s])},define.amd={jQuery:!0}}(),define("lib/almond",function(){}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,s=function(){},o=function(){return i.apply(this instanceof s&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return s.prototype=this.prototype,o.prototype=new s,o}),define("lib/functionPrototypeBind",function(){}),"undefined"==typeof document||"classList"in document.createElement("a")||!function(t){var e="classList",i="prototype",s=(t.HTMLElement||t.Element)[i],o=Object,n=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array[i].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},u=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(t,e)},h=function(t){for(var e=n.call(t.className),i=e?e.split(/\s+/):[],s=0,o=i.length;o>s;s++)this.push(i[s]);this._updateClassName=function(){t.className=this.toString()}},c=h[i]=[],p=function(){return new h(this)};if(a[i]=Error[i],c.item=function(t){return this[t]||null},c.contains=function(t){return t+="",-1!==u(this,t)},c.add=function(t){t+="",-1===u(this,t)&&(this.push(t),this._updateClassName())},c.remove=function(t){t+="";var e=u(this,t);-1!==e&&(this.splice(e,1),this._updateClassName())},c.toggle=function(t){t+="",-1===u(this,t)?this.add(t):this.remove(t)},c.toString=function(){return this.join(" ")},o.defineProperty){var l={get:p,enumerable:!0,configurable:!0};try{o.defineProperty(s,e,l)}catch(f){-2146823252===f.number&&(l.enumerable=!1,o.defineProperty(s,e,l))}}else o[i].__defineGetter__&&s.__defineGetter__(e,p)}(self),define("lib/classList",function(){}),window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(function(){t(+new Date)},1e3/60)}),define("lib/requestAnimationFrame",function(){}),function(t){String.prototype.trim===t&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.reduce===t&&(Array.prototype.reduce=function(e){if(void 0===this||null===this)throw new TypeError;var i,s=Object(this),o=s.length>>>0,n=0;if("function"!=typeof e)throw new TypeError;if(0==o&&1==arguments.length)throw new TypeError;if(arguments.length>=2)i=arguments[1];else for(;;){if(n in s){i=s[n++];break}if(++n>=o)throw new TypeError}for(;o>n;)n in s&&(i=e.call(t,i,s[n],n,s)),n++;return i})}();var Zepto=function(){function t(t){return null==t?String(t):Y[$.call(t)]||"object"}function e(e){return"function"==t(e)}function i(t){return null!=t&&t==t.window}function s(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function o(e){return"object"==t(e)}function n(t){return o(t)&&!i(t)&&t.__proto__==Object.prototype}function r(t){return t instanceof Array}function a(t){return"number"==typeof t.length}function u(t){return k.call(t,function(t){return null!=t})}function h(t){return t.length>0?T.fn.concat.apply([],t):t}function c(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function p(t){return t in F?F[t]:F[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function l(t,e){return"number"!=typeof e||N[c(t)]?e:e+"px"}function f(t){var e,i;return P[t]||(e=I.createElement(t),I.body.appendChild(e),i=A(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==i&&(i="block"),P[t]=i),P[t]}function d(t){return"children"in t?z.call(t.children):T.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function m(t,e,i){for(_ in e)i&&(n(e[_])||r(e[_]))?(n(e[_])&&!n(t[_])&&(t[_]={}),r(e[_])&&!r(t[_])&&(t[_]=[]),m(t[_],e[_],i)):e[_]!==x&&(t[_]=e[_])}function v(t,e){return e===x?T(t):T(t).filter(e)}function g(t,i,s,o){return e(i)?i.call(t,s,o):i}function y(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i)}function w(t,e){var i=t.className,s=i&&i.baseVal!==x;return e===x?s?i.baseVal:i:(s?i.baseVal=e:t.className=e,void 0)}function S(t){var e;try{return t?"true"==t||("false"==t?!1:"null"==t?null:isNaN(e=Number(t))?/^[\[\{]/.test(t)?T.parseJSON(t):t:e):t}catch(i){return t}}function b(t,e){e(t);for(var i in t.childNodes)b(t.childNodes[i],e)}var x,_,T,O,C,E,M=[],z=M.slice,k=M.filter,I=window.document,P={},F={},A=I.defaultView.getComputedStyle,N={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},R=/^\s*<(\w+|!)[^>]*>/,D=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,L=/^(?:body|html)$/i,q=["val","css","html","text","data","width","height","offset"],B=["after","prepend","before","append"],V=I.createElement("table"),H=I.createElement("tr"),U={tr:I.createElement("tbody"),tbody:V,thead:V,tfoot:V,td:H,th:H,"*":I.createElement("div")},j=/complete|loaded|interactive/,X=/^\.([\w-]+)$/,W=/^#([\w-]*)$/,G=/^[\w-]+$/,Y={},$=Y.toString,Z={},J=I.createElement("div");return Z.matches=function(t,e){if(!t||1!==t.nodeType)return!1;var i=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var s,o=t.parentNode,n=!o;return n&&(o=J).appendChild(t),s=~Z.qsa(o,e).indexOf(t),n&&J.removeChild(t),s},C=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},E=function(t){return k.call(t,function(e,i){return t.indexOf(e)==i})},Z.fragment=function(t,e,i){t.replace&&(t=t.replace(D,"<$1></$2>")),e===x&&(e=R.test(t)&&RegExp.$1),e in U||(e="*");var s,o,r=U[e];return r.innerHTML=""+t,o=T.each(z.call(r.childNodes),function(){r.removeChild(this)}),n(i)&&(s=T(o),T.each(i,function(t,e){q.indexOf(t)>-1?s[t](e):s.attr(t,e)})),o},Z.Z=function(t,e){return t=t||[],t.__proto__=T.fn,t.selector=e||"",t},Z.isZ=function(t){return t instanceof Z.Z},Z.init=function(t,i){if(!t)return Z.Z();if(e(t))return T(I).ready(t);if(Z.isZ(t))return t;var s;if(r(t))s=u(t);else if(o(t))s=[n(t)?T.extend({},t):t],t=null;else if(R.test(t))s=Z.fragment(t.trim(),RegExp.$1,i),t=null;else{if(i!==x)return T(i).find(t);s=Z.qsa(I,t)}return Z.Z(s,t)},T=function(t,e){return Z.init(t,e)},T.extend=function(t){var e,i=z.call(arguments,1);return"boolean"==typeof t&&(e=t,t=i.shift()),i.forEach(function(i){m(t,i,e)}),t},Z.qsa=function(t,e){var i;return s(t)&&W.test(e)?(i=t.getElementById(RegExp.$1))?[i]:[]:1!==t.nodeType&&9!==t.nodeType?[]:z.call(X.test(e)?t.getElementsByClassName(RegExp.$1):G.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e))},T.contains=function(t,e){return t!==e&&t.contains(e)},T.type=t,T.isFunction=e,T.isWindow=i,T.isArray=r,T.isPlainObject=n,T.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},T.inArray=function(t,e,i){return M.indexOf.call(e,t,i)},T.camelCase=C,T.trim=function(t){return t.trim()},T.uuid=0,T.support={},T.expr={},T.map=function(t,e){var i,s,o,n=[];if(a(t))for(s=0;s<t.length;s++)i=e(t[s],s),null!=i&&n.push(i);else for(o in t)i=e(t[o],o),null!=i&&n.push(i);return h(n)},T.each=function(t,e){var i,s;if(a(t)){for(i=0;i<t.length;i++)if(e.call(t[i],i,t[i])===!1)return t}else for(s in t)if(e.call(t[s],s,t[s])===!1)return t;return t},T.grep=function(t,e){return k.call(t,e)},window.JSON&&(T.parseJSON=JSON.parse),T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Y["[object "+e+"]"]=e.toLowerCase()}),T.fn={forEach:M.forEach,reduce:M.reduce,push:M.push,sort:M.sort,indexOf:M.indexOf,concat:M.concat,map:function(t){return T(T.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return T(z.apply(this,arguments))},ready:function(t){return j.test(I.readyState)?t(T):I.addEventListener("DOMContentLoaded",function(){t(T)},!1),this},get:function(t){return t===x?z.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return M.every.call(this,function(e,i){return t.call(e,i,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):T(k.call(this,function(e){return Z.matches(e,t)}))},add:function(t,e){return T(E(this.concat(T(t,e))))},is:function(t){return this.length>0&&Z.matches(this[0],t)},not:function(t){var i=[];if(e(t)&&t.call!==x)this.each(function(e){t.call(this,e)||i.push(this)});else{var s="string"==typeof t?this.filter(t):a(t)&&e(t.item)?z.call(t):T(t);this.forEach(function(t){s.indexOf(t)<0&&i.push(t)})}return T(i)},has:function(t){return this.filter(function(){return o(t)?T.contains(this,t):T(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!o(t)?t:T(t)},last:function(){var t=this[this.length-1];return t&&!o(t)?t:T(t)},find:function(t){var e,i=this;return e="object"==typeof t?T(t).filter(function(){var t=this;return M.some.call(i,function(e){return T.contains(e,t)})}):1==this.length?T(Z.qsa(this[0],t)):this.map(function(){return Z.qsa(this,t)})},closest:function(t,e){var i=this[0],o=!1;for("object"==typeof t&&(o=T(t));i&&!(o?o.indexOf(i)>=0:Z.matches(i,t));)i=i!==e&&!s(i)&&i.parentNode;return T(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=T.map(i,function(t){return(t=t.parentNode)&&!s(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return v(e,t)},parent:function(t){return v(E(this.pluck("parentNode")),t)},children:function(t){return v(this.map(function(){return d(this)}),t)},contents:function(){return this.map(function(){return z.call(this.childNodes)})},siblings:function(t){return v(this.map(function(t,e){return k.call(d(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return T.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null),"none"==A(this,"").getPropertyValue("display")&&(this.style.display=f(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var i=e(t);if(this[0]&&!i)var s=T(t).get(0),o=s.parentNode||this.length>1;return this.each(function(e){T(this).wrapAll(i?t.call(this,e):o?s.cloneNode(!0):s)})},wrapAll:function(t){if(this[0]){T(this[0]).before(t=T(t));for(var e;(e=t.children()).length;)t=e.first();T(t).append(this)}return this},wrapInner:function(t){var i=e(t);return this.each(function(e){var s=T(this),o=s.contents(),n=i?t.call(this,e):t;o.length?o.wrapAll(n):s.append(n)})},unwrap:function(){return this.parent().each(function(){T(this).replaceWith(T(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=T(this);(t===x?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return T(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return T(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return t===x?this.length>0?this[0].innerHTML:null:this.each(function(e){var i=this.innerHTML;T(this).empty().append(g(this,t,e,i))})},text:function(t){return t===x?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t})},attr:function(t,e){var i;return"string"==typeof t&&e===x?0==this.length||1!==this[0].nodeType?x:"value"==t&&"INPUT"==this[0].nodeName?this.val():!(i=this[0].getAttribute(t))&&t in this[0]?this[0][t]:i:this.each(function(i){if(1===this.nodeType)if(o(t))for(_ in t)y(this,_,t[_]);else y(this,t,g(this,e,i,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){1===this.nodeType&&y(this,t)})},prop:function(t,e){return e===x?this[0]&&this[0][t]:this.each(function(i){this[t]=g(this,e,i,this[t])})},data:function(t,e){var i=this.attr("data-"+c(t),e);return null!==i?S(i):x},val:function(t){return t===x?this[0]&&(this[0].multiple?T(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(e){this.value=g(this,t,e,this.value)})},offset:function(t){if(t)return this.each(function(e){var i=T(this),s=g(this,t,e,i.offset()),o=i.offsetParent().offset(),n={top:s.top-o.top,left:s.left-o.left};"static"==i.css("position")&&(n.position="relative"),i.css(n)});if(0==this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,i){if(arguments.length<2&&"string"==typeof e)return this[0]&&(this[0].style[C(e)]||A(this[0],"").getPropertyValue(e));var s="";if("string"==t(e))i||0===i?s=c(e)+":"+l(e,i):this.each(function(){this.style.removeProperty(c(e))});else for(_ in e)e[_]||0===e[_]?s+=c(_)+":"+l(_,e[_])+";":this.each(function(){this.style.removeProperty(c(_))});return this.each(function(){this.style.cssText+=";"+s})},index:function(t){return t?this.indexOf(T(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return M.some.call(this,function(t){return this.test(w(t))},p(t))},addClass:function(t){return this.each(function(e){O=[];var i=w(this),s=g(this,t,e,i);s.split(/\s+/g).forEach(function(t){T(this).hasClass(t)||O.push(t)},this),O.length&&w(this,i+(i?" ":"")+O.join(" "))})},removeClass:function(t){return this.each(function(e){return t===x?w(this,""):(O=w(this),g(this,t,e,O).split(/\s+/g).forEach(function(t){O=O.replace(p(t)," ")}),w(this,O.trim()),void 0)})},toggleClass:function(t,e){return this.each(function(i){var s=T(this),o=g(this,t,i,w(this));o.split(/\s+/g).forEach(function(t){(e===x?!s.hasClass(t):e)?s.addClass(t):s.removeClass(t)})})},scrollTop:function(){return this.length?"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY:void 0},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),s=L.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(T(t).css("margin-top"))||0,i.left-=parseFloat(T(t).css("margin-left"))||0,s.top+=parseFloat(T(e[0]).css("border-top-width"))||0,s.left+=parseFloat(T(e[0]).css("border-left-width"))||0,{top:i.top-s.top,left:i.left-s.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||I.body;t&&!L.test(t.nodeName)&&"static"==T(t).css("position");)t=t.offsetParent;return t})}},T.fn.detach=T.fn.remove,["width","height"].forEach(function(t){T.fn[t]=function(e){var o,n=this[0],r=t.replace(/./,function(t){return t[0].toUpperCase()});return e===x?i(n)?n["inner"+r]:s(n)?n.documentElement["offset"+r]:(o=this.offset())&&o[t]:this.each(function(i){n=T(this),n.css(t,g(this,e,i,n[t]()))})}}),B.forEach(function(e,i){var s=i%2;T.fn[e]=function(){var e,o,n=T.map(arguments,function(i){return e=t(i),"object"==e||"array"==e||null==i?i:Z.fragment(i)}),r=this.length>1;return n.length<1?this:this.each(function(t,e){o=s?e:e.parentNode,e=0==i?e.nextSibling:1==i?e.firstChild:2==i?e:null,n.forEach(function(t){if(r)t=t.cloneNode(!0);else if(!o)return T(t).remove();b(o.insertBefore(t,e),function(t){null!=t.nodeName&&"SCRIPT"===t.nodeName.toUpperCase()&&(!t.type||"text/javascript"===t.type)&&!t.src&&window.eval.call(window,t.innerHTML)})})})},T.fn[s?e+"To":"insert"+(i?"Before":"After")]=function(t){return T(t)[e](this),this}}),Z.Z.prototype=T.fn,Z.uniq=E,Z.deserializeValue=S,T.zepto=Z,T}();return window.Zepto=Zepto,"$"in window||(window.$=Zepto),function(t){function e(t){var e=this.os={},i=this.browser={},s=t.match(/WebKit\/([\d.]+)/),o=t.match(/(Android)\s+([\d.]+)/),n=t.match(/(iPad).*OS\s([\d_]+)/),r=!n&&t.match(/(iPhone\sOS)\s([\d_]+)/),a=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),u=a&&t.match(/TouchPad/),h=t.match(/Kindle\/([\d.]+)/),c=t.match(/Silk\/([\d._]+)/),p=t.match(/(BlackBerry).*Version\/([\d.]+)/),l=t.match(/(BB10).*Version\/([\d.]+)/),f=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),d=t.match(/PlayBook/),m=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),v=t.match(/Firefox\/([\d.]+)/);(i.webkit=!!s)&&(i.version=s[1]),o&&(e.android=!0,e.version=o[2]),r&&(e.ios=e.iphone=!0,e.version=r[2].replace(/_/g,".")),n&&(e.ios=e.ipad=!0,e.version=n[2].replace(/_/g,".")),a&&(e.webos=!0,e.version=a[2]),u&&(e.touchpad=!0),p&&(e.blackberry=!0,e.version=p[2]),l&&(e.bb10=!0,e.version=l[2]),f&&(e.rimtabletos=!0,e.version=f[2]),d&&(i.playbook=!0),h&&(e.kindle=!0,e.version=h[1]),c&&(i.silk=!0,i.version=c[1]),!c&&e.android&&t.match(/Kindle Fire/)&&(i.silk=!0),m&&(i.chrome=!0,i.version=m[1]),v&&(i.firefox=!0,i.version=v[1]),e.tablet=!!(n||d||o&&!t.match(/Mobile/)||v&&t.match(/Tablet/)),e.phone=!e.tablet&&!!(o||r||a||p||l||m&&t.match(/Android/)||m&&t.match(/CriOS\/([\d.]+)/)||v&&t.match(/Mobile/))}e.call(t,navigator.userAgent),t.__detect=e}(Zepto),function(t){function e(t){return t._zid||(t._zid=f++)}function i(t,i,n,r){if(i=s(i),i.ns)var a=o(i.ns);return(l[e(t)]||[]).filter(function(t){return!(!t||i.e&&t.e!=i.e||i.ns&&!a.test(t.ns)||n&&e(t.fn)!==e(n)||r&&t.sel!=r)})}function s(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function o(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function n(e,i,s){"string"!=t.type(e)?t.each(e,s):e.split(/\s/).forEach(function(t){s(t,i)})}function r(t,e){return t.del&&("focus"==t.e||"blur"==t.e)||!!e}function a(t){return m[t]||t}function u(i,o,u,h,c,p){var f=e(i),d=l[f]||(l[f]=[]);n(o,u,function(e,o){var n=s(e);n.fn=o,n.sel=h,n.e in m&&(o=function(e){var i=e.relatedTarget;return!i||i!==this&&!t.contains(this,i)?n.fn.apply(this,arguments):void 0}),n.del=c&&c(o,e);var u=n.del||o;n.proxy=function(t){var e=u.apply(i,[t].concat(t.data));return e===!1&&(t.preventDefault(),t.stopPropagation()),e},n.i=d.length,d.push(n),i.addEventListener(a(n.e),n.proxy,r(n,p))})}function h(t,s,o,u,h){var c=e(t);n(s||"",o,function(e,s){i(t,e,s,u).forEach(function(e){delete l[c][e.i],t.removeEventListener(a(e.e),e.proxy,r(e,h))})})}function c(e){var i,s={originalEvent:e};for(i in e)!y.test(i)&&void 0!==e[i]&&(s[i]=e[i]);return t.each(w,function(t,i){s[t]=function(){return this[i]=v,e[t].apply(e,arguments)},s[i]=g}),s}function p(t){if(!("defaultPrevented"in t)){t.defaultPrevented=!1;var e=t.preventDefault;t.preventDefault=function(){this.defaultPrevented=!0,e.call(this)}}}var l=(t.zepto.qsa,{}),f=1,d={},m={mouseenter:"mouseover",mouseleave:"mouseout"};d.click=d.mousedown=d.mouseup=d.mousemove="MouseEvents",t.event={add:u,remove:h},t.proxy=function(i,s){if(t.isFunction(i)){var o=function(){return i.apply(s,arguments)};return o._zid=e(i),o}if("string"==typeof s)return t.proxy(i[s],i);throw new TypeError("expected function")},t.fn.bind=function(t,e){return this.each(function(){u(this,t,e)})},t.fn.unbind=function(t,e){return this.each(function(){h(this,t,e)})},t.fn.one=function(t,e){return this.each(function(i,s){u(this,t,e,null,function(t,e){return function(){var i=t.apply(s,arguments);return h(s,e,t),i}})})};var v=function(){return!0},g=function(){return!1},y=/^([A-Z]|layer[XY]$)/,w={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,i,s){return this.each(function(o,n){u(n,i,s,e,function(i){return function(s){var o,r=t(s.target).closest(e,n).get(0);return r?(o=t.extend(c(s),{currentTarget:r,liveFired:n}),i.apply(r,[o].concat([].slice.call(arguments,1)))):void 0}})})},t.fn.undelegate=function(t,e,i){return this.each(function(){h(this,e,i,t)})},t.fn.live=function(e,i){return t(document.body).delegate(this.selector,e,i),this},t.fn.die=function(e,i){return t(document.body).undelegate(this.selector,e,i),this},t.fn.on=function(e,i,s){return!i||t.isFunction(i)?this.bind(e,i||s):this.delegate(i,e,s)},t.fn.off=function(e,i,s){return!i||t.isFunction(i)?this.unbind(e,i||s):this.undelegate(i,e,s)},t.fn.trigger=function(e,i){return("string"==typeof e||t.isPlainObject(e))&&(e=t.Event(e)),p(e),e.data=i,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(e)})},t.fn.triggerHandler=function(e,s){var o,n;return this.each(function(r,a){o=c("string"==typeof e?t.Event(e):e),o.data=s,o.target=a,t.each(i(a,e.type||e),function(t,e){return n=e.proxy(o),o.isImmediatePropagationStopped()?!1:void 0})}),n},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each(function(){try{this[e]()}catch(t){}}),this}}),t.Event=function(t,e){"string"!=typeof t&&(e=t,t=e.type);var i=document.createEvent(d[t]||"Events"),s=!0;if(e)for(var o in e)"bubbles"==o?s=!!e[o]:i[o]=e[o];return i.initEvent(t,s,!0,null,null,null,null,null,null,null,null,null,null,null,null),i.isDefaultPrevented=function(){return this.defaultPrevented},i}}(Zepto),function(t){function e(e,i,s){var o=t.Event(i);return t(e).trigger(o,s),!o.defaultPrevented}function i(t,i,s,o){return t.global?e(i||y,s,o):void 0}function s(e){e.global&&0===t.active++&&i(e,null,"ajaxStart")}function o(e){e.global&&!--t.active&&i(e,null,"ajaxStop")}function n(t,e){var s=e.context;return e.beforeSend.call(s,t,e)===!1||i(e,s,"ajaxBeforeSend",[t,e])===!1?!1:(i(e,s,"ajaxSend",[t,e]),void 0)}function r(t,e,s){var o=s.context,n="success";s.success.call(o,t,n,e),i(s,o,"ajaxSuccess",[e,s,t]),u(n,e,s)}function a(t,e,s,o){var n=o.context;o.error.call(n,s,e,t),i(o,n,"ajaxError",[s,o,t]),u(e,s,o)}function u(t,e,s){var n=s.context;s.complete.call(n,e,t),i(s,n,"ajaxComplete",[e,s]),o(s)}function h(){}function c(t){return t&&(t=t.split(";",2)[0]),t&&(t==_?"html":t==x?"json":S.test(t)?"script":b.test(t)&&"xml")||"text"}function p(t,e){return(t+"&"+e).replace(/[&?]{1,2}/,"?")}function l(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),e.data&&(!e.type||"GET"==e.type.toUpperCase())&&(e.url=p(e.url,e.data))}function f(e,i,s,o){var n=!t.isFunction(i);return{url:e,data:n?i:void 0,success:n?t.isFunction(s)?s:void 0:i,dataType:n?o||s:s}}function d(e,i,s,o){var n,r=t.isArray(i);t.each(i,function(i,a){n=t.type(a),o&&(i=s?o:o+"["+(r?"":i)+"]"),!o&&r?e.add(a.name,a.value):"array"==n||!s&&"object"==n?d(e,a,s,i):e.add(i,a)})}var m,v,g=0,y=window.document,w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,S=/^(?:text|application)\/javascript/i,b=/^(?:text|application)\/xml/i,x="application/json",_="text/html",T=/^\s*$/;t.active=0,t.ajaxJSONP=function(e){if("type"in e){var i,s="jsonp"+ ++g,o=y.createElement("script"),u=function(){clearTimeout(i),t(o).remove(),delete window[s]},c=function(t){u(),t&&"timeout"!=t||(window[s]=h),a(null,t||"abort",p,e)},p={abort:c};return n(p,e)===!1?(c("abort"),!1):(window[s]=function(t){u(),r(t,p,e)},o.onerror=function(){c("error")},o.src=e.url.replace(/=\?/,"="+s),t("head").append(o),e.timeout>0&&(i=setTimeout(function(){c("timeout")},e.timeout)),p)}return t.ajax(e)},t.ajaxSettings={type:"GET",beforeSend:h,success:h,error:h,complete:h,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:x,xml:"application/xml, text/xml",html:_,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var i=t.extend({},e||{});for(m in t.ajaxSettings)void 0===i[m]&&(i[m]=t.ajaxSettings[m]);s(i),i.crossDomain||(i.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(i.url)&&RegExp.$2!=window.location.host),i.url||(i.url=window.location.toString()),l(i),i.cache===!1&&(i.url=p(i.url,"_="+Date.now()));var o=i.dataType,u=/=\?/.test(i.url);if("jsonp"==o||u)return u||(i.url=p(i.url,"callback=?")),t.ajaxJSONP(i);var f,d=i.accepts[o],g={},y=/^([\w-]+:)\/\//.test(i.url)?RegExp.$1:window.location.protocol,w=i.xhr();i.crossDomain||(g["X-Requested-With"]="XMLHttpRequest"),d&&(g.Accept=d,d.indexOf(",")>-1&&(d=d.split(",",2)[0]),w.overrideMimeType&&w.overrideMimeType(d)),(i.contentType||i.contentType!==!1&&i.data&&"GET"!=i.type.toUpperCase())&&(g["Content-Type"]=i.contentType||"application/x-www-form-urlencoded"),i.headers=t.extend(g,i.headers||{}),w.onreadystatechange=function(){if(4==w.readyState){w.onreadystatechange=h,clearTimeout(f);var e,s=!1;if(w.status>=200&&w.status<300||304==w.status||0==w.status&&"file:"==y){o=o||c(w.getResponseHeader("content-type")),e=w.responseText;try{"script"==o?(1,eval)(e):"xml"==o?e=w.responseXML:"json"==o&&(e=T.test(e)?null:t.parseJSON(e))}catch(n){s=n}s?a(s,"parsererror",w,i):r(e,w,i)}else a(null,w.status?"error":"abort",w,i)}};var S="async"in i?i.async:!0;w.open(i.type,i.url,S);for(v in i.headers)w.setRequestHeader(v,i.headers[v]);return n(w,i)===!1?(w.abort(),!1):(i.timeout>0&&(f=setTimeout(function(){w.onreadystatechange=h,w.abort(),a(null,"timeout",w,i)},i.timeout)),w.send(i.data?i.data:null),w)},t.get=function(){return t.ajax(f.apply(null,arguments))},t.post=function(){var e=f.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=f.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,i,s){if(!this.length)return this;var o,n=this,r=e.split(/\s/),a=f(e,i,s),u=a.success;return r.length>1&&(a.url=r[0],o=r[1]),a.success=function(e){n.html(o?t("<div>").html(e.replace(w,"")).find(o):e),u&&u.apply(n,arguments)},t.ajax(a),this};var O=encodeURIComponent;t.param=function(t,e){var i=[];return i.add=function(t,e){this.push(O(t)+"="+O(e))},d(i,t,e),i.join("&").replace(/%20/g,"+")}}(Zepto),function(t){t.fn.serializeArray=function(){var e,i=[];return t(Array.prototype.slice.call(this.get(0).elements)).each(function(){e=t(this);var s=e.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=s&&"reset"!=s&&"button"!=s&&("radio"!=s&&"checkbox"!=s||this.checked)&&i.push({name:e.attr("name"),value:e.val()})}),i},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var i=t.Event("submit");this.eq(0).trigger(i),i.defaultPrevented||this.get(0).submit()}return this}}(Zepto),function(t,e){function i(t){return s(t.replace(/([a-z])([A-Z])/,"$1-$2"))}function s(t){return t.toLowerCase()}function o(t){return n?n+t:s(t)}var n,r,a,u,h,c,p,l,f="",d={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},m=window.document,v=m.createElement("div"),g=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};t.each(d,function(t,i){return v.style[t+"TransitionProperty"]!==e?(f="-"+s(t)+"-",n=i,!1):void 0}),r=f+"transform",y[a=f+"transition-property"]=y[u=f+"transition-duration"]=y[h=f+"transition-timing-function"]=y[c=f+"animation-name"]=y[p=f+"animation-duration"]=y[l=f+"animation-timing-function"]="",t.fx={off:n===e&&v.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:f,transitionEnd:o("TransitionEnd"),animationEnd:o("AnimationEnd")},t.fn.animate=function(e,i,s,o){return t.isPlainObject(i)&&(s=i.easing,o=i.complete,i=i.duration),i&&(i=("number"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),this.anim(e,i,s,o)},t.fn.anim=function(s,o,n,f){var d,m,v,w={},S="",b=this,x=t.fx.transitionEnd;if(o===e&&(o=.4),t.fx.off&&(o=0),"string"==typeof s)w[c]=s,w[p]=o+"s",w[l]=n||"linear",x=t.fx.animationEnd;else{m=[];for(d in s)g.test(d)?S+=d+"("+s[d]+") ":(w[d]=s[d],m.push(i(d)));S&&(w[r]=S,m.push(r)),o>0&&"object"==typeof s&&(w[a]=m.join(", "),w[u]=o+"s",w[h]=n||"linear")}return v=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(x,v)}t(this).css(y),f&&f.call(this)},o>0&&this.bind(x,v),this.size()&&this.get(0).clientLeft,this.css(w),0>=o&&setTimeout(function(){b.each(function(){v.call(this)})},0),this},v=null}(Zepto),define("lib/zepto.min",function(){}),function(){var t=this,e=t._,i={},s=Array.prototype,o=Object.prototype,n=Function.prototype,r=s.push,a=s.slice,u=s.concat,h=o.toString,c=o.hasOwnProperty,p=s.forEach,l=s.map,f=s.reduce,d=s.reduceRight,m=s.filter,v=s.every,g=s.some,y=s.indexOf,w=s.lastIndexOf,S=Array.isArray,b=Object.keys,x=n.bind,_=function(t){return t instanceof _?t:this instanceof _?(this._wrapped=t,void 0):new _(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):t._=_,_.VERSION="1.5.2";var T=_.each=_.forEach=function(t,e,s){if(null!=t)if(p&&t.forEach===p)t.forEach(e,s);else if(t.length===+t.length){for(var o=0,n=t.length;n>o;o++)if(e.call(s,t[o],o,t)===i)return}else for(var r=_.keys(t),o=0,n=r.length;n>o;o++)if(e.call(s,t[r[o]],r[o],t)===i)return};_.map=_.collect=function(t,e,i){var s=[];return null==t?s:l&&t.map===l?t.map(e,i):(T(t,function(t,o,n){s.push(e.call(i,t,o,n))}),s)};var O="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(t,e,i,s){var o=arguments.length>2;if(null==t&&(t=[]),f&&t.reduce===f)return s&&(e=_.bind(e,s)),o?t.reduce(e,i):t.reduce(e);
if(T(t,function(t,n,r){o?i=e.call(s,i,t,n,r):(i=t,o=!0)}),!o)throw new TypeError(O);return i},_.reduceRight=_.foldr=function(t,e,i,s){var o=arguments.length>2;if(null==t&&(t=[]),d&&t.reduceRight===d)return s&&(e=_.bind(e,s)),o?t.reduceRight(e,i):t.reduceRight(e);var n=t.length;if(n!==+n){var r=_.keys(t);n=r.length}if(T(t,function(a,u,h){u=r?r[--n]:--n,o?i=e.call(s,i,t[u],u,h):(i=t[u],o=!0)}),!o)throw new TypeError(O);return i},_.find=_.detect=function(t,e,i){var s;return C(t,function(t,o,n){return e.call(i,t,o,n)?(s=t,!0):void 0}),s},_.filter=_.select=function(t,e,i){var s=[];return null==t?s:m&&t.filter===m?t.filter(e,i):(T(t,function(t,o,n){e.call(i,t,o,n)&&s.push(t)}),s)},_.reject=function(t,e,i){return _.filter(t,function(t,s,o){return!e.call(i,t,s,o)},i)},_.every=_.all=function(t,e,s){e||(e=_.identity);var o=!0;return null==t?o:v&&t.every===v?t.every(e,s):(T(t,function(t,n,r){return(o=o&&e.call(s,t,n,r))?void 0:i}),!!o)};var C=_.some=_.any=function(t,e,s){e||(e=_.identity);var o=!1;return null==t?o:g&&t.some===g?t.some(e,s):(T(t,function(t,n,r){return o||(o=e.call(s,t,n,r))?i:void 0}),!!o)};_.contains=_.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):C(t,function(t){return t===e})},_.invoke=function(t,e){var i=a.call(arguments,2),s=_.isFunction(e);return _.map(t,function(t){return(s?e:t[e]).apply(t,i)})},_.pluck=function(t,e){return _.map(t,function(t){return t[e]})},_.where=function(t,e,i){return _.isEmpty(e)?i?void 0:[]:_[i?"find":"filter"](t,function(t){for(var i in e)if(e[i]!==t[i])return!1;return!0})},_.findWhere=function(t,e){return _.where(t,e,!0)},_.max=function(t,e,i){if(!e&&_.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&_.isEmpty(t))return-1/0;var s={computed:-1/0,value:-1/0};return T(t,function(t,o,n){var r=e?e.call(i,t,o,n):t;r>s.computed&&(s={value:t,computed:r})}),s.value},_.min=function(t,e,i){if(!e&&_.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&_.isEmpty(t))return 1/0;var s={computed:1/0,value:1/0};return T(t,function(t,o,n){var r=e?e.call(i,t,o,n):t;r<s.computed&&(s={value:t,computed:r})}),s.value},_.shuffle=function(t){var e,i=0,s=[];return T(t,function(t){e=_.random(i++),s[i-1]=s[e],s[e]=t}),s},_.sample=function(t,e,i){return arguments.length<2||i?t[_.random(t.length-1)]:_.shuffle(t).slice(0,Math.max(0,e))};var E=function(t){return _.isFunction(t)?t:function(e){return e[t]}};_.sortBy=function(t,e,i){var s=E(e);return _.pluck(_.map(t,function(t,e,o){return{value:t,index:e,criteria:s.call(i,t,e,o)}}).sort(function(t,e){var i=t.criteria,s=e.criteria;if(i!==s){if(i>s||void 0===i)return 1;if(s>i||void 0===s)return-1}return t.index-e.index}),"value")};var M=function(t){return function(e,i,s){var o={},n=null==i?_.identity:E(i);return T(e,function(i,r){var a=n.call(s,i,r,e);t(o,a,i)}),o}};_.groupBy=M(function(t,e,i){(_.has(t,e)?t[e]:t[e]=[]).push(i)}),_.indexBy=M(function(t,e,i){t[e]=i}),_.countBy=M(function(t,e){_.has(t,e)?t[e]++:t[e]=1}),_.sortedIndex=function(t,e,i,s){i=null==i?_.identity:E(i);for(var o=i.call(s,e),n=0,r=t.length;r>n;){var a=n+r>>>1;i.call(s,t[a])<o?n=a+1:r=a}return n},_.toArray=function(t){return t?_.isArray(t)?a.call(t):t.length===+t.length?_.map(t,_.identity):_.values(t):[]},_.size=function(t){return null==t?0:t.length===+t.length?t.length:_.keys(t).length},_.first=_.head=_.take=function(t,e,i){return null==t?void 0:null==e||i?t[0]:a.call(t,0,e)},_.initial=function(t,e,i){return a.call(t,0,t.length-(null==e||i?1:e))},_.last=function(t,e,i){return null==t?void 0:null==e||i?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},_.rest=_.tail=_.drop=function(t,e,i){return a.call(t,null==e||i?1:e)},_.compact=function(t){return _.filter(t,_.identity)};var z=function(t,e,i){return e&&_.every(t,_.isArray)?u.apply(i,t):(T(t,function(t){_.isArray(t)||_.isArguments(t)?e?r.apply(i,t):z(t,e,i):i.push(t)}),i)};_.flatten=function(t,e){return z(t,e,[])},_.without=function(t){return _.difference(t,a.call(arguments,1))},_.uniq=_.unique=function(t,e,i,s){_.isFunction(e)&&(s=i,i=e,e=!1);var o=i?_.map(t,i,s):t,n=[],r=[];return T(o,function(i,s){(e?s&&r[r.length-1]===i:_.contains(r,i))||(r.push(i),n.push(t[s]))}),n},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(t){var e=a.call(arguments,1);return _.filter(_.uniq(t),function(t){return _.every(e,function(e){return _.indexOf(e,t)>=0})})},_.difference=function(t){var e=u.apply(s,a.call(arguments,1));return _.filter(t,function(t){return!_.contains(e,t)})},_.zip=function(){for(var t=_.max(_.pluck(arguments,"length").concat(0)),e=new Array(t),i=0;t>i;i++)e[i]=_.pluck(arguments,""+i);return e},_.object=function(t,e){if(null==t)return{};for(var i={},s=0,o=t.length;o>s;s++)e?i[t[s]]=e[s]:i[t[s][0]]=t[s][1];return i},_.indexOf=function(t,e,i){if(null==t)return-1;var s=0,o=t.length;if(i){if("number"!=typeof i)return s=_.sortedIndex(t,e),t[s]===e?s:-1;s=0>i?Math.max(0,o+i):i}if(y&&t.indexOf===y)return t.indexOf(e,i);for(;o>s;s++)if(t[s]===e)return s;return-1},_.lastIndexOf=function(t,e,i){if(null==t)return-1;var s=null!=i;if(w&&t.lastIndexOf===w)return s?t.lastIndexOf(e,i):t.lastIndexOf(e);for(var o=s?i:t.length;o--;)if(t[o]===e)return o;return-1},_.range=function(t,e,i){arguments.length<=1&&(e=t||0,t=0),i=arguments[2]||1;for(var s=Math.max(Math.ceil((e-t)/i),0),o=0,n=new Array(s);s>o;)n[o++]=t,t+=i;return n};var k=function(){};_.bind=function(t,e){var i,s;if(x&&t.bind===x)return x.apply(t,a.call(arguments,1));if(!_.isFunction(t))throw new TypeError;return i=a.call(arguments,2),s=function(){if(!(this instanceof s))return t.apply(e,i.concat(a.call(arguments)));k.prototype=t.prototype;var o=new k;k.prototype=null;var n=t.apply(o,i.concat(a.call(arguments)));return Object(n)===n?n:o}},_.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},_.bindAll=function(t){var e=a.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return T(e,function(e){t[e]=_.bind(t[e],t)}),t},_.memoize=function(t,e){var i={};return e||(e=_.identity),function(){var s=e.apply(this,arguments);return _.has(i,s)?i[s]:i[s]=t.apply(this,arguments)}},_.delay=function(t,e){var i=a.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},_.defer=function(t){return _.delay.apply(_,[t,1].concat(a.call(arguments,1)))},_.throttle=function(t,e,i){var s,o,n,r=null,a=0;i||(i={});var u=function(){a=i.leading===!1?0:new Date,r=null,n=t.apply(s,o)};return function(){var h=new Date;a||i.leading!==!1||(a=h);var c=e-(h-a);return s=this,o=arguments,0>=c?(clearTimeout(r),r=null,a=h,n=t.apply(s,o)):r||i.trailing===!1||(r=setTimeout(u,c)),n}},_.debounce=function(t,e,i){var s,o,n,r,a;return function(){n=this,o=arguments,r=new Date;var u=function(){var h=new Date-r;e>h?s=setTimeout(u,e-h):(s=null,i||(a=t.apply(n,o)))},h=i&&!s;return s||(s=setTimeout(u,e)),h&&(a=t.apply(n,o)),a}},_.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments),t=null,e)}},_.wrap=function(t,e){return function(){var i=[t];return r.apply(i,arguments),e.apply(this,i)}},_.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},_.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},_.keys=b||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)_.has(t,i)&&e.push(i);return e},_.values=function(t){for(var e=_.keys(t),i=e.length,s=new Array(i),o=0;i>o;o++)s[o]=t[e[o]];return s},_.pairs=function(t){for(var e=_.keys(t),i=e.length,s=new Array(i),o=0;i>o;o++)s[o]=[e[o],t[e[o]]];return s},_.invert=function(t){for(var e={},i=_.keys(t),s=0,o=i.length;o>s;s++)e[t[i[s]]]=i[s];return e},_.functions=_.methods=function(t){var e=[];for(var i in t)_.isFunction(t[i])&&e.push(i);return e.sort()},_.extend=function(t){return T(a.call(arguments,1),function(e){if(e)for(var i in e)t[i]=e[i]}),t},_.pick=function(t){var e={},i=u.apply(s,a.call(arguments,1));return T(i,function(i){i in t&&(e[i]=t[i])}),e},_.omit=function(t){var e={},i=u.apply(s,a.call(arguments,1));for(var o in t)_.contains(i,o)||(e[o]=t[o]);return e},_.defaults=function(t){return T(a.call(arguments,1),function(e){if(e)for(var i in e)void 0===t[i]&&(t[i]=e[i])}),t},_.clone=function(t){return _.isObject(t)?_.isArray(t)?t.slice():_.extend({},t):t},_.tap=function(t,e){return e(t),t};var I=function(t,e,i,s){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof _&&(t=t._wrapped),e instanceof _&&(e=e._wrapped);var o=h.call(t);if(o!=h.call(e))return!1;switch(o){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var n=i.length;n--;)if(i[n]==t)return s[n]==e;var r=t.constructor,a=e.constructor;if(r!==a&&!(_.isFunction(r)&&r instanceof r&&_.isFunction(a)&&a instanceof a))return!1;i.push(t),s.push(e);var u=0,c=!0;if("[object Array]"==o){if(u=t.length,c=u==e.length)for(;u--&&(c=I(t[u],e[u],i,s)););}else{for(var p in t)if(_.has(t,p)&&(u++,!(c=_.has(e,p)&&I(t[p],e[p],i,s))))break;if(c){for(p in e)if(_.has(e,p)&&!u--)break;c=!u}}return i.pop(),s.pop(),c};_.isEqual=function(t,e){return I(t,e,[],[])},_.isEmpty=function(t){if(null==t)return!0;if(_.isArray(t)||_.isString(t))return 0===t.length;for(var e in t)if(_.has(t,e))return!1;return!0},_.isElement=function(t){return!(!t||1!==t.nodeType)},_.isArray=S||function(t){return"[object Array]"==h.call(t)},_.isObject=function(t){return t===Object(t)},T(["Arguments","Function","String","Number","Date","RegExp"],function(t){_["is"+t]=function(e){return h.call(e)=="[object "+t+"]"}}),_.isArguments(arguments)||(_.isArguments=function(t){return!(!t||!_.has(t,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(t){return"function"==typeof t}),_.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},_.isNaN=function(t){return _.isNumber(t)&&t!=+t},_.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==h.call(t)},_.isNull=function(t){return null===t},_.isUndefined=function(t){return void 0===t},_.has=function(t,e){return c.call(t,e)},_.noConflict=function(){return t._=e,this},_.identity=function(t){return t},_.times=function(t,e,i){for(var s=Array(Math.max(0,t)),o=0;t>o;o++)s[o]=e.call(i,o);return s},_.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=_.invert(P.escape);var F={escape:new RegExp("["+_.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(P.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(t){_[t]=function(e){return null==e?"":(""+e).replace(F[t],function(e){return P[t][e]})}}),_.result=function(t,e){if(null==t)return void 0;var i=t[e];return _.isFunction(i)?i.call(t):i},_.mixin=function(t){T(_.functions(t),function(e){var i=_[e]=t[e];_.prototype[e]=function(){var t=[this._wrapped];return r.apply(t,arguments),L.call(this,i.apply(_,t))}})};var A=0;_.uniqueId=function(t){var e=++A+"";return t?t+e:e},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(t,e,i){var s;i=_.defaults({},i,_.templateSettings);var o=new RegExp([(i.escape||N).source,(i.interpolate||N).source,(i.evaluate||N).source].join("|")+"|$","g"),n=0,r="__p+='";t.replace(o,function(e,i,s,o,a){return r+=t.slice(n,a).replace(D,function(t){return"\\"+R[t]}),i&&(r+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),s&&(r+="'+\n((__t=("+s+"))==null?'':__t)+\n'"),o&&(r+="';\n"+o+"\n__p+='"),n=a+e.length,e}),r+="';\n",i.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{s=new Function(i.variable||"obj","_",r)}catch(a){throw a.source=r,a}if(e)return s(e,_);var u=function(t){return s.call(this,t,_)};return u.source="function("+(i.variable||"obj")+"){\n"+r+"}",u},_.chain=function(t){return _(t).chain()};var L=function(t){return this._chain?_(t).chain():t};_.mixin(_),T(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];_.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!=t&&"splice"!=t||0!==i.length||delete i[0],L.call(this,i)}}),T(["concat","join","slice"],function(t){var e=s[t];_.prototype[t]=function(){return L.call(this,e.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("../bower_components/underscore/underscore-min",function(){}),function(){{var t,e=this,i=e.Backbone,s=[],o=(s.push,s.slice);s.splice}t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="1.1.0";var n=e._;n||"undefined"==typeof require||(n=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender||e.$,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var r=t.Events={on:function(t,e,i){if(!u(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var s=this._events[t]||(this._events[t]=[]);return s.push({callback:e,context:i,ctx:i||this}),this},once:function(t,e,i){if(!u(this,"once",t,[e,i])||!e)return this;var s=this,o=n.once(function(){s.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,i)},off:function(t,e,i){var s,o,r,a,h,c,p,l;if(!this._events||!u(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events={},this;for(a=t?[t]:n.keys(this._events),h=0,c=a.length;c>h;h++)if(t=a[h],r=this._events[t]){if(this._events[t]=s=[],e||i)for(p=0,l=r.length;l>p;p++)o=r[p],(e&&e!==o.callback&&e!==o.callback._callback||i&&i!==o.context)&&s.push(o);s.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!u(this,"trigger",t,e))return this;var i=this._events[t],s=this._events.all;return i&&h(i,e),s&&h(s,arguments),this},stopListening:function(t,e,i){var s=this._listeningTo;if(!s)return this;var o=!e&&!i;i||"object"!=typeof e||(i=this),t&&((s={})[t._listenId]=t);for(var r in s)t=s[r],t.off(e,i,this),(o||n.isEmpty(t._events))&&delete this._listeningTo[r];return this}},a=/\s+/,u=function(t,e,i,s){if(!i)return!0;if("object"==typeof i){for(var o in i)t[e].apply(t,[o,i[o]].concat(s));return!1}if(a.test(i)){for(var n=i.split(a),r=0,u=n.length;u>r;r++)t[e].apply(t,[n[r]].concat(s));return!1}return!0},h=function(t,e){var i,s=-1,o=t.length,n=e[0],r=e[1],a=e[2];switch(e.length){case 0:for(;++s<o;)(i=t[s]).callback.call(i.ctx);return;case 1:for(;++s<o;)(i=t[s]).callback.call(i.ctx,n);return;case 2:for(;++s<o;)(i=t[s]).callback.call(i.ctx,n,r);return;case 3:for(;++s<o;)(i=t[s]).callback.call(i.ctx,n,r,a);return;default:for(;++s<o;)(i=t[s]).callback.apply(i.ctx,e)}},c={listenTo:"on",listenToOnce:"once"};n.each(c,function(t,e){r[e]=function(e,i,s){var o=this._listeningTo||(this._listeningTo={}),r=e._listenId||(e._listenId=n.uniqueId("l"));return o[r]=e,s||"object"!=typeof i||(s=this),e[t](i,s,this),this}}),r.bind=r.on,r.unbind=r.off,n.extend(t,r);var p=t.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(p.prototype,r,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var s,o,r,a,u,h,c,p;if(null==t)return this;if("object"==typeof t?(o=t,i=e):(o={})[t]=e,i||(i={}),!this._validate(o,i))return!1;r=i.unset,u=i.silent,a=[],h=this._changing,this._changing=!0,h||(this._previousAttributes=n.clone(this.attributes),this.changed={}),p=this.attributes,c=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(s in o)e=o[s],n.isEqual(p[s],e)||a.push(s),n.isEqual(c[s],e)?delete this.changed[s]:this.changed[s]=e,r?delete p[s]:p[s]=e;if(!u){a.length&&(this._pending=!0);for(var l=0,f=a.length;f>l;l++)this.trigger("change:"+a[l],this,p[a[l]],i)}if(h)return this;if(!u)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,i=!1,s=this._changing?this._previousAttributes:this.attributes;for(var o in t)n.isEqual(s[o],e=t[o])||((i||(i={}))[o]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(s){return e.set(e.parse(s,t),t)?(i&&i(e,s,t),e.trigger("sync",e,s,t),void 0):!1},R(this,t),this.sync("read",this,t)},save:function(t,e,i){var s,o,r,a=this.attributes;if(null==t||"object"==typeof t?(s=t,i=e):(s={})[t]=e,i=n.extend({validate:!0},i),s&&!i.wait){if(!this.set(s,i))return!1}else if(!this._validate(s,i))return!1;s&&i.wait&&(this.attributes=n.extend({},a,s)),void 0===i.parse&&(i.parse=!0);var u=this,h=i.success;return i.success=function(t){u.attributes=a;var e=u.parse(t,i);return i.wait&&(e=n.extend(s||{},e)),n.isObject(e)&&!u.set(e,i)?!1:(h&&h(u,t,i),u.trigger("sync",u,t,i),void 0)},R(this,i),o=this.isNew()?"create":i.patch?"patch":"update","patch"===o&&(i.attrs=s),r=this.sync(o,this,i),s&&i.wait&&(this.attributes=a),r},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,s=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(o){(t.wait||e.isNew())&&s(),i&&i(e,o,t),e.isNew()||e.trigger("sync",e,o,t)},this.isNew())return t.success(),!1;R(this,t);var o=this.sync("delete",this,t);return t.wait||s(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||N();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1):!0}});var l=["keys","values","pairs","invert","pick","omit"];n.each(l,function(t){p.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}});var f=t.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},d={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};n.extend(f.prototype,r,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,m))},remove:function(t,e){var i=!n.isArray(t);t=i?[t]:n.clone(t),e||(e={});var s,o,r,a;for(s=0,o=t.length;o>s;s++)a=t[s]=this.get(t[s]),a&&(delete this._byId[a.id],delete this._byId[a.cid],r=this.indexOf(a),this.models.splice(r,1),this.length--,e.silent||(e.index=r,a.trigger("remove",a,this,e)),this._removeReference(a));return i?t[0]:t},set:function(t,e){e=n.defaults({},e,d),e.parse&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?t?[t]:[]:n.clone(t);var s,o,r,a,u,h,c,l=e.at,f=this.model,m=this.comparator&&null==l&&e.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,g=[],y=[],w={},S=e.add,b=e.merge,x=e.remove,_=!m&&S&&x?[]:!1;for(s=0,o=t.length;o>s;s++){if(u=t[s],r=u instanceof p?a=u:u[f.prototype.idAttribute],h=this.get(r))x&&(w[h.cid]=!0),b&&(u=u===a?a.attributes:u,e.parse&&(u=h.parse(u,e)),h.set(u,e),m&&!c&&h.hasChanged(v)&&(c=!0)),t[s]=h;else if(S){if(a=t[s]=this._prepareModel(u,e),!a)continue;g.push(a),a.on("all",this._onModelEvent,this),this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a)}_&&_.push(h||a)}if(x){for(s=0,o=this.length;o>s;++s)w[(a=this.models[s]).cid]||y.push(a);y.length&&this.remove(y,e)}if(g.length||_&&_.length)if(m&&(c=!0),this.length+=g.length,null!=l)for(s=0,o=g.length;o>s;s++)this.models.splice(l+s,0,g[s]);else{_&&(this.models.length=0);var T=_||g;for(s=0,o=T.length;o>s;s++)this.models.push(T[s])}if(c&&this.sort({silent:!0}),!e.silent){for(s=0,o=g.length;o>s;s++)(a=g[s]).trigger("add",a,this,e);(c||_&&_.length)&&this.trigger("sort",this,e)}return i?t[0]:t},reset:function(t,e){e||(e={});for(var i=0,s=this.models.length;s>i;i++)this._removeReference(this.models[i]);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return o.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t.id]||this._byId[t.cid]||this._byId[t]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(s){var o=t.reset?"reset":"set";i[o](s,t),e&&e(i,s,t),i.trigger("sync",i,s,t)},R(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,s=e.success;return e.success=function(t,e,o){o.wait&&i.add(t,o),s&&s(t,e,o)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,s){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,s),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];n.each(v,function(t){f.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var g=["groupBy","countBy","sortBy"];n.each(g,function(t){f.prototype[t]=function(e,i){var s=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,s,i)}});var y=t.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,S)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];n.extend(y.prototype,r,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,i){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[t[e]]),i){var s=e.match(w),o=s[1],r=s[2];i=n.bind(i,this),o+=".delegateEvents"+this.cid,""===r?this.$el.on(o,i):this.$el.on(o,r,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var i=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,s){var o=x[e];n.defaults(s||(s={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var r={type:o,dataType:"json"};if(s.url||(r.url=n.result(i,"url")||N()),null!=s.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(r.contentType="application/json",r.data=JSON.stringify(s.attrs||i.toJSON(s))),s.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),s.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){r.type="POST",s.emulateJSON&&(r.data._method=o);var a=s.beforeSend;s.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),a?a.apply(this,arguments):void 0}}"GET"===r.type||s.emulateJSON||(r.processData=!1),"PATCH"===r.type&&b&&(r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=s.xhr=t.ajax(n.extend(r,s));return i.trigger("request",i,u,s),u};var b=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var _=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,O=/(\(\?)?:\w+/g,C=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(_.prototype,r,{initialize:function(){},route:function(e,i,s){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(s=i,i=""),s||(s=this[i]);var o=this;return t.history.route(e,function(n){var r=o._extractParameters(e,n);s&&s.apply(o,r),o.trigger.apply(o,["route:"+i].concat(r)),o.trigger("route",i,r),t.history.trigger("route",o,i,r)}),this},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(E,"\\$&").replace(T,"(?:$1)?").replace(O,function(t,e){return e?t:"([^/]+)"}).replace(C,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t){return t?decodeURIComponent(t):null})}});var M=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},z=/^[#\/]|\s+$/g,k=/^\/+|\/+$/g,I=/msie [\w.]+/,P=/\/$/,F=/[?#].*$/;M.started=!1,n.extend(M.prototype,r,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var i=this.root.replace(P,"");t.indexOf(i)||(t=t.slice(i.length))}else t=this.getHash();return t.replace(z,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),s=document.documentMode,o=I.exec(navigator.userAgent.toLowerCase())&&(!s||7>=s);this.root=("/"+this.root+"/").replace(k,"/"),o&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(i)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var r=this.location,a=r.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!a)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&a&&r.hash&&(this.fragment=this.getHash().replace(z,""),this.history.replaceState({},document.title,this.root+this.fragment+r.search))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),M.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl(),void 0)},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!M.started)return!1;e&&e!==!0||(e={trigger:!!e});var i=this.root+(t=this.getFragment(t||""));if(t=t.replace(F,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var s=t.href.replace(/(javascript:|#).*$/,"");t.replace(s+"#"+e)}else t.hash="#"+e}}),t.history=new M;var A=function(t,e){var i,s=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},n.extend(i,s,e);var o=function(){this.constructor=i};return o.prototype=s.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=s.prototype,i};p.extend=f.extend=_.extend=y.extend=M.extend=A;var N=function(){throw new Error('A "url" property or function must be specified')},R=function(t,e){var i=e.error;e.error=function(s){i&&i(t,s,e),t.trigger("error",t,s,e)}}}.call(this),define("../bower_components/backbone/backbone-min",function(){}),function(){var t=this,e=t._,i={},s=Array.prototype,o=Object.prototype,n=Function.prototype,r=s.push,a=s.slice,u=s.concat,h=o.toString,c=o.hasOwnProperty,p=s.forEach,l=s.map,f=s.reduce,d=s.reduceRight,m=s.filter,v=s.every,g=s.some,y=s.indexOf,w=s.lastIndexOf,S=Array.isArray,b=Object.keys,x=n.bind,_=function(t){return t instanceof _?t:this instanceof _?(this._wrapped=t,void 0):new _(t)
};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):t._=_,_.VERSION="1.5.2";var T=_.each=_.forEach=function(t,e,s){if(null!=t)if(p&&t.forEach===p)t.forEach(e,s);else if(t.length===+t.length){for(var o=0,n=t.length;n>o;o++)if(e.call(s,t[o],o,t)===i)return}else for(var r=_.keys(t),o=0,n=r.length;n>o;o++)if(e.call(s,t[r[o]],r[o],t)===i)return};_.map=_.collect=function(t,e,i){var s=[];return null==t?s:l&&t.map===l?t.map(e,i):(T(t,function(t,o,n){s.push(e.call(i,t,o,n))}),s)};var O="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(t,e,i,s){var o=arguments.length>2;if(null==t&&(t=[]),f&&t.reduce===f)return s&&(e=_.bind(e,s)),o?t.reduce(e,i):t.reduce(e);if(T(t,function(t,n,r){o?i=e.call(s,i,t,n,r):(i=t,o=!0)}),!o)throw new TypeError(O);return i},_.reduceRight=_.foldr=function(t,e,i,s){var o=arguments.length>2;if(null==t&&(t=[]),d&&t.reduceRight===d)return s&&(e=_.bind(e,s)),o?t.reduceRight(e,i):t.reduceRight(e);var n=t.length;if(n!==+n){var r=_.keys(t);n=r.length}if(T(t,function(a,u,h){u=r?r[--n]:--n,o?i=e.call(s,i,t[u],u,h):(i=t[u],o=!0)}),!o)throw new TypeError(O);return i},_.find=_.detect=function(t,e,i){var s;return C(t,function(t,o,n){return e.call(i,t,o,n)?(s=t,!0):void 0}),s},_.filter=_.select=function(t,e,i){var s=[];return null==t?s:m&&t.filter===m?t.filter(e,i):(T(t,function(t,o,n){e.call(i,t,o,n)&&s.push(t)}),s)},_.reject=function(t,e,i){return _.filter(t,function(t,s,o){return!e.call(i,t,s,o)},i)},_.every=_.all=function(t,e,s){e||(e=_.identity);var o=!0;return null==t?o:v&&t.every===v?t.every(e,s):(T(t,function(t,n,r){return(o=o&&e.call(s,t,n,r))?void 0:i}),!!o)};var C=_.some=_.any=function(t,e,s){e||(e=_.identity);var o=!1;return null==t?o:g&&t.some===g?t.some(e,s):(T(t,function(t,n,r){return o||(o=e.call(s,t,n,r))?i:void 0}),!!o)};_.contains=_.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):C(t,function(t){return t===e})},_.invoke=function(t,e){var i=a.call(arguments,2),s=_.isFunction(e);return _.map(t,function(t){return(s?e:t[e]).apply(t,i)})},_.pluck=function(t,e){return _.map(t,function(t){return t[e]})},_.where=function(t,e,i){return _.isEmpty(e)?i?void 0:[]:_[i?"find":"filter"](t,function(t){for(var i in e)if(e[i]!==t[i])return!1;return!0})},_.findWhere=function(t,e){return _.where(t,e,!0)},_.max=function(t,e,i){if(!e&&_.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&_.isEmpty(t))return-1/0;var s={computed:-1/0,value:-1/0};return T(t,function(t,o,n){var r=e?e.call(i,t,o,n):t;r>s.computed&&(s={value:t,computed:r})}),s.value},_.min=function(t,e,i){if(!e&&_.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&_.isEmpty(t))return 1/0;var s={computed:1/0,value:1/0};return T(t,function(t,o,n){var r=e?e.call(i,t,o,n):t;r<s.computed&&(s={value:t,computed:r})}),s.value},_.shuffle=function(t){var e,i=0,s=[];return T(t,function(t){e=_.random(i++),s[i-1]=s[e],s[e]=t}),s},_.sample=function(t,e,i){return arguments.length<2||i?t[_.random(t.length-1)]:_.shuffle(t).slice(0,Math.max(0,e))};var E=function(t){return _.isFunction(t)?t:function(e){return e[t]}};_.sortBy=function(t,e,i){var s=E(e);return _.pluck(_.map(t,function(t,e,o){return{value:t,index:e,criteria:s.call(i,t,e,o)}}).sort(function(t,e){var i=t.criteria,s=e.criteria;if(i!==s){if(i>s||void 0===i)return 1;if(s>i||void 0===s)return-1}return t.index-e.index}),"value")};var M=function(t){return function(e,i,s){var o={},n=null==i?_.identity:E(i);return T(e,function(i,r){var a=n.call(s,i,r,e);t(o,a,i)}),o}};_.groupBy=M(function(t,e,i){(_.has(t,e)?t[e]:t[e]=[]).push(i)}),_.indexBy=M(function(t,e,i){t[e]=i}),_.countBy=M(function(t,e){_.has(t,e)?t[e]++:t[e]=1}),_.sortedIndex=function(t,e,i,s){i=null==i?_.identity:E(i);for(var o=i.call(s,e),n=0,r=t.length;r>n;){var a=n+r>>>1;i.call(s,t[a])<o?n=a+1:r=a}return n},_.toArray=function(t){return t?_.isArray(t)?a.call(t):t.length===+t.length?_.map(t,_.identity):_.values(t):[]},_.size=function(t){return null==t?0:t.length===+t.length?t.length:_.keys(t).length},_.first=_.head=_.take=function(t,e,i){return null==t?void 0:null==e||i?t[0]:a.call(t,0,e)},_.initial=function(t,e,i){return a.call(t,0,t.length-(null==e||i?1:e))},_.last=function(t,e,i){return null==t?void 0:null==e||i?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},_.rest=_.tail=_.drop=function(t,e,i){return a.call(t,null==e||i?1:e)},_.compact=function(t){return _.filter(t,_.identity)};var z=function(t,e,i){return e&&_.every(t,_.isArray)?u.apply(i,t):(T(t,function(t){_.isArray(t)||_.isArguments(t)?e?r.apply(i,t):z(t,e,i):i.push(t)}),i)};_.flatten=function(t,e){return z(t,e,[])},_.without=function(t){return _.difference(t,a.call(arguments,1))},_.uniq=_.unique=function(t,e,i,s){_.isFunction(e)&&(s=i,i=e,e=!1);var o=i?_.map(t,i,s):t,n=[],r=[];return T(o,function(i,s){(e?s&&r[r.length-1]===i:_.contains(r,i))||(r.push(i),n.push(t[s]))}),n},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(t){var e=a.call(arguments,1);return _.filter(_.uniq(t),function(t){return _.every(e,function(e){return _.indexOf(e,t)>=0})})},_.difference=function(t){var e=u.apply(s,a.call(arguments,1));return _.filter(t,function(t){return!_.contains(e,t)})},_.zip=function(){for(var t=_.max(_.pluck(arguments,"length").concat(0)),e=new Array(t),i=0;t>i;i++)e[i]=_.pluck(arguments,""+i);return e},_.object=function(t,e){if(null==t)return{};for(var i={},s=0,o=t.length;o>s;s++)e?i[t[s]]=e[s]:i[t[s][0]]=t[s][1];return i},_.indexOf=function(t,e,i){if(null==t)return-1;var s=0,o=t.length;if(i){if("number"!=typeof i)return s=_.sortedIndex(t,e),t[s]===e?s:-1;s=0>i?Math.max(0,o+i):i}if(y&&t.indexOf===y)return t.indexOf(e,i);for(;o>s;s++)if(t[s]===e)return s;return-1},_.lastIndexOf=function(t,e,i){if(null==t)return-1;var s=null!=i;if(w&&t.lastIndexOf===w)return s?t.lastIndexOf(e,i):t.lastIndexOf(e);for(var o=s?i:t.length;o--;)if(t[o]===e)return o;return-1},_.range=function(t,e,i){arguments.length<=1&&(e=t||0,t=0),i=arguments[2]||1;for(var s=Math.max(Math.ceil((e-t)/i),0),o=0,n=new Array(s);s>o;)n[o++]=t,t+=i;return n};var k=function(){};_.bind=function(t,e){var i,s;if(x&&t.bind===x)return x.apply(t,a.call(arguments,1));if(!_.isFunction(t))throw new TypeError;return i=a.call(arguments,2),s=function(){if(!(this instanceof s))return t.apply(e,i.concat(a.call(arguments)));k.prototype=t.prototype;var o=new k;k.prototype=null;var n=t.apply(o,i.concat(a.call(arguments)));return Object(n)===n?n:o}},_.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},_.bindAll=function(t){var e=a.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return T(e,function(e){t[e]=_.bind(t[e],t)}),t},_.memoize=function(t,e){var i={};return e||(e=_.identity),function(){var s=e.apply(this,arguments);return _.has(i,s)?i[s]:i[s]=t.apply(this,arguments)}},_.delay=function(t,e){var i=a.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},_.defer=function(t){return _.delay.apply(_,[t,1].concat(a.call(arguments,1)))},_.throttle=function(t,e,i){var s,o,n,r=null,a=0;i||(i={});var u=function(){a=i.leading===!1?0:new Date,r=null,n=t.apply(s,o)};return function(){var h=new Date;a||i.leading!==!1||(a=h);var c=e-(h-a);return s=this,o=arguments,0>=c?(clearTimeout(r),r=null,a=h,n=t.apply(s,o)):r||i.trailing===!1||(r=setTimeout(u,c)),n}},_.debounce=function(t,e,i){var s,o,n,r,a;return function(){n=this,o=arguments,r=new Date;var u=function(){var h=new Date-r;e>h?s=setTimeout(u,e-h):(s=null,i||(a=t.apply(n,o)))},h=i&&!s;return s||(s=setTimeout(u,e)),h&&(a=t.apply(n,o)),a}},_.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments),t=null,e)}},_.wrap=function(t,e){return function(){var i=[t];return r.apply(i,arguments),e.apply(this,i)}},_.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},_.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},_.keys=b||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)_.has(t,i)&&e.push(i);return e},_.values=function(t){for(var e=_.keys(t),i=e.length,s=new Array(i),o=0;i>o;o++)s[o]=t[e[o]];return s},_.pairs=function(t){for(var e=_.keys(t),i=e.length,s=new Array(i),o=0;i>o;o++)s[o]=[e[o],t[e[o]]];return s},_.invert=function(t){for(var e={},i=_.keys(t),s=0,o=i.length;o>s;s++)e[t[i[s]]]=i[s];return e},_.functions=_.methods=function(t){var e=[];for(var i in t)_.isFunction(t[i])&&e.push(i);return e.sort()},_.extend=function(t){return T(a.call(arguments,1),function(e){if(e)for(var i in e)t[i]=e[i]}),t},_.pick=function(t){var e={},i=u.apply(s,a.call(arguments,1));return T(i,function(i){i in t&&(e[i]=t[i])}),e},_.omit=function(t){var e={},i=u.apply(s,a.call(arguments,1));for(var o in t)_.contains(i,o)||(e[o]=t[o]);return e},_.defaults=function(t){return T(a.call(arguments,1),function(e){if(e)for(var i in e)void 0===t[i]&&(t[i]=e[i])}),t},_.clone=function(t){return _.isObject(t)?_.isArray(t)?t.slice():_.extend({},t):t},_.tap=function(t,e){return e(t),t};var I=function(t,e,i,s){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof _&&(t=t._wrapped),e instanceof _&&(e=e._wrapped);var o=h.call(t);if(o!=h.call(e))return!1;switch(o){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var n=i.length;n--;)if(i[n]==t)return s[n]==e;var r=t.constructor,a=e.constructor;if(r!==a&&!(_.isFunction(r)&&r instanceof r&&_.isFunction(a)&&a instanceof a))return!1;i.push(t),s.push(e);var u=0,c=!0;if("[object Array]"==o){if(u=t.length,c=u==e.length)for(;u--&&(c=I(t[u],e[u],i,s)););}else{for(var p in t)if(_.has(t,p)&&(u++,!(c=_.has(e,p)&&I(t[p],e[p],i,s))))break;if(c){for(p in e)if(_.has(e,p)&&!u--)break;c=!u}}return i.pop(),s.pop(),c};_.isEqual=function(t,e){return I(t,e,[],[])},_.isEmpty=function(t){if(null==t)return!0;if(_.isArray(t)||_.isString(t))return 0===t.length;for(var e in t)if(_.has(t,e))return!1;return!0},_.isElement=function(t){return!(!t||1!==t.nodeType)},_.isArray=S||function(t){return"[object Array]"==h.call(t)},_.isObject=function(t){return t===Object(t)},T(["Arguments","Function","String","Number","Date","RegExp"],function(t){_["is"+t]=function(e){return h.call(e)=="[object "+t+"]"}}),_.isArguments(arguments)||(_.isArguments=function(t){return!(!t||!_.has(t,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(t){return"function"==typeof t}),_.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},_.isNaN=function(t){return _.isNumber(t)&&t!=+t},_.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==h.call(t)},_.isNull=function(t){return null===t},_.isUndefined=function(t){return void 0===t},_.has=function(t,e){return c.call(t,e)},_.noConflict=function(){return t._=e,this},_.identity=function(t){return t},_.times=function(t,e,i){for(var s=Array(Math.max(0,t)),o=0;t>o;o++)s[o]=e.call(i,o);return s},_.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=_.invert(P.escape);var F={escape:new RegExp("["+_.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(P.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(t){_[t]=function(e){return null==e?"":(""+e).replace(F[t],function(e){return P[t][e]})}}),_.result=function(t,e){if(null==t)return void 0;var i=t[e];return _.isFunction(i)?i.call(t):i},_.mixin=function(t){T(_.functions(t),function(e){var i=_[e]=t[e];_.prototype[e]=function(){var t=[this._wrapped];return r.apply(t,arguments),L.call(this,i.apply(_,t))}})};var A=0;_.uniqueId=function(t){var e=++A+"";return t?t+e:e},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(t,e,i){var s;i=_.defaults({},i,_.templateSettings);var o=new RegExp([(i.escape||N).source,(i.interpolate||N).source,(i.evaluate||N).source].join("|")+"|$","g"),n=0,r="__p+='";t.replace(o,function(e,i,s,o,a){return r+=t.slice(n,a).replace(D,function(t){return"\\"+R[t]}),i&&(r+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),s&&(r+="'+\n((__t=("+s+"))==null?'':__t)+\n'"),o&&(r+="';\n"+o+"\n__p+='"),n=a+e.length,e}),r+="';\n",i.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{s=new Function(i.variable||"obj","_",r)}catch(a){throw a.source=r,a}if(e)return s(e,_);var u=function(t){return s.call(this,t,_)};return u.source="function("+(i.variable||"obj")+"){\n"+r+"}",u},_.chain=function(t){return _(t).chain()};var L=function(t){return this._chain?_(t).chain():t};_.mixin(_),T(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];_.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!=t&&"splice"!=t||0!==i.length||delete i[0],L.call(this,i)}}),T(["concat","join","slice"],function(t){var e=s[t];_.prototype[t]=function(){return L.call(this,e.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("lib/../../bower_components/underscore/underscore-min",function(){}),function(){{var t,e=this,i=e.Backbone,s=[],o=(s.push,s.slice);s.splice}t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="1.1.0";var n=e._;n||"undefined"==typeof require||(n=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender||e.$,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var r=t.Events={on:function(t,e,i){if(!u(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var s=this._events[t]||(this._events[t]=[]);return s.push({callback:e,context:i,ctx:i||this}),this},once:function(t,e,i){if(!u(this,"once",t,[e,i])||!e)return this;var s=this,o=n.once(function(){s.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,i)},off:function(t,e,i){var s,o,r,a,h,c,p,l;if(!this._events||!u(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events={},this;for(a=t?[t]:n.keys(this._events),h=0,c=a.length;c>h;h++)if(t=a[h],r=this._events[t]){if(this._events[t]=s=[],e||i)for(p=0,l=r.length;l>p;p++)o=r[p],(e&&e!==o.callback&&e!==o.callback._callback||i&&i!==o.context)&&s.push(o);s.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!u(this,"trigger",t,e))return this;var i=this._events[t],s=this._events.all;return i&&h(i,e),s&&h(s,arguments),this},stopListening:function(t,e,i){var s=this._listeningTo;if(!s)return this;var o=!e&&!i;i||"object"!=typeof e||(i=this),t&&((s={})[t._listenId]=t);for(var r in s)t=s[r],t.off(e,i,this),(o||n.isEmpty(t._events))&&delete this._listeningTo[r];return this}},a=/\s+/,u=function(t,e,i,s){if(!i)return!0;if("object"==typeof i){for(var o in i)t[e].apply(t,[o,i[o]].concat(s));return!1}if(a.test(i)){for(var n=i.split(a),r=0,u=n.length;u>r;r++)t[e].apply(t,[n[r]].concat(s));return!1}return!0},h=function(t,e){var i,s=-1,o=t.length,n=e[0],r=e[1],a=e[2];switch(e.length){case 0:for(;++s<o;)(i=t[s]).callback.call(i.ctx);return;case 1:for(;++s<o;)(i=t[s]).callback.call(i.ctx,n);return;case 2:for(;++s<o;)(i=t[s]).callback.call(i.ctx,n,r);return;case 3:for(;++s<o;)(i=t[s]).callback.call(i.ctx,n,r,a);return;default:for(;++s<o;)(i=t[s]).callback.apply(i.ctx,e)}},c={listenTo:"on",listenToOnce:"once"};n.each(c,function(t,e){r[e]=function(e,i,s){var o=this._listeningTo||(this._listeningTo={}),r=e._listenId||(e._listenId=n.uniqueId("l"));return o[r]=e,s||"object"!=typeof i||(s=this),e[t](i,s,this),this}}),r.bind=r.on,r.unbind=r.off,n.extend(t,r);var p=t.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(p.prototype,r,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var s,o,r,a,u,h,c,p;if(null==t)return this;if("object"==typeof t?(o=t,i=e):(o={})[t]=e,i||(i={}),!this._validate(o,i))return!1;r=i.unset,u=i.silent,a=[],h=this._changing,this._changing=!0,h||(this._previousAttributes=n.clone(this.attributes),this.changed={}),p=this.attributes,c=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(s in o)e=o[s],n.isEqual(p[s],e)||a.push(s),n.isEqual(c[s],e)?delete this.changed[s]:this.changed[s]=e,r?delete p[s]:p[s]=e;if(!u){a.length&&(this._pending=!0);for(var l=0,f=a.length;f>l;l++)this.trigger("change:"+a[l],this,p[a[l]],i)}if(h)return this;if(!u)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,i=!1,s=this._changing?this._previousAttributes:this.attributes;for(var o in t)n.isEqual(s[o],e=t[o])||((i||(i={}))[o]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(s){return e.set(e.parse(s,t),t)?(i&&i(e,s,t),e.trigger("sync",e,s,t),void 0):!1},R(this,t),this.sync("read",this,t)},save:function(t,e,i){var s,o,r,a=this.attributes;if(null==t||"object"==typeof t?(s=t,i=e):(s={})[t]=e,i=n.extend({validate:!0},i),s&&!i.wait){if(!this.set(s,i))return!1}else if(!this._validate(s,i))return!1;s&&i.wait&&(this.attributes=n.extend({},a,s)),void 0===i.parse&&(i.parse=!0);var u=this,h=i.success;return i.success=function(t){u.attributes=a;var e=u.parse(t,i);return i.wait&&(e=n.extend(s||{},e)),n.isObject(e)&&!u.set(e,i)?!1:(h&&h(u,t,i),u.trigger("sync",u,t,i),void 0)},R(this,i),o=this.isNew()?"create":i.patch?"patch":"update","patch"===o&&(i.attrs=s),r=this.sync(o,this,i),s&&i.wait&&(this.attributes=a),r},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,s=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(o){(t.wait||e.isNew())&&s(),i&&i(e,o,t),e.isNew()||e.trigger("sync",e,o,t)},this.isNew())return t.success(),!1;R(this,t);var o=this.sync("delete",this,t);return t.wait||s(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||N();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1):!0}});var l=["keys","values","pairs","invert","pick","omit"];n.each(l,function(t){p.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}});var f=t.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},d={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};n.extend(f.prototype,r,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,m))},remove:function(t,e){var i=!n.isArray(t);t=i?[t]:n.clone(t),e||(e={});var s,o,r,a;for(s=0,o=t.length;o>s;s++)a=t[s]=this.get(t[s]),a&&(delete this._byId[a.id],delete this._byId[a.cid],r=this.indexOf(a),this.models.splice(r,1),this.length--,e.silent||(e.index=r,a.trigger("remove",a,this,e)),this._removeReference(a));return i?t[0]:t},set:function(t,e){e=n.defaults({},e,d),e.parse&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?t?[t]:[]:n.clone(t);var s,o,r,a,u,h,c,l=e.at,f=this.model,m=this.comparator&&null==l&&e.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,g=[],y=[],w={},S=e.add,b=e.merge,x=e.remove,_=!m&&S&&x?[]:!1;for(s=0,o=t.length;o>s;s++){if(u=t[s],r=u instanceof p?a=u:u[f.prototype.idAttribute],h=this.get(r))x&&(w[h.cid]=!0),b&&(u=u===a?a.attributes:u,e.parse&&(u=h.parse(u,e)),h.set(u,e),m&&!c&&h.hasChanged(v)&&(c=!0)),t[s]=h;else if(S){if(a=t[s]=this._prepareModel(u,e),!a)continue;g.push(a),a.on("all",this._onModelEvent,this),this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a)}_&&_.push(h||a)}if(x){for(s=0,o=this.length;o>s;++s)w[(a=this.models[s]).cid]||y.push(a);y.length&&this.remove(y,e)}if(g.length||_&&_.length)if(m&&(c=!0),this.length+=g.length,null!=l)for(s=0,o=g.length;o>s;s++)this.models.splice(l+s,0,g[s]);else{_&&(this.models.length=0);var T=_||g;for(s=0,o=T.length;o>s;s++)this.models.push(T[s])}if(c&&this.sort({silent:!0}),!e.silent){for(s=0,o=g.length;o>s;s++)(a=g[s]).trigger("add",a,this,e);(c||_&&_.length)&&this.trigger("sort",this,e)}return i?t[0]:t},reset:function(t,e){e||(e={});for(var i=0,s=this.models.length;s>i;i++)this._removeReference(this.models[i]);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return o.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t.id]||this._byId[t.cid]||this._byId[t]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(s){var o=t.reset?"reset":"set";i[o](s,t),e&&e(i,s,t),i.trigger("sync",i,s,t)},R(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,s=e.success;return e.success=function(t,e,o){o.wait&&i.add(t,o),s&&s(t,e,o)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,s){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,s),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];n.each(v,function(t){f.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var g=["groupBy","countBy","sortBy"];n.each(g,function(t){f.prototype[t]=function(e,i){var s=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,s,i)}});var y=t.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,S)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];n.extend(y.prototype,r,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,i){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[t[e]]),i){var s=e.match(w),o=s[1],r=s[2];i=n.bind(i,this),o+=".delegateEvents"+this.cid,""===r?this.$el.on(o,i):this.$el.on(o,r,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var i=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,s){var o=x[e];n.defaults(s||(s={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var r={type:o,dataType:"json"};if(s.url||(r.url=n.result(i,"url")||N()),null!=s.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(r.contentType="application/json",r.data=JSON.stringify(s.attrs||i.toJSON(s))),s.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),s.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){r.type="POST",s.emulateJSON&&(r.data._method=o);var a=s.beforeSend;s.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),a?a.apply(this,arguments):void 0}}"GET"===r.type||s.emulateJSON||(r.processData=!1),"PATCH"===r.type&&b&&(r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=s.xhr=t.ajax(n.extend(r,s));return i.trigger("request",i,u,s),u};var b=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var _=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,O=/(\(\?)?:\w+/g,C=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(_.prototype,r,{initialize:function(){},route:function(e,i,s){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(s=i,i=""),s||(s=this[i]);var o=this;return t.history.route(e,function(n){var r=o._extractParameters(e,n);s&&s.apply(o,r),o.trigger.apply(o,["route:"+i].concat(r)),o.trigger("route",i,r),t.history.trigger("route",o,i,r)}),this},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(E,"\\$&").replace(T,"(?:$1)?").replace(O,function(t,e){return e?t:"([^/]+)"}).replace(C,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t){return t?decodeURIComponent(t):null})}});var M=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},z=/^[#\/]|\s+$/g,k=/^\/+|\/+$/g,I=/msie [\w.]+/,P=/\/$/,F=/[?#].*$/;M.started=!1,n.extend(M.prototype,r,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var i=this.root.replace(P,"");t.indexOf(i)||(t=t.slice(i.length))}else t=this.getHash();return t.replace(z,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),s=document.documentMode,o=I.exec(navigator.userAgent.toLowerCase())&&(!s||7>=s);this.root=("/"+this.root+"/").replace(k,"/"),o&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(i)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var r=this.location,a=r.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!a)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&a&&r.hash&&(this.fragment=this.getHash().replace(z,""),this.history.replaceState({},document.title,this.root+this.fragment+r.search))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),M.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl(),void 0)},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!M.started)return!1;e&&e!==!0||(e={trigger:!!e});var i=this.root+(t=this.getFragment(t||""));if(t=t.replace(F,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var s=t.href.replace(/(javascript:|#).*$/,"");
t.replace(s+"#"+e)}else t.hash="#"+e}}),t.history=new M;var A=function(t,e){var i,s=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},n.extend(i,s,e);var o=function(){this.constructor=i};return o.prototype=s.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=s.prototype,i};p.extend=f.extend=_.extend=y.extend=M.extend=A;var N=function(){throw new Error('A "url" property or function must be specified')},R=function(t,e){var i=e.error;e.error=function(s){i&&i(t,s,e),t.trigger("error",t,s,e)}}}.call(this),define("lib/../../bower_components/backbone/backbone-min",function(){}),function(t,e){"function"==typeof define&&define.amd?define("lib/backboneLocalStorage",["../../bower_components/underscore/underscore-min","../../bower_components/backbone/backbone-min"],function(i,s){return e(i||t._,s||t.Backbone)}):e(_,Backbone)}(this,function(t,e){function i(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function s(){return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()}return e.LocalStorage=window.Store=function(t){this.name=t;var e=this.localStorage().getItem(this.name);this.records=e&&e.split(",")||[]},t.extend(e.LocalStorage.prototype,{save:function(){this.localStorage().setItem(this.name,this.records.join(","))},create:function(t){return t.id||(t.id=s(),t.set(t.idAttribute,t.id)),this.localStorage().setItem(this.name+"-"+t.id,JSON.stringify(t)),this.records.push(t.id.toString()),this.save(),this.find(t)},update:function(e){return this.localStorage().setItem(this.name+"-"+e.id,JSON.stringify(e)),t.include(this.records,e.id.toString())||this.records.push(e.id.toString()),this.save(),this.find(e)},find:function(t){return this.jsonData(this.localStorage().getItem(this.name+"-"+t.id))},findAll:function(){return t(this.records).chain().map(function(t){return this.jsonData(this.localStorage().getItem(this.name+"-"+t))},this).compact().value()},destroy:function(e){return e.isNew()?!1:(this.localStorage().removeItem(this.name+"-"+e.id),this.records=t.reject(this.records,function(t){return t===e.id.toString()}),this.save(),e)},localStorage:function(){return localStorage},jsonData:function(t){return t&&JSON.parse(t)}}),e.LocalStorage.sync=window.Store.sync=e.localSync=function(t,e,i){var s,o,n=e.localStorage||e.collection.localStorage,r=$.Deferred&&$.Deferred();try{switch(t){case"read":s=void 0!=e.id?n.find(e):n.findAll();break;case"create":s=n.create(e);break;case"update":s=n.update(e);break;case"delete":s=n.destroy(e)}}catch(a){o=a.code===DOMException.QUOTA_EXCEEDED_ERR&&0===window.localStorage.length?"Private browsing is unsupported":a.message}return s?(e.trigger("sync",e,s,i),i&&i.success&&i.success(s),r&&r.resolve(s)):(o=o?o:"Record Not Found",i&&i.error&&i.error(o),r&&r.reject(o)),i&&i.complete&&i.complete(s),r&&r.promise()},e.ajaxSync=e.sync,e.getSyncMethod=function(t){return t.localStorage||t.collection&&t.collection.localStorage?e.localSync:e.ajaxSync},e.sync=function(t,i,s){return e.getSyncMethod(i).apply(this,[t,i,s])},e.LocalStorage}),define("famous/Entity",["require","exports","module"],function(t,e,i){function s(t){var e=r.length;return n(e,t),e}function o(t){return r[t]}function n(t,e){r[t]=e}var r=[];i.exports={register:s,get:o,set:n}}),define("famous/Matrix",["require","exports","module"],function(t,e,i){function s(t){return 2===t.length?t[0]*t[0]+t[1]*t[1]:t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function o(t){return Math.sqrt(s(t))}function n(t){return 0>t?-1:1}var r={};r.precision=1e-6,r.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.multiply4x4=function a(t,e){var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return i[0]=t[0]*e[0]+t[1]*e[4]+t[2]*e[8]+t[3]*e[12],i[1]=t[0]*e[1]+t[1]*e[5]+t[2]*e[9]+t[3]*e[13],i[2]=t[0]*e[2]+t[1]*e[6]+t[2]*e[10]+t[3]*e[14],i[3]=t[0]*e[3]+t[1]*e[7]+t[2]*e[11]+t[3]*e[15],i[4]=t[4]*e[0]+t[5]*e[4]+t[6]*e[8]+t[7]*e[12],i[5]=t[4]*e[1]+t[5]*e[5]+t[6]*e[9]+t[7]*e[13],i[6]=t[4]*e[2]+t[5]*e[6]+t[6]*e[10]+t[7]*e[14],i[7]=t[4]*e[3]+t[5]*e[7]+t[6]*e[11]+t[7]*e[15],i[8]=t[8]*e[0]+t[9]*e[4]+t[10]*e[8]+t[11]*e[12],i[9]=t[8]*e[1]+t[9]*e[5]+t[10]*e[9]+t[11]*e[13],i[10]=t[8]*e[2]+t[9]*e[6]+t[10]*e[10]+t[11]*e[14],i[11]=t[8]*e[3]+t[9]*e[7]+t[10]*e[11]+t[11]*e[15],i[12]=t[12]*e[0]+t[13]*e[4]+t[14]*e[8]+t[15]*e[12],i[13]=t[12]*e[1]+t[13]*e[5]+t[14]*e[9]+t[15]*e[13],i[14]=t[12]*e[2]+t[13]*e[6]+t[14]*e[10]+t[15]*e[14],i[15]=t[12]*e[3]+t[13]*e[7]+t[14]*e[11]+t[15]*e[15],arguments.length<=2?i:a.apply(null,[i].concat(Array.prototype.slice.call(arguments,2)))},r.multiply=function u(t,e){if(!t||!e)return t||e;var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];return i[0]=t[0]*e[0]+t[1]*e[4]+t[2]*e[8],i[1]=t[0]*e[1]+t[1]*e[5]+t[2]*e[9],i[2]=t[0]*e[2]+t[1]*e[6]+t[2]*e[10],i[4]=t[4]*e[0]+t[5]*e[4]+t[6]*e[8],i[5]=t[4]*e[1]+t[5]*e[5]+t[6]*e[9],i[6]=t[4]*e[2]+t[5]*e[6]+t[6]*e[10],i[8]=t[8]*e[0]+t[9]*e[4]+t[10]*e[8],i[9]=t[8]*e[1]+t[9]*e[5]+t[10]*e[9],i[10]=t[8]*e[2]+t[9]*e[6]+t[10]*e[10],i[12]=t[12]*e[0]+t[13]*e[4]+t[14]*e[8]+e[12],i[13]=t[12]*e[1]+t[13]*e[5]+t[14]*e[9]+e[13],i[14]=t[12]*e[2]+t[13]*e[6]+t[14]*e[10]+e[14],arguments.length<=2?i:u.apply(null,[i].concat(Array.prototype.slice.call(arguments,2)))},r.move=function(t,e){return e[2]||(e[2]=0),[t[0],t[1],t[2],0,t[4],t[5],t[6],0,t[8],t[9],t[10],0,t[12]+e[0],t[13]+e[1],t[14]+e[2],1]},r.moveThen=function(t,e){t[2]||(t[2]=0);var i=t[0]*e[0]+t[1]*e[4]+t[2]*e[8],s=t[0]*e[1]+t[1]*e[5]+t[2]*e[9],o=t[0]*e[2]+t[1]*e[6]+t[2]*e[10];return r.move(e,[i,s,o])},r.translate=function(t,e,i){return void 0===i&&(i=0),[1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1]},r.scale=function(t,e,i){return void 0===i&&(i=1),[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1]},r.rotateX=function(t){var e=Math.cos(t),i=Math.sin(t);return[1,0,0,0,0,e,i,0,0,-i,e,0,0,0,0,1]},r.rotateY=function(t){var e=Math.cos(t),i=Math.sin(t);return[e,0,-i,0,0,1,0,0,i,0,e,0,0,0,0,1]},r.rotateZ=function(t){var e=Math.cos(t),i=Math.sin(t);return[e,i,0,0,-i,e,0,0,0,0,1,0,0,0,0,1]},r.rotate=function(t,e,i){var s=Math.cos(t),o=Math.sin(t),n=Math.cos(e),r=Math.sin(e),a=Math.cos(i),u=Math.sin(i),h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];return h[0]=n*a,h[1]=s*u+o*r*a,h[2]=o*u-s*r*a,h[4]=-n*u,h[5]=s*a-o*r*u,h[6]=o*a+s*r*u,h[8]=r,h[9]=-o*n,h[10]=s*n,h},r.rotateAxis=function(t,e){var i=Math.sin(e),s=Math.cos(e),o=1-s,n=t[0]*t[0]*o,r=t[0]*t[1]*o,a=t[0]*t[2]*o,u=t[1]*t[1]*o,h=t[1]*t[2]*o,c=t[2]*t[2]*o,p=t[0]*i,l=t[1]*i,f=t[2]*i,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];return d[0]=n+s,d[1]=r+f,d[2]=a-l,d[4]=r-f,d[5]=u+s,d[6]=h+p,d[8]=a+l,d[9]=h-p,d[10]=c+s,d},r.aboutOrigin=function(t,e){var i=t[0]-(t[0]*e[0]+t[1]*e[4]+t[2]*e[8]),s=t[1]-(t[0]*e[1]+t[1]*e[5]+t[2]*e[9]),o=t[2]-(t[0]*e[2]+t[1]*e[6]+t[2]*e[10]);return r.move(e,[i,s,o])},r.formatCSS=function(t){for(var e=t.slice(0),i=0;i<e.length;i++)e[i]<1e-6&&e[i]>-1e-6&&(e[i]=0);return"matrix3d("+e.join()+")"},r.skew=function(t,e,i){return[1,0,0,0,Math.tan(i),1,0,0,Math.tan(e),Math.tan(t),1,0,0,0,0,1]},r.getTranslate=function(t){return[t[12],t[13],t[14]]},r.inverse=function(t){var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],i=t[5]*t[10]-t[6]*t[9],s=t[4]*t[10]-t[6]*t[8],o=t[4]*t[9]-t[5]*t[8],n=t[1]*t[10]-t[2]*t[9],r=t[0]*t[10]-t[2]*t[8],a=t[0]*t[9]-t[1]*t[8],u=t[1]*t[6]-t[2]*t[5],h=t[0]*t[6]-t[2]*t[4],c=t[0]*t[5]-t[1]*t[4],p=t[0]*i-t[1]*s+t[2]*o,l=1/p;return e[0]=l*i,e[1]=-l*n,e[2]=l*u,e[4]=-l*s,e[5]=l*r,e[6]=-l*h,e[8]=l*o,e[9]=-l*a,e[10]=l*c,e[12]=-t[12]*e[0]-t[13]*e[4]-t[14]*e[8],e[13]=-t[12]*e[1]-t[13]*e[5]-t[14]*e[9],e[14]=-t[12]*e[2]-t[13]*e[6]-t[14]*e[10],e},r.interpret=function(t){var e=[t[0],t[1],t[2]],i=n(e[0]),a=o(e),u=[e[0]+i*a,e[1],e[2]],h=2/s(u),c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];c[0]=1-h*u[0]*u[0],c[5]=1-h*u[1]*u[1],c[10]=1-h*u[2]*u[2],c[1]=-h*u[0]*u[1],c[2]=-h*u[0]*u[2],c[6]=-h*u[1]*u[2],c[4]=c[1],c[8]=c[2],c[9]=c[6];var p=r.multiply(t,c),l=[p[5],p[6]],f=n(l[0]),d=o(l),m=[l[0]+f*d,l[1]],v=2/s(m),g=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];g[5]=1-v*m[0]*m[0],g[10]=1-v*m[1]*m[1],g[6]=-v*m[0]*m[1],g[9]=g[6];var y=r.multiply(c,g),w=r.multiply(t,y),S=r.scale(w[0]<0?-1:1,w[5]<0?-1:1,w[10]<0?-1:1);w=r.multiply(S,w),y=r.multiply(y,S);var b={};return b.translate=r.getTranslate(t),b.rotate=[Math.atan2(-y[6],y[10]),Math.asin(y[2]),Math.atan2(-y[1],y[0])],b.rotate[0]||(b.rotate[0]=0,b.rotate[2]=Math.atan2(y[4],y[5])),b.scale=[w[0],w[5],w[10]],b.skew=[Math.atan(w[9]/b.scale[2]),Math.atan(w[8]/b.scale[2]),Math.atan(w[4]/b.scale[0])],Math.abs(b.rotate[0])+Math.abs(b.rotate[2])>1.5*Math.PI&&(b.rotate[1]=Math.PI-b.rotate[1],b.rotate[1]>Math.PI&&(b.rotate[1]-=2*Math.PI),b.rotate[1]<-Math.PI&&(b.rotate[1]+=2*Math.PI),b.rotate[0]<0?b.rotate[0]+=Math.PI:b.rotate[0]-=Math.PI,b.rotate[2]<0?b.rotate[2]+=Math.PI:b.rotate[2]-=Math.PI),b},r.average=function(t,e,i){i=void 0===i?.5:i;for(var s=r.interpret(t),o=r.interpret(e),n={translate:[0,0,0],rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]},a=0;3>a;a++)n.translate[a]=(1-i)*s.translate[a]+i*o.translate[a],n.rotate[a]=(1-i)*s.rotate[a]+i*o.rotate[a],n.scale[a]=(1-i)*s.scale[a]+i*o.scale[a],n.skew[a]=(1-i)*s.skew[a]+i*o.skew[a];return r.build(n)},r.build=function(t){var e=r.scale(t.scale[0],t.scale[1],t.scale[2]),i=r.skew(t.skew[0],t.skew[1],t.skew[2]),s=r.rotate(t.rotate[0],t.rotate[1],t.rotate[2]);return r.move(r.multiply(e,i,s),t.translate)},r.equals=function(t,e){if(t===e)return!0;if(!t||!e)return!1;for(var i=0;i<t.length;i++)if(t[i]!=e[i])return!1;return!0},r.normalizeRotation=function(t){var e=t.slice(0);for((e[0]==Math.PI/2||e[0]==-Math.PI/2)&&(e[0]=-e[0],e[1]=Math.PI-e[1],e[2]-=Math.PI),e[0]>Math.PI/2&&(e[0]=e[0]-Math.PI,e[1]=Math.PI-e[1],e[2]-=Math.PI),e[0]<-Math.PI/2&&(e[0]=e[0]+Math.PI,e[1]=-Math.PI-e[1],e[2]-=Math.PI);e[1]<-Math.PI;)e[1]+=2*Math.PI;for(;e[1]>=Math.PI;)e[1]-=2*Math.PI;for(;e[2]<-Math.PI;)e[2]+=2*Math.PI;for(;e[2]>=Math.PI;)e[2]-=2*Math.PI;return e},r.vecMultiply=function(t,e){return[t[0]*e[0]+t[1]*e[4]+t[2]*e[8]+e[12],t[0]*e[1]+t[1]*e[5]+t[2]*e[9]+e[13],t[0]*e[2]+t[1]*e[6]+t[2]*e[10]+e[14]]},r.applyPerspective=function(t,e){var i=e/(e-t[2]);return[i*t[0],i*t[1]]},i.exports=r}),define("famous/SpecParser",["require","exports","module","./Matrix"],function(t,e,i){function s(){this.reset()}function o(t,e){return[t[0]*e[0]+t[1]*e[4]+t[2]*e[8],t[0]*e[1]+t[1]*e[5]+t[2]*e[9],t[0]*e[2]+t[1]*e[6]+t[2]*e[10]]}var n=t("./Matrix");s.parse=function(t,e){var i=new s,o=i.parse(t);return e?(e(o),void 0):o},s.prototype.parse=function(t){return this.reset(),this._parseSpec(t,n.identity,1,[0,0],void 0,n.identity),this.result},s.prototype.reset=function(){this.result={}},s.prototype._parseSpec=function(t,e,i,s,r,a){if(void 0==t);else if("number"==typeof t){var u=t,h=r?[s[0]*r[0],s[1]*r[1],0]:[0,0,0];e||(e=n.identity),this.result[u]=[n.move(e,o(h,a)),i,s,r]}else if(t instanceof Array)for(var c=0;c<t.length;c++)this._parseSpec(t[c],e,i,s,r,a);else if(void 0!==t.target){var p=t.target,l=e,f=i,d=s,m=r;void 0!==t.opacity&&(f=i*t.opacity),t.transform&&(l=n.multiply(t.transform,e)),t.origin&&(d=t.origin),t.size&&(m=t.size,void 0===m[0]&&(m[0]=r[0]),void 0===m[1]&&(m[1]=r[1]),r||(r=m),d||(d=[0,0]),l||(l=n.identity),l=n.move(l,o([d[0]*r[0],d[1]*r[1],0],a)),l=n.moveThen([-d[0]*m[0],-d[1]*m[1],0],l),a=e?e:n.identity,d=[0,0]),this._parseSpec(p,l,f,d,m,a)}},i.exports=s}),define("famous/RenderNode",["require","exports","module","./Entity","./SpecParser","./Matrix"],function(t,e,i){function s(t){this.modifiers=[],this.object=void 0,t&&this.set(t),this._hasCached=!1,this._resultCache={},this._prevResults={}}function o(t,e,i){var s=r.parse(t);for(var a in s){var u=n.get(a),h=s[a];h.unshift(e);var c=u.commit.apply(u,h);c?o(c,e,i):i[a]=h}}{var n=t("./Entity"),r=t("./SpecParser");t("./Matrix")}s.prototype.get=function(){return this.object},s.prototype.set=function(t){this.object=t},s.prototype.link=function(t){if(t instanceof Array)this.set(t);else{var e=this.get();e?e instanceof Array?this.modifiers.unshift(t):(this.modifiers.unshift(e),this.set(t)):this.set(t)}return this},s.prototype.add=function(t){this.get()instanceof Array||this.set([]);var e=new s(t);return this.get().push(e),e},s.prototype.mod=function(t){return this.modifiers.push(t),this},s.prototype.commit=function(t,e,i,s,r){var a=this.render(void 0,this._hasCached);if(a!==!0){for(var u in this._prevResults)if(!(u in this._resultCache)){var h=n.get(u);h.cleanup&&h.cleanup(t.getAllocator())}this._prevResults=this._resultCache,this._resultCache={},o({transform:e,size:r,origin:s,opacity:i,target:a},t,this._resultCache),this._hasCached=!0}},s.prototype.render=function(t){var e=t,i=this.get();if(i)if(i.render)e=i.render(t);else{var s=i.length-1;for(e=new Array(s);s>=0;)e[s]=i[s].render(),s--}for(var o=this.modifiers.length,s=0;o>s;s++)e=this.modifiers[s].render(e);return e},i.exports=s}),define("famous/EventHandler",["require","exports","module"],function(t,e,i){function s(){this.listeners={},this.downstream=[],this.downstreamFn=[],this.owner=this}function o(t,e){for(var i=!1,s=0;s<this.downstream.length;s++)i=this.downstream[s].emit(t,e)||i;for(var s=0;s<this.downstreamFn.length;s++)i=this.downstreamFn[s](t,e)||i;return i}s.prototype.emit=function(t,e){e||(e={});var i=this.listeners[t],s=!1;if(i)for(var n=0;n<i.length;n++)i[n].call(this.owner,e)&&(s=!0);return o.call(this,t,e)||s},s.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]);var i=this.listeners[t].indexOf(e);return 0>i&&this.listeners[t].push(e),this},s.prototype.unbind=function(t,e){var i=this.listeners[t].indexOf(e);i>=0&&this.listeners[t].splice(i,1)},s.prototype.pipe=function(t){var e=t instanceof Function?this.downstreamFn:this.downstream,i=e.indexOf(t);return 0>i&&e.push(t),t instanceof Function?t("pipe"):t.emit("pipe"),t},s.prototype.unpipe=function(t){var e=t instanceof Function?this.downstreamFn:this.downstream,i=e.indexOf(t);return i>=0?(e.splice(i,1),t instanceof Function?t("unpipe"):t.emit("unpipe"),t):!1},s.prototype.bindThis=function(t){this.owner=t},s.setInputHandler=function(t,e){t.emit=e.emit.bind(e)},s.setOutputHandler=function(t,e){e instanceof s&&e.bindThis(t),t.pipe=e.pipe.bind(e),t.unpipe=e.unpipe.bind(e),t.on=e.on.bind(e),t.unbind=e.unbind.bind(e)},i.exports=s}),define("famous/ElementAllocator",["require","exports","module"],function(t,e,i){function s(t){t||(t=document.createDocumentFragment()),this.container=t,this.detachedNodes={},this.nodeCount=0}s.prototype.migrate=function(t){var e=this.container;if(t!==e){if(e instanceof DocumentFragment)t.appendChild(e);else for(;e.hasChildNodes();)t.appendChild(e.removeChild(e.firstChild));this.container=t}},s.prototype.allocate=function(t){t=t.toLowerCase(),t in this.detachedNodes||(this.detachedNodes[t]=[]);var e,i=this.detachedNodes[t];return i.length>0?e=i.pop():(e=document.createElement(t),this.container.appendChild(e)),this.nodeCount++,e},s.prototype.deallocate=function(t){var e=t.nodeName.toLowerCase(),i=this.detachedNodes[e];i.push(t),this.nodeCount--},s.prototype.getNodeCount=function(){return this.nodeCount},i.exports=s}),define("famous/Utility",["require","exports","module"],function(t,e,i){var s={};s.Curve={linear:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return t*(2-t)},easeInOut:function(t){return.5>=t?2*t*t:-2*t*t+4*t-1},easeOutBounce:function(t){return t*(3-2*t)},spring:function(t){return(1-t)*Math.sin(6*Math.PI*t)+t}},s.Direction={X:0,Y:1,Z:2},s.Origin={tl:[0,0],t:[.5,0],tr:[1,0],l:[0,.5],c:[.5,.5],r:[1,.5],bl:[0,1],b:[.5,1],br:[1,1]},s.after=function(t,e){var i=t;return function(){i--,0===i&&e.apply(this,arguments)}},s.loadURL=function(t,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==this.readyState&&e&&e(this.responseText)},i.open("GET",t),i.send()},s.transformInFrontMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,1,1],s.transformInFront={render:function(t){return{transform:s.transformInFrontMatrix,target:t}}},s.transformBehindMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,-1,1],s.transformBehind={render:function(t){return{transform:s.transformBehindMatrix,target:t}}},s.customizeComponent=function(t,e,i){var s=function(s){t.call(this,e),s&&this.setOptions(s),i&&i.call(this)};return s.prototype=Object.create(t.prototype),s},i.exports=s}),define("famous/MultipleTransition",["require","exports","module","./Utility"],function(t,e,i){function s(t){this.method=t,this._instances=[],this.state=[]}var o=t("./Utility");s.SUPPORTS_MULTIPLE=!0,s.prototype.get=function(){for(var t=0;t<this._instances.length;t++)this.state[t]=this._instances[t].get();return this.state},s.prototype.set=function(t,e,i){for(var s=o.after(t.length,i),n=0;n<t.length;n++)this._instances[n]||(this._instances[n]=new this.method),this._instances[n].set(t[n],e,s)},s.prototype.reset=function(t){for(var e=0;e<t.length;e++)this._instances[e]||(this._instances[e]=new this.method),this._instances[e].reset(t[e])},i.exports=s}),define("famous/TweenTransition",["require","exports","module","famous/Utility"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),t&&this.setOptions(t),this._startTime=0,this._startValue=0,this._updateTime=0,this._endValue=0,this._curve=void 0,this._duration=0,this._active=!1,this._callback=void 0,this.state=0}function o(t,e,i){return(1-i)*t+i*e}function n(t){return t instanceof Object?t instanceof Array?t.slice(0):Object.create(t):t}function r(t,e){var i={curve:e.curve};return e.duration&&(i.duration=e.duration),e.speed&&(i.speed=e.speed),t instanceof Object&&(void 0!==t.duration&&(i.duration=t.duration),t.curve&&(i.curve=t.curve),t.speed&&(i.speed=t.speed)),"string"==typeof i.curve&&(i.curve=s.getCurve(i.curve)),i}var a=t("famous/Utility");s.SUPPORTS_MULTIPLE=!0,s.DEFAULT_OPTIONS={curve:a.Curve.linear,duration:500,speed:0};var u={};s.registerCurve=function(t,e){return u[t]?!1:(u[t]=e,!0)},s.unregisterCurve=function(t){return u[t]?(delete u[t],!0):!1},s.getCurve=function(t){return u[t]},s.getCurves=function(){return u},s.prototype.setOptions=function(t){void 0!==t.curve&&(this.options.curve=t.curve),void 0!==t.duration&&(this.options.duration=t.duration),void 0!==t.speed&&(this.options.speed=t.speed)},s.prototype.set=function(t,e,i){if(!e)return this.reset(t),i&&i(),void 0;if(this._startValue=n(this.get()),e=r(e,this.options),e.speed){var s=this._startValue;if(s instanceof Object){var o=0;for(var a in s)o+=(t[a]-s[a])*(t[a]-s[a]);e.duration=Math.sqrt(o)/e.speed}else e.duration=Math.abs(t-s)/e.speed}this._startTime=Date.now(),this._endValue=n(t),this._duration=e.duration,this._curve=e.curve,this._active=!0,this._callback=i},s.prototype.reset=function(t){if(this._callback){var e=this._callback;this._callback=void 0,e()}this.state=n(t),this._startTime=0,this._duration=0,this._updateTime=0,this._startValue=this.state,this._endValue=this.state,this._active=!1},s.prototype.get=function(t){return this.update(t),this.state},s.prototype.update=function(t){if(this._active){if(t||(t=Date.now()),!(this._updateTime>=t)){this._updateTime=t;var e=t-this._startTime;if(e>=this._duration)this.state=this._endValue,this._active=!1;else if(0>e)this.state=this._startValue;else{var i=e/this._duration;if(this.state instanceof Object)for(var s in this.state)this.state[s]=o(this._startValue[s],this._endValue[s],this._curve(i));else this.state=o(this._startValue,this._endValue,this._curve(i))}}}else if(this._callback){var n=this._callback;this._callback=void 0,n()}},s.prototype.isActive=function(){return this._active},s.prototype.halt=function(){this.reset(this.get())},s.registerCurve("linear",a.Curve.linear),s.registerCurve("easeIn",a.Curve.easeIn),s.registerCurve("easeOut",a.Curve.easeOut),s.registerCurve("easeInOut",a.Curve.easeInOut),s.registerCurve("easeOutBounce",a.Curve.easeOutBounce),s.registerCurve("spring",a.Curve.spring),i.exports=s}),define("famous/Transitionable",["require","exports","module","./Utility","./MultipleTransition","./TweenTransition"],function(t,e,i){function s(t){this.currentAction=null,this.actionQueue=[],this.callbackQueue=[],this.state=0,this._callback=void 0,this._engineInstance=null,this._currentMethod=null,this.set(t)}function o(){if(this._callback){var t=this._callback;this._callback=void 0,t()}if(this.actionQueue.length<=0)return this.set(this._engineInstance),void 0;this.currentAction=this.actionQueue.shift(),this._callback=this.callbackQueue.shift();var e=null,i=this.currentAction[0],s=this.currentAction[1];s instanceof Object&&s.method?(e=s.method,"string"==typeof e&&(e=a[e])):e=r,this._currentMethod!==e&&(this._engineInstance=!(i instanceof Object)||e.SUPPORTS_MULTIPLE===!0||i.length<=e.SUPPORTS_MULTIPLE?new e:new n(e),this._currentMethod=e),this._engineInstance.reset(this.state),this._engineInstance.set(i,s,o.bind(this))}var n=(t("./Utility"),t("./MultipleTransition")),r=t("./TweenTransition"),a={};s.registerMethod=function(t,e){return t in a?!1:(a[t]=e,!0)},s.unregisterMethod=function(t){return t in a?(delete a[t],!0):!1},s.prototype.set=function(t,e,i){if(!e)return this.reset(t),i&&i(),void 0;var s=[t,e];this.actionQueue.push(s),this.callbackQueue.push(i),this.currentAction||o.call(this)},s.prototype.reset=function(t){this._currentMethod=null,this._engineInstance=null,this.state=t,this.currentAction=null,this.actionQueue=[],this.callbackQueue=[]},s.prototype.delay=function(t,e){this.set(this._engineInstance,{duration:t,curve:function(){return 0}},e)},s.prototype.get=function(t){return this._engineInstance&&(this.state=this._engineInstance.get(t)),this.state},s.prototype.isActive=function(){return!!this.currentAction},s.prototype.halt=function(){this.set(this.get())},i.exports=s}),define("famous/Context",["require","exports","module","./RenderNode","./EventHandler","./SpecParser","./ElementAllocator","./Matrix","./Transitionable"],function(t,e,i){function s(t){this.container=t,this.allocator=new a(t),this.srcNode=new n,this.eventHandler=new r,this._size=[window.innerWidth,window.innerHeight],this.perspectiveState=new h(0),this._perspective=void 0,this.eventHandler.on("resize",function(){this._size=o(this.container)}.bind(this))}function o(t){return[t.clientWidth,t.clientHeight]}var n=t("./RenderNode"),r=t("./EventHandler"),a=(t("./SpecParser"),t("./ElementAllocator")),u=t("./Matrix"),h=t("./Transitionable");s.prototype.getAllocator=function(){return this.allocator},s.prototype.link=function(t){return this.srcNode.link(t)},s.prototype.add=function(t){return this.srcNode.add(t)},s.prototype.mod=function(t){return this.srcNode.mod(t)},s.prototype.migrate=function(t){t!==this.container&&(this.container=t,this.allocator.migrate(t))},s.prototype.getSize=function(){return this._size},s.prototype.setSize=function(t){t||(t=o(this.container)),this._size=t},s.prototype.update=function(){var t=this.perspectiveState.get();t!==this._perspective&&(this.container.style.perspective=t?t.toFixed()+"px":"",this.container.style.webkitPerspective=t?t.toFixed():"",this._perspective=t),this.srcNode&&this.srcNode.commit(this,u.identity,1,[0,0],this._size)},s.prototype.getOutputTransform=function(t){var e=this.parsedCache;if(e){var i=t.id,s={transform:e.transforms[i],opacity:e.opacities[i]};if(e.origins[i]&&(s.origin=e.origins[i]),e.groups[i]){var o=e.groups[i];s.transform=u.multiply(s.transform,e.groupTransforms[o]),e.groupOpacities[o]&&(s.opacity*=e.groupOpacities[o])}return s}},s.prototype.getPerspective=function(){return this.perspectiveState.get()},s.prototype.setPerspective=function(t,e,i){return this.perspectiveState.set(t,e,i)},s.prototype.emit=function(t,e){return this.eventHandler.emit(t,e)},s.prototype.on=function(t,e){return this.eventHandler.on(t,e)},s.prototype.unbind=function(t,e){return this.eventHandler.unbind(t,e)},s.prototype.pipe=function(t){return this.eventHandler.pipe(t)},s.prototype.unpipe=function(t){return this.eventHandler.unpipe(t)},i.exports=s}),define("famous/Engine",["require","exports","module","./Context","./EventHandler"],function(t,e,i){function s(){var t=Date.now();if(T&&T>t-x)return requestAnimationFrame(s),void 0;_=t-x,x=t,O.emit("prerender");for(var e=0;e<S.length;e++)S[e].call(this);for(S=[];b.length&&Date.now()-t<C;)b.shift().call(this);for(var e=0;e<w.length;e++)w[e].update();O.emit("postrender"),requestAnimationFrame(s)}function o(t){if(document.activeElement&&"INPUT"==document.activeElement.nodeName)return document.activeElement.addEventListener("blur",function i(){this.removeEventListener("blur",i),o(t)}),void 0;window.scrollTo(0,0);for(var e=0;e<w.length;e++)w[e].emit("resize");O.emit("resize")}function n(t){return O.pipe(t)}function r(t){return O.unpipe(t)}function a(t,e){O.on(t,e)}function u(t,e){O.emit(t,e)}function h(t,e){O.unbind(t,e)}function c(){return 1e3/_}function p(t){T=Math.floor(1e3/t)}function l(t){void 0===t?(t=document.createElement("div"),t.classList.add("container"),document.body.appendChild(t)):t instanceof Element||(t=document.createElement("div"),console.warn("Tried to create context on non-existent element"));var e=new g(t);return w.push(e),e}function f(t){S.push(t)}function d(t){return E[t]}function m(t){var e=E.length;return E[e]=t,e}function v(t){b.push(t)}var g=t("./Context"),y=t("./EventHandler"),w=[],S=[],b=[],x=Date.now(),_=void 0,T=void 0,O=new y,C=10,E=[];requestAnimationFrame(s),window.addEventListener("resize",o,!1),o(),window.addEventListener("touchmove",function(t){t.preventDefault()},!1);for(var M=["touchstart","touchmove","touchend","touchcancel","click","keydown","keyup","keypress","mouseup","mousedown","mousemove","mouseover","mouseout","mousewheel","wheel","resize"],z=0;z<M.length;z++){var k=M[z];document.body.addEventListener(k,function(t){O.emit(t.type,t,!1)},!1)}i.exports={on:a,defer:v,emit:u,unbind:h,pipe:n,unpipe:r,createContext:l,getFPS:c,setFPSCap:p,nextTick:f,getEntity:d,registerEntity:m}}),define("famous/Surface",["require","exports","module","./Entity","./EventHandler","./Matrix"],function(t,e,i){function s(t){this.options={},this.properties={},this.content="",this.classList=[],this.size=void 0,this._classesDirty=!0,this._stylesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._dirtyClasses=[],this._matrix=void 0,this._opacity=1,this._origin=void 0,this._size=void 0,this.eventForwarder=function(t){this.emit(t.type,t)}.bind(this),this.eventHandler=new f,this.eventHandler.bindThis(this),this.id=l.register(this),t&&this.setOptions(t),this._currTarget=void 0}function o(t){for(var e=this.surfaceEvents,i=0;i<e.length;i++)t.addEventListener(e[i],this.eventForwarder)}function r(t){for(var e=this.surfaceEvents,i=0;i<e.length;i++)t.removeEventListener(e[i],this.eventForwarder)}function a(t){for(var e=0;e<this._dirtyClasses.length;e++)t.classList.remove(this._dirtyClasses[e]);this._dirtyClasses=[]}function u(t){for(var e in this.properties)t.style[e]=this.properties[e]}function h(t){for(var e in this.properties)t.style[e]=""}function c(t,e){return t||e?t&&e?t[0]==e[0]&&t[1]==e[1]:!1:!0}function p(t){return(100*t[0]).toFixed(6)+"% "+(100*t[1]).toFixed(6)+"%"}var l=t("./Entity"),f=t("./EventHandler"),d=t("./Matrix"),m=void 0!==document.body.style.webkitTransform;s.prototype.surfaceEvents=["touchstart","touchmove","touchend","touchcancel","click","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","mousewheel","wheel"],s.prototype.elementType="div",s.prototype.elementClass="surface",s.prototype.on=function(t,e){this.eventHandler.on(t,e)},s.prototype.unbind=function(t,e){this.eventHandler.unbind(t,e)},s.prototype.emit=function(t,e){e&&!e.origin&&(e.origin=this);var i=this.eventHandler.emit(t,e);return i&&e.stopPropagation&&e.stopPropagation(),i},s.prototype.pipe=function(t){return this.eventHandler.pipe(t)},s.prototype.pipeEvents=function(){return console.warn("pipeEvents is deprecated; use pipe instead"),this.pipe.apply(this,arguments)},s.prototype.unpipe=function(t){return this.eventHandler.unpipe(t)},s.prototype.render=function(){return this.id},s.prototype.setProperties=function(t){for(n in t)this.properties[n]=t[n];this._stylesDirty=!0},s.prototype.getProperties=function(){return this.properties},s.prototype.addClass=function(t){this.classList.indexOf(t)<0&&(this.classList.push(t),this._classesDirty=!0)},s.prototype.removeClass=function(t){var e=this.classList.indexOf(t);e>=0&&(this._dirtyClasses.push(this.classList.splice(e,1)[0]),this._classesDirty=!0)},s.prototype.setClasses=function(t){for(var e=[],i=0;i<this.classList.length;i++)t.indexOf(this.classList[i])<0&&e.push(this.classList[i]);for(var i=0;i<e.length;i++)this.removeClass(e[i]);for(var i=0;i<t.length;i++)this.addClass(t[i])},s.prototype.getClassList=function(){return this.classList},s.prototype.setContent=function(t){this.content!=t&&(this.content=t,this._contentDirty=!0)},s.prototype.getContent=function(){return this.content},s.prototype.setOptions=function(t){t.size&&this.setSize(t.size),t.classes&&this.setClasses(t.classes),t.properties&&this.setProperties(t.properties),t.content&&this.setContent(t.content)};var v,g,y;v=m?function(t,e){t.style.webkitTransform=d.formatCSS(e)}:function(t,e){t.style.transform=d.formatCSS(e)},g=m?function(t,e){t.style.webkitTransformOrigin=p(e)}:function(t,e){t.style.transformOrigin=p(e)},y=m?function(t){t.style.webkitTransform="scale3d(0.0001,0.0001,1)",t.style.opacity=0}:function(t){t.style.transform="scale3d(0.0001,0.0001,1)",t.style.opacity=0},s.prototype.setup=function(t){var e=t.allocate(this.elementType);if(this.elementClass)if(this.elementClass instanceof Array)for(var i=0;i<this.elementClass.length;i++)e.classList.add(this.elementClass[i]);else e.classList.add(this.elementClass);o.call(this,e),g(e,[0,0]),this._currTarget=e,this._stylesDirty=!0,this._classesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._matrix=void 0,this._opacity=void 0,this._origin=void 0,this._size=void 0},s.prototype.commit=function(t,e,i,s,o){this._currTarget||this.setup(t.getAllocator());var n=this._currTarget;if(this.size){var r=o;o=this.size.slice(0),void 0===o[0]&&r[0]&&(o[0]=r[0]),void 0===o[1]&&r[1]&&(o[1]=r[1])}if(c(this._size,o)||(this._size=o.slice(0),this._sizeDirty=!0),!e&&this._matrix)return this._matrix=void 0,this._opacity=0,y(n),void 0;if(this._opacity!==i&&(this._opacity=i,n.style.opacity=Math.min(i,.999999)),!c(this._origin,s)||!d.equals(this._matrix,e)){e||(e=d.identity),s||(s=[0,0]),this._origin=s.slice(0),this._matrix=e;var h=e;s&&(h=d.moveThen([-this._size[0]*s[0],-this._size[1]*s[1]],e)),v(n,h)}if(this._classesDirty||this._stylesDirty||this._sizeDirty||this._contentDirty){if(this._classesDirty){a.call(this,n);for(var p=this.getClassList(),l=0;l<p.length;l++)n.classList.add(p[l]);this._classesDirty=!1}this._stylesDirty&&(u.call(this,n),this._stylesDirty=!1),this._sizeDirty&&(this._size&&(n.style.width=this._size[0]!==!0?this._size[0]+"px":"",n.style.height=this._size[1]!==!0?this._size[1]+"px":""),this._sizeDirty=!1),this._contentDirty&&(this.deploy(n),this._contentDirty=!1)}},s.prototype.cleanup=function(t){var e=this._currTarget;this.recall(e),e.style.width="",e.style.height="",this._size=void 0,h.call(this,e);var i=this.getClassList();a.call(this,e);for(var s=0;s<i.length;s++)e.classList.remove(i[s]);if(this.elementClass)if(this.elementClass instanceof Array)for(var s=0;s<this.elementClass.length;s++)e.classList.remove(this.elementClass[s]);else e.classList.remove(this.elementClass);r.call(this,e),this._currTarget=void 0,t.deallocate(e),y(e)},s.prototype.deploy=function(t){var e=this.getContent();"string"==typeof e?t.innerHTML=e:t.appendChild(e)},s.prototype.recall=function(t){for(var e=document.createDocumentFragment();t.hasChildNodes();)e.appendChild(t.firstChild);this.setContent(e)},s.prototype.getSize=function(t){return t?this._size:this.size||this._size},s.prototype.setSize=function(t){this.size=t?t.slice(0,2):void 0,this._sizeDirty=!0},i.exports=s}),define("famous/Modifier",["require","exports","module","./Matrix","./Transitionable","./Utility"],function(t,e,i){function s(t){var e=o.identity,i=1,s=void 0,r=void 0;arguments.length>1||arguments[0]instanceof Array?(void 0!==arguments[0]&&(e=arguments[0]),void 0!==arguments[1]&&(i=arguments[1]),s=arguments[2],r=arguments[3]):t&&(t.transform&&(e=t.transform),void 0!==t.opacity&&(i=t.opacity),t.origin&&(s=t.origin),t.size&&(r=t.size)),this.transformTranslateState=new n([0,0,0]),this.transformRotateState=new n([0,0,0]),this.transformSkewState=new n([0,0,0]),this.transformScaleState=new n([1,1,1]),this.opacityState=new n(i),this.originState=new n([0,0]),this.sizeState=new n([0,0]),this._originEnabled=!1,this._sizeEnabled=!1,this.setTransform(e),this.setOpacity(i),this.setOrigin(s),this.setSize(r)
}var o=t("./Matrix"),n=t("./Transitionable"),r=t("./Utility");s.prototype.getTransform=function(){return this.isActive()?o.build({translate:this.transformTranslateState.get(),rotate:this.transformRotateState.get(),skew:this.transformSkewState.get(),scale:this.transformScaleState.get()}):this.getFinalTransform()},s.prototype.getFinalTransform=function(){return this._finalTransform},s.prototype.setTransform=function(t,e,i){var s=i?r.after(4,i):void 0;if(e){if(this._transformDirty){var n=o.interpret(this.getFinalTransform());this.transformTranslateState.set(n.translate),this.transformRotateState.set(n.rotate),this.transformSkewState.set(n.skew),this.transformScaleState.set(n.scale),this._transformDirty=!1}var a=o.interpret(t);this.transformTranslateState.set(a.translate,e,s),this.transformRotateState.set(a.rotate,e,s),this.transformSkewState.set(a.skew,e,s),this.transformScaleState.set(a.scale,e,s)}else this.transformTranslateState.halt(),this.transformRotateState.halt(),this.transformSkewState.halt(),this.transformScaleState.halt(),this._transformDirty=!0;this._finalTransform=t},s.prototype.getOpacity=function(){return this.opacityState.get()},s.prototype.setOpacity=function(t,e,i){this.opacityState.set(t,e,i)},s.prototype.getOrigin=function(){return this._originEnabled?this.originState.get():void 0},s.prototype.setOrigin=function(t,e,i){this._originEnabled=!!t,t||(t=[0,0]),t instanceof Array||(t=r.origins[t]),this.originState.set(t,e,i)},s.prototype.getSize=function(){return this._sizeEnabled?this.sizeState.get():void 0},s.prototype.setSize=function(t,e,i){this._sizeEnabled=!!t,t||(t=[0,0]),this.sizeState.set(t,e,i)},s.prototype.setDefaultTransition=function(t){this.transformTranslateState.setDefault(t),this.transformRotateState.setDefault(t),this.transformSkewState.setDefault(t),this.transformScaleState.setDefault(t),this.opacityState.setDefault(t),this.originState.setDefault(t),this.sizeState.setDefault(t)},s.prototype.halt=function(){this.transformTranslateState.halt(),this.transformRotateState.halt(),this.transformSkewState.halt(),this.transformScaleState.halt(),this.opacityState.halt(),this.originState.halt(),this.sizeState.halt()},s.prototype.isActive=function(){return this.transformTranslateState.isActive()||this.transformRotateState.isActive()||this.transformSkewState.isActive()||this.transformScaleState.isActive()},s.prototype.render=function(t){return{transform:this.getTransform(),opacity:this.getOpacity(),origin:this.getOrigin(),size:this.getSize(),target:t}},i.exports=s}),define("app/custom/LightBox",["require","exports","module","famous/Matrix","famous/Modifier","famous/RenderNode","famous/Utility"],function(t,e,i){function s(t){this.options={inTransform:o.scale(.001,.001,.001),inOpacity:0,inOrigin:[.5,.5],outTransform:o.scale(.001,.001,.001),outOpacity:0,outOrigin:[.5,.5],showTransform:o.identity,showOpacity:1,showOrigin:[.5,.5],inTransition:!0,outTransition:!0,overlap:!1},t&&this.setOptions(t),this._showing=!1,this.nodes=[],this.transforms=[]}var o=t("famous/Matrix"),n=t("famous/Modifier"),r=t("famous/RenderNode"),a=t("famous/Utility");s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.inTransform&&(this.options.inTransform=t.inTransform),void 0!==t.inOpacity&&(this.options.inOpacity=t.inOpacity),void 0!==t.inOrigin&&(this.options.inOrigin=t.inOrigin),void 0!==t.outTransform&&(this.options.outTransform=t.outTransform),void 0!==t.outOpacity&&(this.options.outOpacity=t.outOpacity),void 0!==t.outOrigin&&(this.options.outOrigin=t.outOrigin),void 0!==t.showTransform&&(this.options.showTransform=t.showTransform),void 0!==t.showOpacity&&(this.options.showOpacity=t.showOpacity),void 0!==t.showOrigin&&(this.options.showOrigin=t.showOrigin),void 0!==t.inTransition&&(this.options.inTransition=t.inTransition),void 0!==t.outTransition&&(this.options.outTransition=t.outTransition),void 0!==t.overlap&&(this.options.overlap=t.overlap)},s.prototype.show=function(t,e,i){if(!t)return this.hide(i);if(e instanceof Function&&(i=e,e=void 0),this._showing){if(!this.options.overlap)return this.hide(this.show.bind(this,t,i)),void 0;this.hide()}this._showing=!0,t.options&&this.setOptions(t.options);var s=new n({transform:this.options.inTransform,opacity:this.options.inOpacity,origin:this.options.inOrigin}),o=new r;o.link(s).link(t),this.nodes.push(o),this.transforms.push(s);var u=i?a.after(3,i):void 0;e||(e=this.options.inTransition),s.setTransform(this.options.showTransform,e,u),s.setOpacity(this.options.showOpacity,e,u),s.setOrigin(this.options.showOrigin,e,u)},s.prototype.hide=function(t,e){if(this._showing){this._showing=!1,t instanceof Function&&(e=t,t=void 0);var i=this.nodes[this.nodes.length-1],s=this.transforms[this.transforms.length-1],o=a.after(3,function(){this.nodes.splice(this.nodes.indexOf(i),1),this.transforms.splice(this.transforms.indexOf(s),1),e&&e.call(this)}.bind(this));t||(t=this.options.outTransition),s.setTransform(this.options.outTransform,t,o),s.setOpacity(this.options.outOpacity,t,o),s.setOrigin(this.options.outOrigin,t,o)}},s.prototype.render=function(){for(var t=[],e=0;e<this.nodes.length;e++)t.push(this.nodes[e].render());return t},i.exports=s}),define("famous-utils/Time",["require","exports","module","famous/Engine"],function(t,e,i){function s(t,e){var i=Date.now(),s=function(){var s=Date.now();s-i>=e&&(t(),i=Date.now())};return u.on("prerender",s),s}function o(t){u.unbind("prerender",t)}function n(t,e,i){var s=Date.now(),o=function(){var n=Date.now(),r=(n-s)/t;return n-s>=t?(e(1),u.unbind("prerender",o),i&&i(),void 0):(e(r),void 0)};u.on("prerender",o)}function r(t,e){var i=Date.now(),s=function(){var o=Date.now();return o-i>=e?(u.unbind("prerender",s),t(),void 0):void 0};return u.on("prerender",s),s}function a(t){u.unbind("prerender",t)}var u=t("famous/Engine");i.exports={setInterval:s,removeInterval:o,executeOver:n,setTimeout:r,removeTimeout:a}}),define("famous-utils/Utils",["require","exports","module","./Time","famous/Matrix"],function(t,e,i){var s=t("./Time"),o=t("famous/Matrix"),n={rad2deg:function(t){return 57.2957795*t},deg2rad:function(t){return.0174532925*t},distance:function(t,e,i,s){var o=i-t,n=s-e;return Math.sqrt(o*o+n*n)},distance3D:function(t,e,i,s,o,n){var r=s-t,a=o-e,u=n-i;return Math.sqrt(r*r+a*a+u*u)},map:function(t,e,i,s,o,n){var r=(t-e)/(i-e)*(o-s)+s;return n&&(o>s?r>o?r=o:s>r&&(r=s):o>r?r=o:r>s&&(r=s)),r},limit:function(t,e,i){return t=Math.min(t,i),t=Math.max(t,e)},perspective:function(t,e,i,s){var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n=1/Math.tan(t/2),r=1/(i-s);return o[0]=n/e,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=n,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(s+i)*r,o[11]=-1,o[12]=0,o[13]=0,o[14]=2*s*i*r,o[15]=0,o},ortho:function(t,e,i,s,o,n){var r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],a=-(e+t)/(e-t),u=-(s+i)/(s-i),h=-(n+o)/(n-o);return r[0]=2/(e-t),r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=2/(s-i),r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=-2/(n-o),r[11]=-1,r[12]=a,r[13]=u,r[14]=h,r[15]=1,r},normalFromFM:function(t,e){var i=e[0],s=e[1],o=e[2],n=e[3],r=e[4],a=e[5],u=e[6],h=e[7],c=e[8],p=e[9],l=e[10],f=e[11],d=e[12],m=e[13],v=e[14],g=e[15],y=i*a-s*r,w=i*u-o*r,S=i*h-n*r,b=s*u-o*a,x=s*h-n*a,_=o*h-n*u,T=c*m-p*d,O=c*v-l*d,C=c*g-f*d,E=p*v-l*m,M=p*g-f*m,z=l*g-f*v,k=y*z-w*M+S*E+b*C-x*O+_*T;return k?(k=1/k,t[0]=(a*z-u*M+h*E)*k,t[1]=(u*C-r*z-h*O)*k,t[2]=(r*M-a*C+h*T)*k,t[3]=(o*M-s*z-n*E)*k,t[4]=(i*z-o*C+n*O)*k,t[5]=(s*C-i*M-n*T)*k,t[6]=(m*_-v*x+g*b)*k,t[7]=(v*S-d*_-g*w)*k,t[8]=(d*x-m*S+g*y)*k,t):null},clamp:function(t,e,i){return e>t?e:t>i?i:t},color:function(t,e,i,s){return"rgba("+Math.floor(t)+","+Math.floor(e)+","+Math.floor(i)+","+s+")"},backgroundTransparent:function(){return{backgroundColor:"transparent"}},backgroundColor:function(t,e,i,s){return{backgroundColor:"rgba("+Math.floor(t)+","+Math.floor(e)+","+Math.floor(i)+","+s+")"}},borderRadius:function(t){return{borderRadius:t+"px"}},borderTopWidth:function(t){return{borderTopWidth:t+"px"}},borderBottomWidth:function(t){return{borderBottomWidth:t+"px"}},borderLeftWidth:function(t){return{borderLeftWidth:t+"px"}},borderRightWidth:function(t){return{borderRightWidth:t+"px"}},borderWidth:function(t){return{borderWidth:t+"px"}},borderColor:function(t,e,i,s){return 0==s?{borderColor:"transparent"}:{borderColor:"rgba("+Math.floor(t)+","+Math.floor(e)+","+Math.floor(i)+","+s+")"}},borderTopColor:function(t,e,i,s){return 0==s?{borderTopColor:"transparent"}:{borderTopColor:"rgba("+Math.floor(t)+","+Math.floor(e)+","+Math.floor(i)+","+s+")"}},borderBottomColor:function(t,e,i,s){return 0==s?{borderBottomColor:"transparent"}:{borderBottomColor:"rgba("+Math.floor(t)+","+Math.floor(e)+","+Math.floor(i)+","+s+")"}},borderRightColor:function(t,e,i,s){return 0==s?{borderRightColor:"transparent"}:{borderRightColor:"rgba("+Math.floor(t)+","+Math.floor(e)+","+Math.floor(i)+","+s+")"}},borderLeftColor:function(t,e,i,s){return 0==s?{borderLeftColor:"transparent"}:{borderLeftColor:"rgba("+Math.floor(t)+","+Math.floor(e)+","+Math.floor(i)+","+s+")"}},borderStyle:function(t){return{borderStyle:t}},borderTopStyle:function(t){return{borderTopStyle:t}},borderBottomStyle:function(t){return{borderBottomStyle:t}},borderRightStyle:function(t){return{borderRightStyle:t}},borderLeftStyle:function(t){return{borderLeftStyle:t}},colorHSL:function(t,e,i,s){return"hsla("+Math.floor(t)+","+Math.floor(e)+"%,"+Math.floor(i)+"%,"+s+")"},backgroundTransparent:function(){return{backgroundColor:"transparent"}},backgroundColorHSL:function(t,e,i,s){return{backgroundColor:"hsla("+Math.floor(t)+","+Math.floor(e)+"%,"+Math.floor(i)+"%,"+s+")"}},backfaceVisible:function(t){return t===!0?{"backface-visibility":"visible","-webkit-backface-visibility":"visible",MozBackfaceVisibility:"visible","-ms-backface-visibility":"visible"}:{"backface-visibility":"hidden","-webkit-backface-visibility":"hidden",MozBackfaceVisibility:"hidden","-ms-backface-visibility":"hidden"}},clipCircle:function(t,e,i){return{"-webkit-clip-path":"circle("+t+"px,"+e+"px,"+i+"px)"}},getWidth:function(){return window.innerWidth},getHeight:function(){return window.innerHeight},getCenter:function(){return[.5*n.getWidth(),.5*n.getHeight()]},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?!0:!1},isString:function(t){return"string"==typeof t||t instanceof String},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},extend:function(t,e){for(var i in e)t[i]=e[i];return t},getDevicePixelRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:1},supportsWebGL:function(){return/Android|Chrome|Mozilla/i.test(navigator.appCodeName)&&window.WebGLRenderingContext?!0:!1},getSurfacePosition:function(t){function e(t){var s=o(t);if(""!==s&&void 0!==s){var n=i(s);r[0]+=n[0],r[1]+=n[1],r[2]+=n[2]}t.parentElement!==document.body&&e(t.parentNode)}function i(t){var e=[];t=s(t),e[0]=parseInt(t[12].replace(" ","")),e[1]=parseInt(t[13].replace(" ","")),e[2]=parseInt(t[14].replace(" ",""));for(var i=0;i<e.length;i++)"undefined"==typeof e[i]&&(e[i]=0);return e}function s(t){return t=t.replace("matrix3d(",""),t=t.replace(")",""),t.split(",")}function o(t){var e=t.style.webkitTransform||t.style.transform;return e}var n=t._currTarget,r=[0,0,0];return n?(e(n),r):void 0},getCenterMatrix:function(t,e,i){return void 0==i&&(i=0),o.translate(t[0]-.5*e[0],t[1]-.5*e[1],i)},debounce:function(t,e){var i,o,n,r,a;return function(){o=this,a=arguments,n=new Date;var u=function(){var h=new Date-n;e>h?i=s.setTimeout(u,e-h):(i=null,r=t.apply(o,a))};return i||(i=s.setTimeout(u,e)),r}},hasUserMedia:function(){return!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)},getUserMedia:function(){return navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia},isWebkit:function(){return!!window.webkitURL},isAndroid:function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("android")>-1},hasLocalStorage:function(){return!!window.localStorage}};i.exports=n}),define("app/Constant",["require","exports","module"],function(t,e,i){function s(){this.colabeoLogoWidth=200,this.headerHeight=150,this.footerHeight=50,this.favorItemWidth=200,this.favorItemHeight=150,this.favorPaddingTop=20,this.favorPaddingLeft=10,this.favorPaddingRight=10,this.gridLayoutCol=0,this.gridLayoutRow=0}i.exports=s}),define("app/config",["require","exports","module","famous/Utility"],function(t,e,i){var s=t("famous/Utility");i.exports={debug:!1,header:{look:{classes:["header"],size:[void 0,50],side:"top"},feel:{inTransition:{method:"wall",period:300,dampingRatio:0,restitution:.2},outTransition:{method:"spring",period:300,dampingRatio:.5,velocity:0},overlap:!0}},navigation:{look:{side:"bottom",direction:s.Direction.X,size:[100,50],onClasses:["navigation","on"],offClasses:["navigation","off"]},feel:{inTransition:{curve:"easeInOut",duration:150},outTransition:{curve:"easeInOut",duration:150}}},content:{feel:{inTransition:{method:"spring",period:1e3,dampingRatio:.5,velocity:0},outTransition:{method:"spring",period:600,dampingRatio:.5,velocity:0},overlap:!0}}}}),define("famous/OptionsManager",["require","exports","module","./EventHandler"],function(t,e,i){function s(t){this._value=t,this.eventOutput=null}function o(){this.eventOutput=new n,this.eventOutput.bindThis(this),n.setOutputHandler(this,this.eventOutput)}var n=t("./EventHandler");s.prototype.patch=function(){for(var t=this._value,e=0;e<arguments.length;e++){var i=arguments[e];for(var s in i)s in t&&i[s].constructor===Object&&t[s].constructor===Object?(t.hasOwnProperty(s)||(t[s]=Object.create(t[s])),this.key(s).patch(i[s]),this.eventOutput&&this.eventOutput.emit("change",{id:s,value:this.key(s).value()})):this.set(s,i[s])}return this},s.prototype.setOptions=s.prototype.patch,s.prototype.key=function(t){var e=new s(this._value[t]);return(!(e._value instanceof Object)||e._value instanceof Array)&&(e._value={}),e},s.prototype.get=function(t){return this._value[t]},s.prototype.getOptions=s.prototype.get,s.prototype.set=function(t,e){var i=this.get(t);return this._value[t]=e,this.eventOutput&&e!==i&&this.eventOutput.emit("change",{id:t,value:e}),this},s.prototype.value=function(){return this._value},s.prototype.on=function(){return o.call(this),this.on.apply(this,arguments)},s.prototype.unbind=function(){return o.call(this),this.unbind.apply(this,arguments)},s.prototype.pipe=function(){return o.call(this),this.pipe.apply(this,arguments)},s.prototype.unpipe=function(){return o.call(this),this.unpipe.apply(this,arguments)},i.exports=s}),define("famous/View",["require","exports","module","./RenderNode","./EventHandler","./OptionsManager"],function(t,e,i){function s(t){this.node=new o,this.eventInput=new n,this.eventOutput=new n,n.setInputHandler(this,this.eventInput),n.setOutputHandler(this,this.eventOutput),this.options=Object.create(this.constructor.DEFAULT_OPTIONS||s.DEFAULT_OPTIONS),this.optionsManager=new r(this.options),t&&this.setOptions(t)}var o=t("./RenderNode"),n=t("./EventHandler"),r=t("./OptionsManager");s.DEFAULT_OPTIONS={},s.prototype.getOptions=function(){return this.optionsManager.value()},s.prototype.setOptions=function(t){this.optionsManager.patch(t)},s.prototype._add=function(){return this.node.add.apply(this.node,arguments)},s.prototype._link=function(){return this.node.link.apply(this.node,arguments)},s.prototype.render=function(){return this.node.render.apply(this.node,arguments)},s.prototype.getSize=function(){var t=this.node.get();return t.getSize?t.getSize.apply(t,arguments):this.options.size},i.exports=s}),define("app/view/InstallationView",["require","exports","module","famous/Engine","famous/Surface","famous/View","famous/Modifier","famous/Matrix","famous/Engine"],function(t,e,i){function s(){n.apply(this,arguments),this.buttonSurface=new o({size:[void 0,void 0],content:'<a class="btn btn-cta btn-lg install-link" link="https://chrome.google.com/webstore/detail/ecleeepjaolfenbeoehehfnaldpdikbe"><p>+ ADD TO CHROME</p></a>'}),this._add(this.buttonSurface),this.iframeSurface=new o({size:[400,.84*window.innerHeight],content:'<iframe src="/" class="iframe-colabeo-dashboard"></iframe>'});var t=new r({transform:a.translate(0,0,100),origin:[.82,.6]});this._add(t).link(this.iframeSurface),u.on("resize",function(){this.iframeSurfaceResize()}.bind(this))}var o=(t("famous/Engine"),t("famous/Surface")),n=t("famous/View"),r=t("famous/Modifier"),a=t("famous/Matrix"),u=t("famous/Engine");s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.iframeSurfaceResize=function(){this.iframeSurface.setSize([400,.84*window.innerHeight])},i.exports=s}),define("famous-views/LightBox",["require","exports","module","famous/Matrix","famous/Modifier","famous/RenderNode","famous/Utility"],function(t,e,i){function s(t){this.options={inTransform:o.scale(.001,.001,.001),inOpacity:0,inOrigin:[.5,.5],outTransform:o.scale(.001,.001,.001),outOpacity:0,outOrigin:[.5,.5],showTransform:o.identity,showOpacity:1,showOrigin:[.5,.5],inTransition:!0,outTransition:!0,overlap:!1},t&&this.setOptions(t),this._showing=!1,this.nodes=[],this.transforms=[]}var o=t("famous/Matrix"),n=t("famous/Modifier"),r=t("famous/RenderNode"),a=t("famous/Utility");s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.inTransform&&(this.options.inTransform=t.inTransform),void 0!==t.inOpacity&&(this.options.inOpacity=t.inOpacity),void 0!==t.inOrigin&&(this.options.inOrigin=t.inOrigin),void 0!==t.outTransform&&(this.options.outTransform=t.outTransform),void 0!==t.outOpacity&&(this.options.outOpacity=t.outOpacity),void 0!==t.outOrigin&&(this.options.outOrigin=t.outOrigin),void 0!==t.showTransform&&(this.options.showTransform=t.showTransform),void 0!==t.showOpacity&&(this.options.showOpacity=t.showOpacity),void 0!==t.showOrigin&&(this.options.showOrigin=t.showOrigin),void 0!==t.inTransition&&(this.options.inTransition=t.inTransition),void 0!==t.outTransition&&(this.options.outTransition=t.outTransition),void 0!==t.overlap&&(this.options.overlap=t.overlap)},s.prototype.show=function(t,e,i){if(!t)return this.hide(i);if(e instanceof Function&&(i=e,e=void 0),this._showing){if(!this.options.overlap)return this.hide(this.show.bind(this,t,i)),void 0;this.hide()}this._showing=!0;var s=new n({transform:this.options.inTransform,opacity:this.options.inOpacity,origin:this.options.inOrigin}),o=new r;o.link(s).link(t),this.nodes.push(o),this.transforms.push(s);var u=i?a.after(3,i):void 0;e||(e=this.options.inTransition),s.setTransform(this.options.showTransform,e,u),s.setOpacity(this.options.showOpacity,e,u),s.setOrigin(this.options.showOrigin,e,u)},s.prototype.hide=function(t,e){if(this._showing){this._showing=!1,t instanceof Function&&(e=t,t=void 0);var i=this.nodes[this.nodes.length-1],s=this.transforms[this.transforms.length-1],o=a.after(3,function(){this.nodes.splice(this.nodes.indexOf(i),1),this.transforms.splice(this.transforms.indexOf(s),1),e&&e.call(this)}.bind(this));t||(t=this.options.outTransition),s.setTransform(this.options.outTransform,t,o),s.setOpacity(this.options.outOpacity,t,o),s.setOrigin(this.options.outOrigin,t,o)}},s.prototype.render=function(){for(var t=[],e=0;e<this.nodes.length;e++)t.push(this.nodes[e].render());return t},i.exports=s}),define("famous-views/EdgeSwapper",["require","exports","module","famous/Entity","famous/EventHandler","famous/Matrix","./LightBox"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this._currTarget=void 0,this._size=[window.innerWidth,window.innerHeight],this.lightbox=new a(this.options),this.eventInput=new n,n.setInputHandler(this,this.eventInput),this.id=o.register(this),t&&this.setOptions(t)}var o=t("famous/Entity"),n=t("famous/EventHandler"),r=t("famous/Matrix"),a=t("./LightBox");s.DEFAULT_OPTIONS={inOrigin:[0,0],outOrigin:[0,0],showOrigin:[0,0],inTransform:r.translate(window.innerWidth,0,0),outTransform:r.translate(window.innerWidth,0,0)},s.prototype.show=function(t){this._currTarget&&this.eventInput.unpipe(this._currTarget),this._currTarget=t,this._currTarget&&(this._currTarget.setSize&&this._currTarget.setSize(this._size),this._currTarget.emit&&this.eventInput.pipe(this._currTarget)),this.lightbox.show.apply(this.lightbox,arguments)},s.prototype.setOptions=function(t){this.lightbox.setOptions(t)},s.prototype.render=function(){return this.id},s.prototype.commit=function(t,e,i,s,o){return(o[0]!=this._size[0]||o[1]!=this._size[1])&&(this._size=o,this.lightbox.setOptions({inTransform:r.translate(this._size[0],0,0),outTransform:r.translate(this._size[0],0,0)}),this._currTarget&&this._currTarget.setSize&&this._currTarget.setSize(o)),{transform:e,opacity:i,origin:s,size:o,target:this.lightbox.render()}},i.exports=s}),define("famous-views/HeaderFooterLayout",["require","exports","module","famous/Entity","famous/RenderNode","famous/Matrix"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),t&&this.setOptions(t),this._entityId=o.register(this),this._header=new n,this._footer=new n,this._content=new n,this.id={header:this._header,footer:this._footer,content:this._content}}var o=t("famous/Entity"),n=t("famous/RenderNode"),r=t("famous/Matrix");s.DIRECTION_X=0,s.DIRECTION_Y=1,s.DEFAULT_OPTIONS={direction:s.DIRECTION_Y,headerSize:void 0,footerSize:void 0,defaultHeaderSize:0,defaultFooterSize:0},s.prototype.render=function(){return this._entityId},s.prototype.setOptions=function(t){for(var e in s.DEFAULT_OPTIONS)void 0!==t[e]&&(this.options[e]=t[e])},s.prototype.commit=function(t,e,i,o,n){function a(t,e){var i=t.get();if(!i||!i.getSize)return e;var s=i.getSize();return s[this.options.direction]||e}function u(t){return this.options.direction==s.DIRECTION_X?r.translate(t,0,0):r.translate(0,t,0)}function h(t){return this.options.direction==s.DIRECTION_X?[t,n[1]]:[n[0],t]}var c=void 0!==this.options.headerSize?this.options.headerSize:a.call(this,this._header,this.options.defaultHeaderSize),p=void 0!==this.options.footerSize?this.options.footerSize:a.call(this,this._footer,this.options.defaultFooterSize),l=n[this.options.direction]-c-p,f=[.5,.5],d=[.5,.5];f[this.options.direction]=0,d[this.options.direction]=1;var m=[{origin:f,size:h.call(this,c),target:this._header.render()},{transform:u.call(this,c),origin:f,size:h.call(this,l),target:this._content.render()},{origin:d,size:h.call(this,p),target:this._footer.render()}];e=r.move(e,[-n[0]*o[0],-n[1]*o[1],0]);var v={transform:e,opacity:i,origin:o,size:n,target:m};return v},i.exports=s}),define("famous/ViewSequence",["require","exports","module"],function(t,e,i){function s(t,e,i){this.array=t||[],this.index=e||0,this.loop=i||!1,this._prev=void 0,this._prevIndex=void 0,this._next=void 0,this._nextIndex=void 0}function o(t){for(var e=this.index,i=this;i&&e<this.array.length;)i.index+=t,void 0!==i._prevIndex&&(i._prevIndex+=t),void 0!==i._nextIndex&&(i._nextIndex+=t),i=i._next}s.prototype._createPrevious=function(){var t=new this.constructor(this.array,this._prevIndex,this.loop);return t._next=this,t._nextIndex=this.index,t},s.prototype._createNext=function(){var t=new this.constructor(this.array,this._nextIndex,this.loop);return t._prev=this,t._prevIndex=this.index,t},s.prototype.getPrevious=function(){var t=this.index-1;if(0==this.index){if(!this.loop)return void 0;t=this.array.length-1}return this._prev&&this._prevIndex==t||(this._prevIndex=t,this._prev=this._createPrevious()),this._prev},s.prototype.getNext=function(){var t=this.index+1;if(t>=this.array.length){if(!this.loop)return void 0;t=0}return this._next&&this._nextIndex==t||(this._nextIndex=t,this._next=this._createNext()),this._next},s.prototype.toString=function(){return this.index},s.prototype.unshift=function(){if(this._prev&&0!==this.index)this._prev.unshift.apply(this._prev,arguments);else{var t=arguments.length;this.array.unshift.apply(this.array,arguments),o.call(this,t)}},s.prototype.push=function(){this.array.push.apply(this.array,arguments)},s.prototype.splice=function(t,e){if(this._prev&&this.index!==t)this._prev.splice.apply(this._prev,arguments);else{var i=this.index>=t?arguments.length-2-e:0;this.array.splice.apply(this.array,arguments),i&&o.call(this,i)}},s.prototype.get=function(){return this.array[this.index]},s.prototype.getSize=function(){var t=this.get();if(t)return t.getSize?t.getSize.apply(t,arguments):void 0},s.prototype.render=function(){var t=this.get();if(t)return t.render.apply(t,arguments)},i.exports=s}),define("famous-views/GridLayout",["require","exports","module","famous/Entity","famous/RenderNode","famous/Matrix","famous/ViewSequence"],function(t,e,i){function s(t){this.options={size:[1,1]},t&&this.setOptions(t),this.id=o.register(this),this._targetPositionsCache=[],this._targetSizesCache=[],this._contextSizeCache=[0,0],this._gridSizeCache=[0,0]}var o=t("famous/Entity"),n=(t("famous/RenderNode"),t("famous/Matrix")),r=t("famous/ViewSequence");s.prototype.render=function(){return this.id},s.prototype.setOptions=function(t){void 0!==t.size&&(this.options.size=t.size)},s.prototype.sequenceFrom=function(t){t instanceof Array&&(t=new r(t)),this.sequence=t},s.prototype.commit=function(t,e,i,s,o){var r=this.options.size[1],a=this.options.size[0];if(o[0]!=this._contextSizeCache[0]||o[1]!==this._contextSizeCache[1]||r!==this._gridSizeCache[0]||a!==this._gridSizeCache[1])for(var u=o[1]/r,h=o[0]/a,c=0;r>c;c++)for(var p=Math.round(u*c),l=0;a>l;l++){var f=Math.round(h*l),d=c*a+l;this._targetPositionsCache[d]=n.translate(f,p),this._targetSizesCache[d]=[Math.round(h*(l+1))-f,Math.round(u*(c+1))-p]}for(var m=this.sequence,v=[],d=0;m&&d<this._targetPositionsCache.length;){var g=m.get();g&&(v[d]={transform:this._targetPositionsCache[d],size:this._targetSizesCache[d],target:g.render()}),m=m.getNext(),d++}o&&(e=n.move(e,[-o[0]*s[0],-o[1]*s[1],0]));var y={transform:e,opacity:i,origin:s,size:o,target:v};return y},i.exports=s}),define("famous-views/Fader",["require","exports","module","famous/Transitionable"],function(t,e,i){function s(t,e){this.options={cull:!1,transition:!0,pulseInTransition:!0,pulseOutTransition:!0,visibilityThreshold:0},t&&this.setOptions(t),e||(e=0),this.transitionHelper=new o(e)}var o=t("famous/Transitionable");s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.cull&&(this.options.cull=t.cull),void 0!==t.transition&&(this.options.transition=t.transition),void 0!==t.pulseInTransition&&(this.options.pulseInTransition=t.pulseInTransition),void 0!==t.pulseOutTransition&&(this.options.pulseOutTransition=t.pulseOutTransition),void 0!==t.visibilityThreshold&&(this.options.visibilityThreshold=t.visibilityThreshold)},s.prototype.show=function(t){this.set(1,this.options.transition,t)},s.prototype.hide=function(t){this.set(0,this.options.transition,t)},s.prototype.pulse=function(t,e){void 0===t&&(t=1);var i=this.transitionHelper.get();this.transitionHelper.set(t,this.options.pulseInTransition),this.transitionHelper.set(i,this.options.pulseOutTransition,e)},s.prototype.set=function(t,e,i){this.transitionHelper.halt(),this.transitionHelper.set(t,e,i)},s.prototype.render=function(t){var e=this.transitionHelper.get();return this.options.cull&&!e?void 0:{opacity:e,target:t}},s.prototype.isVisible=function(){var t=this.options.visibilityThreshold;return t>=1?1==this.transitionHelper.get():this.transitionHelper.get()>t},i.exports=s}),define("famous-views/ImageFader",["require","exports","module","famous/RenderNode","./Fader","famous/Matrix"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this.nodes=[],this.faders=[],this.mode=-1,t&&this.setOptions(t)}var o=t("famous/RenderNode"),n=t("./Fader"),r=t("famous/Matrix");s.DEFAULT_OPTIONS={crossfade:!1},s.prototype.getMode=function(){return this.mode},s.prototype.setMode=function(t,e,i){if(this.mode=t,this.options.crossfade){for(var s=0;s<this.faders.length;s++)this.faders[s].set(0,e);this.faders[t].set(1,e,i)}else this.faders[t].set(1,e,function(){if(this.mode==t){for(var e=0;e<this.faders.length;e++)e!=t&&this.faders[e].set(0);i&&i()}}.bind(this))},s.prototype.forMode=function(t){return this.nodes[t]||(this.nodes[t]=new o,this.faders[t]=new n(this.options)),this.nodes[t]},s.prototype.setOptions=function(t){void 0!==t.crossfade&&(this.options.crossfade=t.crossfade)},s.behindMatrix=r.translate(0,0,-.01),s.prototype.render=function(){for(var t=[],e=0;e<this.nodes.length;e++){var i=this.faders[e].render(this.nodes[e].render());e!=this.mode&&(i={transform:s.behindMatrix,target:i}),t[e]=i}return t},i.exports=s}),define("famous-widgets/ToggleButton",["require","exports","module","famous/Surface","famous/EventHandler","famous-views/ImageFader"],function(t,e,i){function s(t){this.options={content:"",offClasses:["off"],onClasses:["on"],size:void 0,outTransition:{curve:"easeInOut",duration:300},inTransition:{curve:"easeInOut",duration:300},toggleMode:s.TOGGLE,crossfade:!1},this.eventOutput=new n,n.setOutputHandler(this,this.eventOutput),this.offSurface=new o,this.offSurface.on("click",function(){this.options.toggleMode!==s.OFF&&this.select()}.bind(this)),this.offSurface.pipe(this.eventOutput),this.onSurface=new o,this.onSurface.on("click",function(){this.options.toggleMode!==s.ON&&this.deselect()}.bind(this)),this.onSurface.pipe(this.eventOutput),this.arbiter=new r({crossfade:this.options.crossfade}),this.arbiter.forMode(s.OFF).link(this.offSurface),this.arbiter.forMode(s.ON).link(this.onSurface),this.arbiter.setMode(s.OFF),this.selected=!1,t&&this.setOptions(t)}var o=t("famous/Surface"),n=t("famous/EventHandler"),r=t("famous-views/ImageFader");s.OFF=0,s.ON=1,s.TOGGLE=2,s.prototype.select=function(){this.selected=!0,this.arbiter.setMode(s.ON,this.options.inTransition),this.eventOutput.emit("select")},s.prototype.deselect=function(){this.selected=!1,this.arbiter.setMode(s.OFF,this.options.outTransition),this.eventOutput.emit("deselect")},s.prototype.isSelected=function(){return this.selected},s.prototype.setOptions=function(t){void 0!==t.content&&(this.options.content=t.content,this.offSurface.setContent(this.options.content),this.onSurface.setContent(this.options.content)),t.offClasses&&(this.options.offClasses=t.offClasses,this.offSurface.setClasses(this.options.offClasses)),t.onClasses&&(this.options.onClasses=t.onClasses,this.onSurface.setClasses(this.options.onClasses)),void 0!==t.size&&(this.options.size=t.size,this.onSurface.setSize(this.options.size),this.offSurface.setSize(this.options.size)),void 0!==t.toggleMode&&(this.options.toggleMode=t.toggleMode),void 0!==t.outTransition&&(this.options.outTransition=t.outTransition),void 0!==t.inTransition&&(this.options.inTransition=t.inTransition),void 0!==t.crossfade&&(this.options.crossfade=t.crossfade,this.arbiter.setOptions({crossfade:this.options.crossfade}))},s.prototype.getSize=function(){return this.options.size},s.prototype.render=function(){return this.arbiter.render()},i.exports=s}),define("famous-widgets/NavigationBar",["require","exports","module","famous/EventHandler","famous/Utility","famous/View","famous-views/GridLayout","./ToggleButton"],function(t,e,i){function s(){a.apply(this,arguments),this.layout=new u,this.buttons=[],this._buttonIds={},this._buttonCallbacks={},this.layout.sequenceFrom(this.buttons),this._link(this.layout),this.optionsManager.on("change",o.bind(this))}function o(t){var e=t.id,i=t.value;if("direction"===e)this.layout.setOptions({size:n.call(this.buttons.length,this.options.direction)});else if("buttons"===e)for(var s in this.buttons)this.buttons[s].setOptions(i);else if("sections"===e)for(var e in this.options.sections)this.defineSection(e,this.options.sections[e])}function n(t,e){return e===r.Direction.X?[t,1]:[1,t]}var r=(t("famous/EventHandler"),t("famous/Utility")),a=t("famous/View"),u=t("famous-views/GridLayout"),h=t("./ToggleButton");s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={sections:[],widget:h,size:[void 0,50],direction:r.Direction.X,buttons:{toggleMode:h.ON}},s.prototype.defineSection=function(t,e){var i,s=this._buttonIds[t];
if(void 0===s){s=this.buttons.length,this._buttonIds[t]=s;var o=this.options.widget;i=new o,this.buttons[s]=i,this.layout.setOptions({size:n(this.buttons.length,this.options.direction)})}else i=this.buttons[s],i.unbind("select",this._buttonCallbacks[t]);this.options.buttons&&i.setOptions(this.options.buttons),i.setOptions(e),this._buttonCallbacks[t]=this.select.bind(this,t),i.on("select",this._buttonCallbacks[t])},s.prototype.select=function(t){var e=this._buttonIds[t];this.buttons[e]&&this.buttons[e].isSelected()?this.eventOutput.emit("select",{id:t}):this.buttons[e]&&this.buttons[e].select();for(var i=0;i<this.buttons.length;i++)i!=e&&this.buttons[i].deselect()},i.exports=s}),define("famous-widgets/TitleBar",["require","exports","module","famous/Matrix","famous/Surface","famous-views/LightBox"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this.lightbox=new r,this._surfaces={},t&&this.setOptions(t)}var o=t("famous/Matrix"),n=t("famous/Surface"),r=t("famous-views/LightBox");s.DEFAULT_OPTIONS={widget:n,inOrigin:[.5,0],outOrigin:[.5,0],showOrigin:[.5,0],inTransition:!0,outTransition:!0,size:[void 0,50],look:void 0},s.prototype.show=function(t){var e=this.options.widget;if(!(t in this._surfaces)){var i=new e({size:this.options.size});i.setOptions(this.options.look),i.setContent(t),this._surfaces[t]=i}this.lightbox.show(this._surfaces[t])},s.prototype.getSize=function(){return this.options.size},s.prototype.setOptions=function(t){if(this.lightbox.setOptions(t),t.widget&&(this.options.widget=t.widget,this._surfaces={}),t.look&&(this.options.look=t.look),t.size){this.options.size=t.size;var e=o.translate(0,-this.options.size[1]);this.lightbox.setOptions({inTransform:e,outTransform:e})}},s.prototype.render=function(){return this.lightbox.render()},i.exports=s}),define("app/view/MainView",["require","exports","module","app/Constant","famous-views/EdgeSwapper","famous/EventHandler","famous-views/HeaderFooterLayout","famous/Matrix","famous-widgets/NavigationBar","famous/Surface","famous-widgets/TitleBar","famous/Utility","famous/View","famous/RenderNode"],function(t,e,i){function s(){l.apply(this,arguments),this.constant=new o,this.headerFooterLayout=new a,this.header=new c({size:[void 0,this.constant.headerHeight],properties:{textAlign:"center",background:"rgba(0,0,0,0.7)",zIndex:10}}),this.footerSurface=new c({size:[void 0,this.constant.footerHeight],content:'<div class="copy-right">&copy 2014 Colabeo.Inc</div>',properties:{color:"white",fontSize:30,background:"rgba(0,0,0,0.7)",zIndex:10}}),this.contentArea=new n(this.options.content),this.navigation=new h(this.options.navigation),this.headerFooterLayout.id.header.link(this.header),this.headerFooterLayout.id.content.link(this.contentArea),this.headerFooterLayout.id.footer.link(this.footerSurface),this.eventInput.pipe(this.contentArea),r.setOutputHandler(this,this.navigation),this.eventInput=new r,r.setInputHandler(this,this.eventInput),this.eventOutput=new r,r.setOutputHandler(this,this.eventOutput),this._currentSection=void 0,this._sections={},this._sectionTitles={},this.options.sections&&this.initSections(this.options.sections),this.navigation.on("select",function(t){this._currentSection=t.id,this.contentArea.show(this._sections[t.id].get())}.bind(this)),this.headerContent(),this._link(this.headerFooterLayout)}var o=t("app/Constant"),n=t("famous-views/EdgeSwapper"),r=t("famous/EventHandler"),a=t("famous-views/HeaderFooterLayout"),u=t("famous/Matrix"),h=t("famous-widgets/NavigationBar"),c=t("famous/Surface"),p=(t("famous-widgets/TitleBar"),t("famous/Utility")),l=t("famous/View"),f=t("famous/RenderNode");s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={header:{inTransition:!0,outTransition:!0,look:{size:[void 0,50],classes:["header"]}},navigation:{direction:p.Direction.X,buttons:{onClasses:["navigation","on"],offClasses:["navigation","off"],inTransition:!0,outTransition:!0}},content:{inTransition:!0,outTransition:!0,overlap:!0},inTransform:u.identity,outTransform:u.identity,inOpacity:0,outOpacity:0,inTransition:{duration:500},outTransition:{duration:200}},s.prototype.section=function(t){return t in this._sections||(this._sections[t]=new f,this._sections[t].setOptions=function(e){this._sectionTitles[t]=e.title,this.navigation.defineSection(t,{content:'<span class="icon">'+e.navigation.icon+"</span><br />"+e.navigation.caption})}.bind(this)),this._sections[t]},s.prototype.select=function(t){return this._currentSection=t,t in this._sections?(this.navigation.select(t),!0):!1},s.prototype.initSections=function(t){_.each(t,function(t){var e=t.title;this.section(e).setOptions({title:t.title,navigation:t.navigation}),this.section(e).link(t),t.pipe&&t.pipe(this.eventInput)}.bind(this))},s.prototype.headerContent=function(){var t='<div class="colabeo-logo"><img src="pics/Logo_only.png" class="logo"/><div class="overlay-text">Colabeo</div></div> ';t+='<form action="http://google.com/cse" class="google-area" id="google-form">',t+='<div class="google-search-bar">',t+='<i class="fa fa-search fa-2x" id="google-search-icon">  </i>',t+='<input class="span5" name="q" id="google-input-search-bar" type="text" placeholder = "Google Search">',t+="</div>",t+="</form>",this.header.setContent(t)},i.exports=s}),define("app/custom/Surface",["require","exports","module","famous/Entity","famous/EventHandler","famous/Matrix"],function(t,e,i){function s(t){this.options={},this.properties={},this.content="",this.classList=[],this.size=void 0,this._classesDirty=!0,this._stylesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._dirtyClasses=[],this._matrix=void 0,this._opacity=1,this._origin=void 0,this._size=void 0,this.eventForwarder=function(t){this.emit(t.type,t)}.bind(this),this.eventHandler=new f,this.eventHandler.bindThis(this),this.id=l.register(this),t&&this.setOptions(t),this._currTarget=void 0}function o(t){for(var e=this.surfaceEvents,i=0;i<e.length;i++)t.addEventListener(e[i],this.eventForwarder)}function r(t){for(var e=this.surfaceEvents,i=0;i<e.length;i++)t.removeEventListener(e[i],this.eventForwarder)}function a(t){for(var e=0;e<this._dirtyClasses.length;e++)t.classList.remove(this._dirtyClasses[e]);this._dirtyClasses=[]}function u(t){for(var e in this.properties)t.style[e]=this.properties[e]}function h(t){for(var e in this.properties)t.style[e]=""}function c(t,e){return t||e?t&&e?t[0]==e[0]&&t[1]==e[1]:!1:!0}function p(t){return(100*t[0]).toFixed(6)+"% "+(100*t[1]).toFixed(6)+"%"}var l=t("famous/Entity"),f=t("famous/EventHandler"),d=t("famous/Matrix"),m=void 0!==document.body.style.webkitTransform;s.prototype.surfaceEvents=["touchstart","touchmove","touchend","touchcancel","click","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","mousewheel","wheel","keyup","keydown"],s.prototype.elementType="div",s.prototype.elementClass="surface",s.prototype.on=function(t,e){this.eventHandler.on(t,e)},s.prototype.unbind=function(t,e){this.eventHandler.unbind(t,e)},s.prototype.emit=function(t,e){e&&!e.origin&&(e.origin=this);var i=this.eventHandler.emit(t,e);return i&&e.stopPropagation&&e.stopPropagation(),i},s.prototype.pipe=function(t){return this.eventHandler.pipe(t)},s.prototype.pipeEvents=function(){return console.warn("pipeEvents is deprecated; use pipe instead"),this.pipe.apply(this,arguments)},s.prototype.unpipe=function(t){return this.eventHandler.unpipe(t)},s.prototype.render=function(){return this.id},s.prototype.setProperties=function(t){for(n in t)this.properties[n]=t[n];this._stylesDirty=!0},s.prototype.getProperties=function(){return this.properties},s.prototype.addClass=function(t){this.classList.indexOf(t)<0&&(this.classList.push(t),this._classesDirty=!0)},s.prototype.removeClass=function(t){var e=this.classList.indexOf(t);e>=0&&(this._dirtyClasses.push(this.classList.splice(e,1)[0]),this._classesDirty=!0)},s.prototype.setClasses=function(t){for(var e=[],i=0;i<this.classList.length;i++)t.indexOf(this.classList[i])<0&&e.push(this.classList[i]);for(var i=0;i<e.length;i++)this.removeClass(e[i]);for(var i=0;i<t.length;i++)this.addClass(t[i])},s.prototype.getClassList=function(){return this.classList},s.prototype.setContent=function(t){this.content!=t&&(this.content=t,this._contentDirty=!0)},s.prototype.getContent=function(){return this.content},s.prototype.setOptions=function(t){t.size&&this.setSize(t.size),t.classes&&this.setClasses(t.classes),t.properties&&this.setProperties(t.properties),t.content&&this.setContent(t.content)};var v,g,y;v=m?function(t,e){t.style.webkitTransform=d.formatCSS(e)}:function(t,e){t.style.transform=d.formatCSS(e)},g=m?function(t,e){t.style.webkitTransformOrigin=p(e)}:function(t,e){t.style.transformOrigin=p(e)},y=m?function(t){t.style.webkitTransform="scale3d(0.0001,0.0001,1)",t.style.opacity=0}:function(t){t.style.transform="scale3d(0.0001,0.0001,1)",t.style.opacity=0},s.prototype.setup=function(t){var e=t.allocate(this.elementType);if(this.elementClass)if(this.elementClass instanceof Array)for(var i=0;i<this.elementClass.length;i++)e.classList.add(this.elementClass[i]);else e.classList.add(this.elementClass);o.call(this,e),g(e,[0,0]),this._currTarget=e,this._stylesDirty=!0,this._classesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._matrix=void 0,this._opacity=void 0,this._origin=void 0,this._size=void 0},s.prototype.commit=function(t,e,i,s,o){this._currTarget||this.setup(t.getAllocator());var n=this._currTarget;if(this.size){var r=o;o=this.size.slice(0),void 0===o[0]&&r[0]&&(o[0]=r[0]),void 0===o[1]&&r[1]&&(o[1]=r[1])}if(c(this._size,o)||(this._size=o.slice(0),this._sizeDirty=!0),!e&&this._matrix)return this._matrix=void 0,this._opacity=0,y(n),void 0;if(this._opacity!==i&&(this._opacity=i,n.style.opacity=Math.min(i,.999999)),!c(this._origin,s)||!d.equals(this._matrix,e)){e||(e=d.identity),s||(s=[0,0]),this._origin=s.slice(0),this._matrix=e;var h=e;s&&(h=d.moveThen([-this._size[0]*s[0],-this._size[1]*s[1]],e)),v(n,h)}if(this._classesDirty||this._stylesDirty||this._sizeDirty||this._contentDirty){if(this._classesDirty){a.call(this,n);for(var p=this.getClassList(),l=0;l<p.length;l++)n.classList.add(p[l]);this._classesDirty=!1}this._stylesDirty&&(u.call(this,n),this._stylesDirty=!1),this._sizeDirty&&(this._size&&(n.style.width=this._size[0]!==!0?this._size[0]+"px":"",n.style.height=this._size[1]!==!0?this._size[1]+"px":""),this._sizeDirty=!1),this._contentDirty&&(this.deploy(n),this._contentDirty=!1)}},s.prototype.cleanup=function(t){var e=this._currTarget;this.recall(e),e.style.width="",e.style.height="",this._size=void 0,h.call(this,e);var i=this.getClassList();a.call(this,e);for(var s=0;s<i.length;s++)e.classList.remove(i[s]);if(this.elementClass)if(this.elementClass instanceof Array)for(var s=0;s<this.elementClass.length;s++)e.classList.remove(this.elementClass[s]);else e.classList.remove(this.elementClass);r.call(this,e),this._currTarget=void 0,t.deallocate(e),y(e)},s.prototype.deploy=function(t){var e=this.getContent();"string"==typeof e?t.innerHTML=e:t.appendChild(e)},s.prototype.recall=function(t){for(var e=document.createDocumentFragment();t.hasChildNodes();)e.appendChild(t.firstChild);this.setContent(e)},s.prototype.getSize=function(t){return t?this._size:this.size||this._size},s.prototype.setSize=function(t){this.size=t?t.slice(0,2):void 0,this._sizeDirty=!0},i.exports=s}),define("famous-animation/Easing",["require","exports","module"],function(t,e,i){var s={linear:function(t,e,i,s){return t*(i/s)+e},linearNorm:function(t){return t},inQuad:function(t,e,i,s){return i*(t/=s)*t+e},inQuadNorm:function(t){return t*t},outQuad:function(t,e,i,s){return-i*(t/=s)*(t-2)+e},outQuadNorm:function(t){return-(t-=1)*t+1},inOutQuad:function(t,e,i,s){return(t/=s/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},inOutQuadNorm:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},inCubic:function(t,e,i,s){return i*(t/=s)*t*t+e},inCubicNorm:function(t){return t*t*t},outCubic:function(t,e,i,s){return i*((t=t/s-1)*t*t+1)+e},outCubicNorm:function(t){return--t*t*t+1},inOutCubic:function(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},inOutCubicNorm:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},inQuart:function(t,e,i,s){return i*(t/=s)*t*t*t+e},inQuartNorm:function(t){return t*t*t*t},outQuart:function(t,e,i,s){return-i*((t=t/s-1)*t*t*t-1)+e},outQuartNorm:function(t){return-(--t*t*t*t-1)},inOutQuart:function(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},inOutQuartNorm:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},inQuint:function(t,e,i,s){return i*(t/=s)*t*t*t*t+e},inQuintNorm:function(t){return t*t*t*t*t},outQuint:function(t,e,i,s){return i*((t=t/s-1)*t*t*t*t+1)+e},outQuintNorm:function(t){return--t*t*t*t*t+1},inOutQuint:function(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},inOutQuintNorm:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},inSine:function(t,e,i,s){return-i*Math.cos(t/s*(Math.PI/2))+i+e},inSineNorm:function(t){return-1*Math.cos(t*(Math.PI/2))+1},outSine:function(t,e,i,s){return i*Math.sin(t/s*(Math.PI/2))+e},outSineNorm:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t,e,i,s){return-i/2*(Math.cos(Math.PI*t/s)-1)+e},inOutSineNorm:function(t){return-.5*(Math.cos(Math.PI*t)-1)},inExpo:function(t,e,i,s){return 0==t?e:i*Math.pow(2,10*(t/s-1))+e},inExpoNorm:function(t){return 0==t?0:Math.pow(2,10*(t-1))},outExpo:function(t,e,i,s){return t==s?e+i:i*(-Math.pow(2,-10*t/s)+1)+e},outExpoNorm:function(t){return 1==t?1:-Math.pow(2,-10*t)+1},inOutExpo:function(t,e,i,s){return 0==t?e:t==s?e+i:(t/=s/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e},inOutExpoNorm:function(t){return 0==t?0:1==t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},inCirc:function(t,e,i,s){return-i*(Math.sqrt(1-(t/=s)*t)-1)+e},inCircNorm:function(t){return-(Math.sqrt(1-t*t)-1)},outCirc:function(t,e,i,s){return i*Math.sqrt(1-(t=t/s-1)*t)+e},outCircNorm:function(t){return Math.sqrt(1- --t*t)},inOutCirc:function(t,e,i,s){return(t/=s/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},inOutCircNorm:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},inElastic:function(t,e,i,s){var o=1.70158,n=0,r=i;if(0==t)return e;if(1==(t/=s))return e+i;if(n||(n=.3*s),r<Math.abs(i)){r=i;var o=n/4}else var o=n/(2*Math.PI)*Math.asin(i/r);return-(r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*s-o)*Math.PI/n))+e},inElasticNorm:function(t){var e=1.70158,i=0,s=1;return 0==t?0:1==t?1:(i||(i=.3),e=i/(2*Math.PI)*Math.asin(1/s),-(s*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i)))},outElastic:function(t,e,i,s){var o=1.70158,n=0,r=i;if(0==t)return e;if(1==(t/=s))return e+i;if(n||(n=.3*s),r<Math.abs(i)){r=i;var o=n/4}else var o=n/(2*Math.PI)*Math.asin(i/r);return r*Math.pow(2,-10*t)*Math.sin(2*(t*s-o)*Math.PI/n)+i+e},outElasticNorm:function(t){var e=1.70158,i=0,s=1;return 0==t?0:1==t?1:(i||(i=.3),e=i/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/i)+1)},inOutElastic:function(t,e,i,s){var o=1.70158,n=0,r=i;if(0==t)return e;if(2==(t/=s/2))return e+i;if(n||(n=.3*s*1.5),r<Math.abs(i)){r=i;var o=n/4}else var o=n/(2*Math.PI)*Math.asin(i/r);return 1>t?-.5*r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*s-o)*Math.PI/n)+e:r*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*s-o)*Math.PI/n)*.5+i+e},inOutElasticNorm:function(t){var e=1.70158,i=0,s=1;return 0==t?0:2==(t/=.5)?1:(i||(i=.3*1.5),e=i/(2*Math.PI)*Math.asin(1/s),1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i):s*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i)*.5+1)},inBack:function(t,e,i,s,o){return void 0==o&&(o=1.70158),i*(t/=s)*t*((o+1)*t-o)+e},inBackNorm:function(t,e){return void 0==e&&(e=1.70158),t*t*((e+1)*t-e)},outBack:function(t,e,i,s,o){return void 0==o&&(o=1.70158),i*((t=t/s-1)*t*((o+1)*t+o)+1)+e},outBackNorm:function(t,e){return void 0==e&&(e=1.70158),--t*t*((e+1)*t+e)+1},inOutBack:function(t,e,i,s,o){return void 0==o&&(o=1.70158),(t/=s/2)<1?i/2*t*t*(((o*=1.525)+1)*t-o)+e:i/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+e},inOutBackNorm:function(t,e){return void 0==e&&(e=1.70158),(t/=.5)<1?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},inBounce:function(t,e,i,o){return i-s.outBounce(o-t,0,i,o)+e},inBounceNorm:function(t){return 1-s.outBounceNorm(1-t)},outBounce:function(t,e,i,s){return(t/=s)<1/2.75?7.5625*i*t*t+e:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},outBounceNorm:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},inOutBounce:function(t,e,i,o){return o/2>t?.5*s.inBounce(2*t,0,i,o)+e:.5*s.outBounce(2*t-o,0,i,o)+.5*i+e},inOutBounceNorm:function(t){return.5>t?.5*s.inBounceNorm(2*t):.5*s.outBounceNorm(2*t-1)+.5}};i.exports=s}),define("app/view/EditItemView",["require","exports","module","app/Constant","famous/EventHandler","famous/Surface","famous/View"],function(t,e,i){function s(t){a.call(this),this.c=new o,this.model=t.model,this.eventInput=new n,n.setInputHandler(this,this.eventInput),this.eventOutput=new n,n.setOutputHandler(this,this.eventOutput),this.surface=new r({size:[this.c.favorItemWidth+this.c.favorPaddingLeft+this.c.favorPaddingRight,this.c.favorItemHeight],classes:["favor-item"],properties:{marginTop:this.c.favorPaddingTop+"px",marginLeft:this.c.favorPaddingLeft+"px",marginRight:this.c.favorPaddingRight+"px",zIndex:1001}}),this.renderView(),this.surface.pipe(this.eventOutput),this._link(this.surface),this.surface.on("mouseover",function(){this.renderView(1)}.bind(this)),this.surface.on("mouseleave",function(){this.renderView()}.bind(this)),this.surface.on("click",function(t){var e=$(t.target);if(e.hasClass("fa-times-circle"))this.model.destroy();else if(e.hasClass("img-rounded")){console.log(this.model);var i=this.getFavor();this.eventOutput.emit("summitFavor",i),this.eventOutput.emit("goBack")}}.bind(this))}var o=t("app/Constant"),n=t("famous/EventHandler"),r=t("famous/Surface"),a=t("famous/View");s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.prototype.renderView=function(){var t=this.model.get("url"),e=this.model.get("pic"),i=this.model.get("title"),s='<div><img src="'+e+'" class="img-rounded"';s+='style="width:'+this.c.favorItemWidth+"px; height:"+this.c.favorItemHeight+'px" ></div>';var o='<div class="show-item" >';i||(i=t),o+='<span class="favor-content">'+i+"</span>",o+="</div>";var n=s+o;this.surface.setContent(n)},s.prototype.getFavor=function(){var t={};return t.url=this.model.get("url"),t.title=this.model.get("title"),t},i.exports=s}),define("app/models/Suggestions",["require","exports","module"],function(t,e,i){i.exports=Backbone.Model.extend({initialize:function(){this.get("pic")||this.set({pic:"http://mini.s-shot.ru/?"+this.get("url")})},clear:function(){this.destroy()}})}),define("app/custom/GridLayout",["require","exports","module","app/Constant","famous/Entity","famous/RenderNode","famous/Matrix","famous/ViewSequence","famous/Modifier","famous/OptionsManager"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this.optionsManager=new h(this.options),t&&this.setOptions(t),this.id=n.register(this),this.constant=new o,this._modifiers=[],this._contextSizeCache=[0,0],this._dimensionsCache=[0,0],this._activeCount=0}var o=t("app/Constant"),n=t("famous/Entity"),r=(t("famous/RenderNode"),t("famous/Matrix")),a=t("famous/ViewSequence"),u=t("famous/Modifier"),h=t("famous/OptionsManager");s.DEFAULT_OPTIONS={dimensions:[1,1],cellSize:[250,250],transition:!1},s.prototype.render=function(){return this.id},s.prototype.setOptions=function(t){return this.optionsManager.setOptions(t)},s.prototype.sequenceFrom=function(t){t instanceof Array&&(t=new a(t)),this.sequence=t},s.prototype.commit=function(t,e,i,s,o){var n=this.options.dimensions[0],a=this.options.dimensions[1];if(o[0]!==this._contextSizeCache[0]||o[1]!==this._contextSizeCache[1]||n!==this._dimensionsCache[0]||a!==this._dimensionsCache[1]){o[0]=o[0]-this.constant.favorItemWidth,a||(a=Math.floor(o[1]/this.options.cellSize[1])),n||(n=Math.floor(o[0]/this.options.cellSize[0]));for(var h=o[1]/a,c=o[0]/n,p=0;a>p;p++)for(var l=Math.round(h*p),f=0;n>f;f++){var d=Math.round(c*f);d+=(c-this.options.cellSize[0]+this.constant.favorItemWidth)/2;var m=p*n+f;m in this._modifiers||(this._modifiers[m]=new u({opacity:0}));var v=this._modifiers[m];v.halt(),v.setTransform(r.translate(d,l),this.options.transition),v.setSize([Math.round(c*(f+1))-d,Math.round(h*(p+1))-l],this.options.transition),v.setOpacity(1,this.options.transition)}this._dimensionsCache=[this.options.dimensions[0],this.options.dimensions[1]],this._contextSizeCache=[o[0],o[1]],this._activeCount=a*n;for(var p=this._activeCount;p<this._modifiers.length;p++){var v=this._modifiers[p];v.halt(),v.setTransform(r.identity,this.options.transition),v.setSize([Math.round(c),Math.round(h)],this.options.transition),v.setOpacity(0,this.options.transition)}}for(var g=this.sequence,y=[],m=0;g&&m<this._modifiers.length;){var w=g.get(),S=this._modifiers[m];m>=this._activeCount&&!S.isActive()&&this._modifiers.splice(m),w&&(y[m]=S.render({origin:s,target:w.render()})),g=g.getNext(),m++}o&&(e=r.moveThen([-o[0]*s[0],-o[1]*s[1],0],e));var b={transform:e,opacity:i,size:o,target:y};return b},i.exports=s}),define("app/view/EditView",["require","exports","module","app/Constant","app/custom/Surface","famous-animation/Easing","app/view/EditItemView","app/models/Suggestions","app/custom/GridLayout","famous-views/HeaderFooterLayout","app/custom/LightBox","famous/Modifier","famous/Matrix","famous/View"],function(t,e,i){function s(t){l.call(this),this.constant=new o,this.Layout=new h,this.gridLayout=new u({dimensions:[this.constant.gridLayoutCol,this.constant.gridLayoutRow],cellSize:[this.constant.favorItemWidth+this.constant.favorPaddingLeft+this.constant.favorPaddingRight,this.constant.favorItemHeight+2*this.constant.favorPaddingTop],transition:!0}),this.options={inTransform:p.identity,outTransform:p.identity,showTransform:p.identity,inTransition:{duration:0},outTransition:{duration:300},overlap:!0},this.bigSurface=new n({size:[void 0,void 0],properties:{background:"rgba(59, 59, 59, 0.95)",zIndex:1e3}}),this.editSurface=new n({classes:["edit-favor-surface"],size:[void 0,this.constant.headerHeight],properties:{width:"80%",borderRadius:"10px",color:"rgba(245, 236, 236,1)",textAlign:"center",zIndex:1001}}),this.editLightBox=new c({inTransform:p.scale(4,4,4),inOpacity:.1,inOrigin:[0,0],outTransform:p.scale(10,10,10),outOpacity:.1,outOrigin:[0,0],showTransform:p.identity,showOpacity:1,showOrigin:[0,0],inTransition:{duration:400,curve:r.inQuadNorm()},outTransition:{duration:300,curve:r.outQuintNorm()}}),this.Layout.id.header.link(this.editSurface),this.Layout.id.content.link(this.gridLayout),this._add(this.bigSurface),this._add(this.editLightBox),this.editSurface.on("click",function(t){console.log(t);var e=$(t.target);if(e.hasClass("back-button"))this.eventOutput.emit("goBack");else if(e.hasClass("done-favor")&&document.getElementById("input-url").value){var i=this.getFavor();this.eventOutput.emit("summitFavor",i),this.eventOutput.emit("goBack")}}.bind(this)),this.editSurface.on("keyup",function(t){if(document.getElementById("input-url").value&&13==t.keyCode){var e=this.getFavor();this.eventOutput.emit("summitFavor",e),this.eventOutput.emit("goBack")}}.bind(this)),this.collection=t.collection,this.collection.on("all",function(t){switch(t){case"remove":case"sync":this.loadSuggestions()}}.bind(this)),0==this.collection.length&&this.createDefaultList()}var o=t("app/Constant"),n=t("app/custom/Surface"),r=t("famous-animation/Easing"),a=t("app/view/EditItemView"),u=(t("app/models/Suggestions"),t("app/custom/GridLayout")),h=t("famous-views/HeaderFooterLayout"),c=t("app/custom/LightBox"),p=(t("famous/Modifier"),t("famous/Matrix")),l=t("famous/View");s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.prototype.renderFavor=function(t){this.newContact={},this.model=t;var e='<div class="title"><i class="fa fa-arrow-circle-o-down fa-lg"></i>  Add to speed Dial<i class="fa fa-times-circle-o back-button"></i></div>',i="<div>";i+='<input type="text" class="form-control" id="input-url" placeholder="Type URL to add your favorite website" name="url"',this.model&&(i+=' value="'+this.model.get("url")+'"'),i+=">",i+='<div class="done-favor">Done</div></div>',i+='<div class="suggestions-url"><b>Suggestions<b></div>',this.editSurface.setContent(e+i),this.editLightBox.show(this.Layout)},s.prototype.loadSuggestions=function(){var t=this.collection.map(function(t){var e=new a({model:t});return e.pipe(this.eventOutput),e}.bind(this));this.gridLayout.sequenceFrom(t)},s.prototype.getFavor=function(){var t=document.getElementById("input-url").value,e={};return e.url=t,e.title=t,e},s.prototype.createDefaultList=function(){var t=["google.com","ebay.com","yelp.com","slideshare.net","airbnb.com","yahoo.com","craigslist.org","trello.com"];t.map(function(t){var e={};e.url=t,this.collection.create(e),this.collection.trigger("sync")}.bind(this))},i.exports=s}),define("app/view/FavorItemView",["require","exports","module","app/Constant","famous/EventHandler","famous/Surface","famous/View"],function(t,e,i){function s(t){a.call(this),this.c=new o,this.model=t.model,this.eventInput=new n,n.setInputHandler(this,this.eventInput),this.eventOutput=new n,n.setOutputHandler(this,this.eventOutput),this.surface=new r({size:[this.c.favorItemWidth+this.c.favorPaddingLeft+this.c.favorPaddingRight,this.c.favorItemHeight+2*this.c.favorPaddingTop],classes:["favor-item"],properties:{paddingTop:this.c.favorPaddingTop+"px",paddingLeft:this.c.favorPaddingLeft+"px"}}),this.renderView(),this.surface.pipe(this.eventOutput),this._link(this.surface),this.surface.on("mouseover",function(){this.renderView(1)}.bind(this)),this.surface.on("mouseleave",function(){this.renderView()}.bind(this)),this.surface.on("click",function(t){var e=$(t.target);e.hasClass("fa-times-circle")&&this.model.destroy()}.bind(this))}var o=t("app/Constant"),n=t("famous/EventHandler"),r=t("famous/Surface"),a=t("famous/View");s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.prototype.renderView=function(t){var e=this.model.get("url"),i=this.model.get("pic"),s=this.model.get("title"),o='<a href="http://';o+=e+'"><img src="'+i+'" class="img-rounded"',o+='style="width:'+this.c.favorItemWidth+"px; height:"+this.c.favorItemHeight+'px" ></a>';var n='<div class="show-item" >';n+='<span class="favor-destroy" ><i class="fa fa-times-circle fa-lg ',t||(n+="toHide"),n+='"></i></span>',s||(s=e),n+='<span class="favor-content">'+s+"</span>",n+="</div>";var r=o+n;this.surface.setContent(r)},i.exports=s}),define("app/custom/GridLayout_Bon",["require","exports","module","famous/Entity","famous/RenderNode","famous/Matrix","famous/ViewSequence","famous/Modifier","famous/OptionsManager"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this.optionsManager=new u(this.options),t&&this.setOptions(t),this.id=o.register(this),this._modifiers=[],this._contextSizeCache=[0,0],this._dimensionsCache=[0,0],this._activeCount=0}var o=t("famous/Entity"),n=(t("famous/RenderNode"),t("famous/Matrix")),r=t("famous/ViewSequence"),a=t("famous/Modifier"),u=t("famous/OptionsManager");s.DEFAULT_OPTIONS={dimensions:[1,void 0],cellSize:[250,250],paddingSide:0,transition:!1},s.prototype.render=function(){return this.id},s.prototype.setOptions=function(t){return this.optionsManager.setOptions(t)},s.prototype.sequenceFrom=function(t){t instanceof Array&&(t=new r(t)),this.sequence=t},s.prototype.commit=function(t,e,i,s,o){var r=this.options.dimensions[0],u=this.options.dimensions[1];if(o[0]!==this._contextSizeCache[0]||o[1]!==this._contextSizeCache[1]||r!==this._dimensionsCache[0]||u!==this._dimensionsCache[1]){o[0]=o[0]-2*this.options.paddingSide,r||(r=Math.floor(o[0]/this.options.cellSize[0])),this.sequence&&!u&&(u=Math.floor(this.sequence.array.length/r)+1,o[1]=u*this.options.cellSize[1]),u||(u=Math.floor(o[1]/this.options.cellSize[1]));for(var h=o[1]/u,c=o[0]/r,p=0;u>p;p++)for(var l=Math.round(h*p),f=0;r>f;f++){var d=Math.round(c*f);d+=(c-this.options.cellSize[0])/2+this.options.paddingSide;var m=p*r+f;m in this._modifiers||(this._modifiers[m]=new a({opacity:0}));var v=this._modifiers[m];v.halt(),v.setTransform(n.translate(d,l),this.options.transition),v.setSize([Math.round(c*(f+1))-d,Math.round(h*(p+1))-l],this.options.transition),v.setOpacity(1,this.options.transition)}this._dimensionsCache=[this.options.dimensions[0],this.options.dimensions[1]],this._contextSizeCache=[o[0],o[1]],this._activeCount=u*r;for(var p=this._activeCount;p<this._modifiers.length;p++){var v=this._modifiers[p];v.halt(),v.setTransform(n.identity,this.options.transition),v.setSize([Math.round(c),Math.round(h)],this.options.transition),v.setOpacity(0,this.options.transition)}}for(var g=this.sequence,y=[],m=0;g&&m<this._modifiers.length;){var w=g.get(),S=this._modifiers[m];m>=this._activeCount&&!S.isActive()&&this._modifiers.splice(m),w&&(y[m]=S.render({origin:s,target:w.render()})),g=g.getNext(),m++}o&&(e=n.moveThen([-o[0]*s[0],-o[1]*s[1],0],e));var b={transform:e,opacity:i,size:o,target:y};return b},i.exports=s}),define("famous-physics/math/Vector",["require","exports","module"],function(t,e,i){function s(t,e,i){return 1===arguments.length?this.set(t):(this.x=t||0,this.y=e||0,this.z=i||0),this}var o=new s(0,0,0);s.prototype.add=function(t,e){return e=e||o,e.setXYZ(this.x+(t.x||0),this.y+(t.y||0),this.z+(t.z||0))},s.prototype.sub=function(t,e){return e=e||o,e.setXYZ(this.x-t.x,this.y-t.y,this.z-t.z)},s.prototype.mult=function(t,e){return e=e||o,e.setXYZ(t*this.x,t*this.y,t*this.z)},s.prototype.div=function(t,e){return this.mult(1/t,e)},s.prototype.cross=function(t,e){return e=e||o,e.setXYZ(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},s.prototype.equals=function(t){return t.x==this.x&&t.y==this.y&&t.z==this.z},s.prototype.rotateX=function(t,e){e=e||o;var i=this.x,s=this.y,n=this.z,r=Math.cos(t),a=Math.sin(t);return e.setXYZ(i,-n*a+s*r,n*r-s*a)},s.prototype.rotateY=function(t,e){e=e||o;var i=this.x,s=this.y,n=this.z,r=Math.cos(t),a=Math.sin(t);return e.setXYZ(-n*a+i*r,s,n*r+i*a)},s.prototype.rotateZ=function(t,e){e=e||o;var i=this.x,s=this.y,n=this.z,r=Math.cos(t),a=Math.sin(t);return e.setXYZ(-s*a+i*r,s*r+i*a,n)},s.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},s.prototype.normSquared=function(){return this.dot(this)},s.prototype.norm=function(){return Math.sqrt(this.normSquared())},s.prototype.normalize=function(t,e){t=void 0!==t?t:1,e=e||o;var i=1e-7,s=this.norm();return Math.abs(s)>i?this.mult(t/s,e):e.setXYZ(t,0,0)},s.prototype.clone=function(){return new s(this)},s.prototype.isZero=function(){return!(this.x||this.y||this.z)},s.prototype.set=function(t){return t instanceof Array?this.setFromArray(t):(this.x=t.x,this.y=t.y,this.z=t.z||0),this!==o&&o.clear(),this},s.prototype.setFromArray=function(t){this.x=t[0],this.y=t[1],this.z=t[2]||0},s.prototype.put=function(t){t.set(o)},s.prototype.setXYZ=function(t,e,i){return o.clear(),this.x=t,this.y=e,this.z=i,this},s.prototype.clear=function(){this.x=0,this.y=0,this.z=0},s.prototype.cap=function(t,e){if(1/0===t)return this;e=e||o;var i=this.norm();return i>t?this.normalize(t,e):this},s.prototype.project=function(t,e){return e=e||o,t.mult(this.dot(t),e)},s.prototype.reflectAcross=function(t,e){return e=e||o,t.normalize(),this.sub(this.project(t).mult(2),e)},s.prototype.toArray=function(){return[this.x,this.y,this.z]},s.prototype.get=function(){return this.toArray()},i.exports=s}),define("famous-physics/bodies/Particle",["require","exports","module","famous/RenderNode","famous-physics/math/Vector","famous/Matrix"],function(t,e,i){function s(t){t=t||{},this.p=t.p?new n(t.p):new n(0,0,0),this.v=t.v?new n(t.v):new n(0,0,0),this.f=t.f?new n(t.f):new n(0,0,0),this.m=void 0!==t.m?t.m:1,this.restitution=void 0!==t.restitution?t.restitution:.5,this.dissipation=void 0!==t.dissipation?t.dissipation:0,this.axis=void 0!==t.axis?t.axis:void 0,this.setImmunity(t.immunity||s.IMMUNITIES.NONE),this.mInv=1/this.m,this.size=[0,0,0],this.node=void 0,this.spec={size:[0,0],target:{origin:[.5,.5],transform:void 0,target:void 0}}
}var o=t("famous/RenderNode"),n=t("famous-physics/math/Vector"),r=t("famous/Matrix");s.AXIS={X:1,Y:2,Z:4},s.IMMUNITIES={NONE:0,POSITION:1,VELOCITY:2,ROTATION:4,AGENTS:8,UPDATE:16};for(var a in s.IMMUNITIES)s.IMMUNITIES.ALL|=s.IMMUNITIES[a];s.prototype.setPos=function(t){this.p.set(t)},s.prototype.getPos=function(){return this.p.get()},s.prototype.setVel=function(t){this.hasImmunity(s.IMMUNITIES.VELOCITY)||this.v.set(t)},s.prototype.getVel=function(){return this.v.get()},s.prototype.setMass=function(t){this.m=t,this.mInv=1/t},s.prototype.getMass=function(){return this.m},s.prototype.addImmunity=function(t){"string"==typeof t&&(t=s.IMMUNITIES[t.toUpperCase()]),this.immunity|=t},s.prototype.removeImmunity=function(t){"string"==typeof t&&(t=s.IMMUNITIES[t.toUpperCase()]),this.immunity&=~t},s.prototype.setImmunity=function(t){"string"==typeof t&&(t=s.IMMUNITIES[t.toUpperCase()]),this.immunity=t},s.prototype.hasImmunity=function(t){return"string"==typeof t&&(t=s.IMMUNITIES[t.toUpperCase()]),this.getImmunity()&t},s.prototype.getImmunity=function(){return this.immunity},s.prototype.reset=function(t,e){t=t||[0,0,0],e=e||[0,0,0],this.setPos(t),this.setVel(e)},s.prototype.applyForce=function(t){this.hasImmunity(s.IMMUNITIES.AGENTS)||this.f.set(this.f.add(t))},s.prototype.applyImpulse=function(t){this.hasImmunity(s.IMMUNITIES.AGENTS)||this.setVel(this.v.add(t.mult(this.mInv)))},s.prototype.getEnergy=function(){return.5*this.m*this.v.normSquared()},s.prototype.getTransform=function(){var t=this.p,e=this.axis;return void 0!==e&&(e&~s.AXIS.X&&(t.x=0),e&~s.AXIS.Y&&(t.y=0),e&~s.AXIS.Z&&(t.z=0)),r.translate(t.x,t.y,t.z)},s.prototype.link=function(t){return this.node||(this.node=new o),this.node.link(t)},s.prototype.add=function(t){return this.node||(this.node=new o),this.node.add(t)},s.prototype.replace=function(t){this.node.object=t},s.prototype.render=function(t){return t=void 0!==t?t:this.node.render(),this.spec.target.transform=this.getTransform(),this.spec.target.target=t,this.spec},i.exports=s}),define("famous-physics/math/Quaternion",["require","exports","module"],function(t,e,i){function s(t,e,i,s){return 1==arguments.length?this.set(t):(this.w=void 0!==t?t:1,this.x=e||0,this.y=i||0,this.z=s||0),this}var o=new s(1,0,0,0);s.prototype.add=function(t,e){return e=e||o,e.setWXYZ(this.w+t.w,this.x+t.x,this.y+t.y,this.z+t.z)},s.prototype.sub=function(t,e){return e=e||o,e.setWXYZ(this.w-t.w,this.x-t.x,this.y-t.y,this.z-t.z)},s.prototype.scalarDivide=function(t,e){return e=e||o,this.scalarMult(1/t,e)},s.prototype.scalarMult=function(t,e){return e=e||o,e.setWXYZ(this.w*t,this.x*t,this.y*t,this.z*t)},s.prototype.multiply=function(t,e){e=e||o;var i=this.x,s=this.y,n=this.z,r=this.w,a=t.x,u=t.y,h=t.z,c=t.w;return e.setWXYZ(r*c-i*a-s*u-n*h,r*a+i*c+s*h-n*u,r*u-i*h+s*c+n*a,r*h+i*u-s*a+n*c)},s.prototype.vectorMultiply=function(t,e){return e=e||o,t.w=0,e.set(this.inverse().multiply(t).multiply(this))},s.prototype.inverse=function(t){return t=t||o,this.conj().scalarDivide(this.normSquared(),t)},s.prototype.negate=function(t){return t=t||o,this.scalarMult(-1,t)},s.prototype.conj=function(t){return t=t||o,t.setWXYZ(this.w,-this.x,-this.y,-this.z)},s.prototype.normalize=function(t){t=t||o;var e=this.norm();return Math.abs(e)<1e-7?t.setWXYZ(1,0,0,0):this.scalarDivide(e,t)},s.prototype.makeFromAngleAndAxis=function(t,e){e.normalize(1,e);var i=.5*t,s=Math.sin(i);return this.x=s*e.x,this.y=s*e.y,this.z=s*e.z,this.w=Math.cos(i),this},s.prototype.getAngle=function(){return 2*Math.acos(this.w)},s.prototype.getAxis=function(){var t=this.w;if(t>=1)return[0,0,0];var e=1/Math.sqrt(1-t*t);return[e*this.x,e*this.y,this.z]},s.prototype.setWXYZ=function(t,e,i,s){return o.clear(),this.w=t,this.x=e,this.y=i,this.z=s,this},s.prototype.set=function(t){return t instanceof Array?(this.w=t[0],this.x=t[1],this.y=t[2],this.z=t[3]):(this.w=t.w,this.x=t.x,this.y=t.y,this.z=t.z),this!==o&&o.clear(),this},s.prototype.put=function(t){t.set(o)},s.prototype.clone=function(){return new s(this)},s.prototype.clear=function(){return this.w=1,this.x=0,this.y=0,this.z=0,this},s.prototype.isEqual=function(t){return t.w==this.w&&t.x==this.x&&t.y==this.y&&t.z==this.z},s.prototype.dot=function(t){return this.w*t.w+this.x*t.x+this.y*t.y+this.z*t.z},s.prototype.normSquared=function(){return this.dot(this)},s.prototype.norm=function(){return Math.sqrt(this.normSquared())},s.prototype.isZero=function(){return!(this.x||this.y||this.z||1!=this.w)},s.prototype.zeroRotation=function(){return this.x=0,this.y=0,this.z=0,this.w=1,this},s.prototype.getMatrix=function(){var t=1/this.norm(),e=this.x*t,i=this.y*t,s=this.z*t,o=this.w*t;return[1-2*i*i-2*s*s,-2*e*i-2*s*o,2*e*s-2*i*o,0,-2*e*i+2*s*o,1-2*e*e-2*s*s,-2*i*s-2*e*o,0,2*e*s+2*i*o,-2*i*s+2*e*o,1-2*e*e-2*i*i,0,0,0,0,1]};var n=1e-5;s.prototype.slerp=function(t,e,i){i=i||o;var s,r,a,u,h;return r=this.dot(t),0>r&&(r*=-1),1-r>n?(s=Math.acos(r),a=Math.sin(s),u=Math.sin((1-e)*s)/a,h=Math.sin(e*s)/a):(u=1-e,h=e),this.scalarMult(u/h).add(t).mult(h,i)},i.exports=s}),define("famous-physics/bodies/Body",["require","exports","module","./Particle","famous-physics/math/Vector","famous-physics/math/Quaternion","famous/Matrix"],function(t,e,i){function s(t){o.call(this,t),this.q=t.q?new r(t.q):new r,this.w=t.w?new n(t.w):new n,this.L=t.L?new n(t.L):new n,this.t=t.t?new n(t.t):new n,this.I=[1,0,0,1,0,0,1,0,0],this.Iinv=[1,0,0,1,0,0,1,0,0],this.w.w=0,this.pWorld=new n}var o=t("./Particle"),n=t("famous-physics/math/Vector"),r=t("famous-physics/math/Quaternion"),a=t("famous/Matrix");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.IMMUNITIES=o.IMMUNITIES,s.prototype.updateAngularVelocity=function(){var t=this.Iinv,e=this.L,i=e.x,s=e.y,o=e.z,n=t[0],r=t[1],a=t[2];this.w.setXYZ(n[0]*i+n[1]*s+n[2]*o,r[0]*i+r[1]*s+r[2]*o,a[0]*i+a[1]*s+a[2]*o)},s.prototype.toWorldCoordinates=function(t){var e=this.q;return t.w=0,this.pWorld.set(e.inverse().multiply(t).multiply(e))},s.prototype.getEnergy=function(){var t=this.w,e=this.I,i=t.x,s=t.y,o=t.z,n=this.I[0],r=e[1],a=e[2];return.5*(this.m*this.v.normSquared()+n[0]*i*i+n[1]*i*s+n[2]*i*o+r[0]*s*i+r[1]*s*s+r[2]*s*o+a[0]*o*i+a[1]*o*s+a[2]*o*o)},s.prototype.reset=function(t,e,i,s){this.setPos(t||[0,0,0]),this.setVel(e||[0,0,0]),this.w.clear(),this.setOrientation(i||[1,0,0,0]),this.setAngularMomentum(s||[0,0,0])},s.prototype.setOrientation=function(t){this.q.set(t)},s.prototype.setAngularMomentum=function(t){this.L.set(t)},s.prototype.applyForce=function(t,e){this.hasImmunity(s.IMMUNITIES.AGENTS)||(this.f.set(this.f.add(t)),void 0!==e&&this.applyTorque(e.cross(t)))},s.prototype.applyTorque=function(t){this.hasImmunity(s.IMMUNITIES.ROTATION)||this.t.set(this.t.add(t))},s.prototype.getTransform=function(){return a.move(this.q.getMatrix(),this.p.get())},i.exports=s}),define("famous-physics/bodies/Circle",["require","exports","module","./Body"],function(t,e,i){function s(t){o.call(this,t),t=t||{},this.r=t.r||0,this.size=[2*this.r,2*this.r];var e=this.r,i=this.m;this.I=[[.25*i*e*e,0,0],[0,.25*i*e*e,0],[0,0,.5*i*e*e]],this.Iinv=[[4/(i*e*e),0,0],[0,4/(i*e*e),0],[0,0,2/(i*e*e)]]}var o=t("./Body");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.IMMUNITIES=o.IMMUNITIES,i.exports=s}),define("famous-physics/bodies/Rectangle",["require","exports","module","./Body"],function(t,e,i){function s(t){o.call(this,t),t=t||{},this.size=t.size||[0,0];var e=this.size[0],i=this.size[1];this.I=[[i*i/12,0,0],[0,e*e/12,0],[0,0,(e*e+i*i)/12]],this.Iinv=[[12/(i*i),0,0],[0,12/(e*e),0],[0,0,12/(e*e+i*i)]]}var o=t("./Body");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.IMMUNITIES=o.IMMUNITIES,i.exports=s}),define("famous-physics/forces/Force",["require","exports","module","famous-physics/math/Vector"],function(t,e,i){function s(){this.force=new o}var o=t("famous-physics/math/Vector");s.prototype.setOpts=function(t){for(var e in t)this.opts[e]=t[e]},s.prototype.applyConstraint=function(){},s.prototype.setupSlider=function(t,e){e=e||t.opts.name,t.setOpts({value:this.opts[e]}),t.init&&t.init(),t.on("change",function(t){this.opts[e]=t.value}.bind(this))},s.prototype.getEnergy=function(){return 0},i.exports=s}),define("famous-physics/constraints/Constraint",["require","exports","module"],function(t,e,i){function s(){}s.prototype.setOpts=function(t){for(var e in t)this.opts[e]=t[e]},s.prototype.applyConstraint=function(){},s.prototype.setupSlider=function(t,e){e=e||t.opts.name,t.setOpts({value:this.opts[e]}),t.init&&t.init(),t.on("change",function(t){this.opts[e]=t.value}.bind(this))},i.exports=s}),define("famous-physics/integrator/SymplecticEuler",["require","exports","module"],function(t,e,i){function s(t){this.opts={velocityCap:1/0,angularVelocityCap:1/0},t&&this.setOpts(t)}s.prototype.integrateVelocity=function(t,e){var i=t.v,s=t.m,o=t.f;o.isZero()||(t.setVel(i.add(o.mult(e/s))),o.clear())},s.prototype.integratePosition=function(t,e){var i=t.p,s=t.v;s.isZero()||(s.set(s.cap(this.opts.velocityCap)),t.setPos(i.add(s.mult(e))))},s.prototype.integrateAngularMomentum=function(t,e){var i=t.L,s=t.t;s.isZero()||(s.set(s.cap(this.opts.angularVelocityCap)),i.add(s.mult(e)).put(i),s.clear())},s.prototype.integrateOrientation=function(t,e){var i=t.q,s=t.w;s.isZero()||(i.set(i.add(i.multiply(s).scalarMult(.5*e))),i.set(i.normalize()))},s.prototype.setOpts=function(t){for(var e in t)this.opts[e]=t[e]},i.exports=s}),define("famous-physics/PhysicsEngine",["require","exports","module","famous-physics/bodies/Particle","famous-physics/bodies/Body","famous-physics/bodies/Circle","famous-physics/bodies/Rectangle","famous-physics/forces/Force","famous-physics/constraints/Constraint","famous-physics/integrator/SymplecticEuler"],function(t,e,i){function s(t){this.opts={speed:1,steps:1,velocityCap:1/0,angularVelocityCap:1/0,constraintSteps:1,constraintTolerance:1e-4},t&&this.setOpts(t),this._particles=[],this._agents={},this._forces=[],this._constraints=[],this._playing=!0,this._buffer=0,this._timestep=1e3/60/this.opts.steps,this._prevTime=void 0,this._currTime=void 0,this._integrator=new z({velocityCap:this.opts.velocityCap,angularVelocityCap:this.opts.angularVelocityCap}),this._currAgentId=0,this.BODIES=s.BODIES}function o(){return Date.now()}function n(t,e,i){return void 0===e&&(e=this.getParticles()),e instanceof Array||(e=[e]),this._agents[this._currAgentId]={agent:t,targets:e,source:i},r.call(this,t).push(this._currAgentId),this._currAgentId++}function r(t){return t instanceof E?this._forces:t instanceof M?this._constraints:void 0}function a(t){return this._agents[t]}function u(t){var e=a.call(this,this._forces[t]);e.agent.applyForce(e.targets,e.source)}function h(t,e){var i=this._agents[this._constraints[t]];return i.agent.applyConstraint(i.targets,i.source,e)}function c(){for(var t=this._forces.length-1;t>-1;t--)u.call(this,t)}function p(t){var e=1/0,i=0;for(this.opts.constraintTolerance;i<this.opts.constraintSteps;){e=0;for(var s=this._constraints.length-1;s>-1;s--)e+=h.call(this,s,t);i++}}function l(t,e){t.hasImmunity(_.IMMUNITIES.UPDATE)||this._integrator.integrateVelocity(t,e)}function f(t){t.hasImmunity(_.IMMUNITIES.ROTATION)||t instanceof T&&t.updateAngularVelocity()}function d(t,e){t.hasImmunity(_.IMMUNITIES.ROTATION)||t instanceof T&&this._integrator.integrateAngularMomentum(t,e)}function m(t,e){t.hasImmunity(_.IMMUNITIES.UPDATE)||this._integrator.integratePosition(t,e)}function v(t,e){t.hasImmunity(_.IMMUNITIES.ROTATION)||t instanceof T&&this._integrator.integrateOrientation(t,e)}function g(t){this.forEachParticle(l,t)}function y(t){this.forEachParticle(m,t)}function w(){this.forEachParticle(f)}function S(t){this.forEachParticle(d,t)}function b(t){this.forEachParticle(v,t)}function x(t){c.call(this),g.call(this,t),S.call(this,t),w.call(this,t),p.call(this,t),y.call(this,t),b.call(this,t)}var _=t("famous-physics/bodies/Particle"),T=t("famous-physics/bodies/Body"),O=t("famous-physics/bodies/Circle"),C=t("famous-physics/bodies/Rectangle"),E=t("famous-physics/forces/Force"),M=t("famous-physics/constraints/Constraint"),z=t("famous-physics/integrator/SymplecticEuler");s.BODIES={POINT:_,BODY:T,CIRCLE:O,RECTANGLE:C},s.IMMUNITIES=_.IMMUNITIES,s.prototype.setOpts=function(t){for(var e in t)this.opts[e]&&(this.opts[e]=t[e])},s.prototype.addBody=function(t){return this._particles.push(t),t},s.prototype.createParticle=function(t){return this.addBody(new _(t))},s.prototype.createBody=function(t){var e=t.shape||s.BODIES.POINT;return this.addBody(new e(t))},s.prototype.remove=function(t){var e=this._particles.indexOf(t);if(e>-1){for(var i=0;i<Object.keys(this._agents);i++)this.detachFrom(i,t);this._particles.splice(e,1)}},s.prototype.attach=function(t,e,i){if(t instanceof Array){for(var s=[],o=0;o<t.length;o++)s[o]=n.call(this,t[o],e,i);return s}return n.call(this,t,e,i)},s.prototype.attachTo=function(t,e){a.call(this,t).targets.push(e)},s.prototype.detach=function(t){var e=this.getAgent(t),i=r.call(this,e),s=i.indexOf(t);i.splice(s,1),delete this._agents[t]},s.prototype.detachFrom=function(t,e){var i=a.call(this,t);if(i.source===e)this.detach(t);else{var s=i.targets,o=s.indexOf(e);o>-1&&s.splice(o,1)}},s.prototype.detachAll=function(){this._agents={},this._forces=[],this._constraints=[],this._currAgentId=0},s.prototype.getAgent=function(t){return a.call(this,t).agent},s.prototype.getParticles=function(){return this._particles},s.prototype.getParticlesExcept=function(t){var e=[];return this.forEachParticle(function(i){-1===t.indexOf(i)&&e.push(i)}),e},s.prototype.getPos=function(t){return(t||this._particles[0]).getPos()},s.prototype.getVel=function(t){return(t||this._particles[0]).getVel()},s.prototype.getTransform=function(t){return(t||this._particles[0]).getTransform()},s.prototype.setPos=function(t,e){(e||this._particles[0]).setPos(t)},s.prototype.setVel=function(t,e){(e||this._particles[0]).setVel(t)},s.prototype.forEachParticle=function(t,e){for(var i=this.getParticles(),s=0,o=i.length;o>s;s++)t.call(this,i[s],e)},s.prototype.step=function(){if(this._playing){this._prevTime||(this._prevTime=o()),this._currTime=o();var t=this._currTime-this._prevTime;this._prevTime=this._currTime,0!=t&&x.call(this,this.opts.speed*this._timestep)}},s.prototype.render=function(t){this.step();var e=[];return this.forEachParticle(function(i){e.push(i.render(t))}),e},s.prototype.play=function(){this._prevTime=o(),this._playing=!0},s.prototype.pause=function(){this._playing=!1},s.prototype.toggle=function(){this._playing?this.pause():this.play()},s.prototype.reverseTime=function(){this.opts.speed*=-1},s.prototype.reverseVelocities=function(){this.forEachParticle(function(t){t.v.mult(-1,t.v)})},i.exports=s}),define("famous-physics/forces/Drag",["require","exports","module","famous-physics/forces/Force"],function(t,e,i){function s(t){this.opts={strength:.01,forceFunction:s.FORCE_FUNCTIONS.LINEAR},t&&this.setOpts(t),o.call(this)}var o=t("famous-physics/forces/Force");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.FORCE_FUNCTIONS={LINEAR:function(t){return t},QUADRATIC:function(t){return t.mult(t.norm())}},s.prototype.applyForce=function(t){for(var e=this.opts.strength,i=this.opts.forceFunction,s=this.force,o=0;o<t.length;o++){var n=t[o];i(n.v).mult(-e).put(s),n.applyForce(s)}},s.prototype.setOpts=function(t){for(var e in t)this.opts[e]=t[e]},i.exports=s}),define("famous-physics/forces/Spring",["require","exports","module","famous-physics/forces/Force","famous-physics/math/Vector","famous/EventHandler"],function(t,e,i){function s(t){this.opts={period:300,dampingRatio:.1,length:0,lMin:0,lMax:1/0,anchor:void 0,forceFunction:s.FORCE_FUNCTIONS.HOOK,restTolerance:1e-5},t&&this.setOpts(t),this.eventOutput=void 0,this._atRest=!1,this.init(),c.call(this),this.disp=new p(0,0,0)}function o(t){this.forceFunction=t}function n(){var t=this.opts;t.stiffness=Math.pow(2*Math.PI/t.period,2)}function r(){var t=this.opts;t.damping=4*Math.PI*t.dampingRatio/t.period}function a(t,e){return.5*t*e*e}function u(t,e){t<this.opts.restTolerance?(this._atRest||this.eventOutput.emit("atRest",{particle:e}),this._atRest=!0):this._atRest=!1}function h(){this.eventOutput=new l,this.eventOutput.bindThis(this),l.setOutputHandler(this,this.eventOutput)}var c=t("famous-physics/forces/Force"),p=t("famous-physics/math/Vector"),l=t("famous/EventHandler");s.prototype=Object.create(c.prototype),s.prototype.constructor=c,s.FORCE_FUNCTIONS={FENE:function(t,e){var i=.99*e,s=Math.max(Math.min(t,i),-i);return s/(1-s*s/(e*e))},HOOK:function(t){return t}},s.prototype.init=function(){o.call(this,this.opts.forceFunction),n.call(this),r.call(this)},s.prototype.applyForce=function(t,e){for(var i=this.force,s=this.disp,o=this.opts,n=o.stiffness,r=o.damping,h=o.length,c=o.lMax,p=o.anchor||e.p,l=0;l<t.length;l++){var f=t[l];s.set(p.sub(f.p));var d=s.norm()-h;if(0==d)return;var m=f.m;if(n*=m,r*=m,i.set(s.normalize(n*this.forceFunction(d,c))),r&&(e?i.set(i.add(f.v.sub(e.v).mult(-r))):i.set(i.add(f.v.mult(-r)))),f.applyForce(i),e&&e.applyForce(i.mult(-1)),this.eventOutput){var v=f.getEnergy()+a(n,d);u.call(this,v,f)}}},s.prototype.getEnergy=function(t,e){var i=this.opts,s=i.length,o=i.anchor||e.p,n=i.stiffness,r=o.sub(t.p).norm()-s;return.5*n*r*r},s.prototype.setOpts=function(t){void 0!==t.anchor&&(t.anchor.p instanceof p&&(this.opts.anchor=t.anchor.p),t.anchor instanceof p&&(this.opts.anchor=t.anchor),t.anchor instanceof Array&&(this.opts.anchor=new p(t.anchor))),void 0!==t.period&&(this.opts.period=t.period),void 0!==t.dampingRatio&&(this.opts.dampingRatio=t.dampingRatio),void 0!==t.length&&(this.opts.length=t.length),void 0!==t.lMin&&(this.opts.lMin=t.lMin),void 0!==t.lMax&&(this.opts.lMax=t.lMax),void 0!==t.forceFunction&&(this.opts.forceFunction=t.forceFunction),void 0!==t.restTolerance&&(this.opts.restTolerance=t.restTolerance),this.init()},s.prototype.setAnchor=function(t){void 0===this.opts.anchor&&(this.opts.anchor=new p),this.opts.anchor.set(t)},s.prototype.on=function(){return h.call(this),this.on.apply(this,arguments)},s.prototype.unbind=function(){return h.call(this),this.unbind.apply(this,arguments)},s.prototype.pipe=function(){return h.call(this),this.pipe.apply(this,arguments)},s.prototype.unpipe=function(){return h.call(this),this.unpipe.apply(this,arguments)},i.exports=s}),define("famous-sync/TouchTracker",["require","exports","module","famous/EventHandler"],function(t,e,i){function s(t){this.selective=t,this.touchHistory={},this.eventHandler=new h(!0)}function o(t,e,i,s){var o={};for(var n in t)o[n]=t[n];return{touch:o,origin:e,timestamp:+Date.now(),count:s,history:i}}function n(t){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],s=o(i,t.origin,void 0,t.touches.length);this.eventHandler.emit("trackstart",s),this.selective||this.touchHistory[i.identifier]||this.track(s)}}function r(t){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],s=this.touchHistory[i.identifier];if(s){var n=o(i,t.origin,s,t.touches.length);this.touchHistory[i.identifier].push(n),this.eventHandler.emit("trackmove",n)}}}function a(t){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],s=this.touchHistory[i.identifier];if(s){var n=o(i,t.origin,s,t.touches.length);this.eventHandler.emit("trackend",n),delete this.touchHistory[i.identifier]}}}function u(){for(var t in this.touchHistory){var e=this.touchHistory[t];this.eventHandler.emit("trackend",{touch:e[e.length-1].touch,timestamp:+Date.now(),count:0,history:e}),delete this.touchHistory[t]}}var h=t("famous/EventHandler");s.prototype.track=function(t){this.touchHistory[t.touch.identifier]=[t]},s.prototype.emit=function(t,e){return"touchstart"==t?n.call(this,e):"touchmove"==t?r.call(this,e):"touchend"==t?a.call(this,e):"touchcancel"==t?a.call(this,e):"unpipe"==t?u.call(this):void 0},s.prototype.on=function(t,e){return this.eventHandler.on(t,e)},s.prototype.unbind=function(t,e){return this.eventHandler.unbind(t,e)},s.prototype.pipe=function(t){return this.eventHandler.pipe(t)},s.prototype.unpipe=function(t){return this.eventHandler.unpipe(t)},i.exports=s}),define("famous-sync/TouchSync",["require","exports","module","./TouchTracker","famous/EventHandler"],function(t,e,i){function s(t,e){this.targetGet=t,this.output=new u,this.touchTracker=new a,this.options={direction:void 0,rails:!1,scale:1},e?this.setOptions(e):this.setOptions(this.options),u.setOutputHandler(this,this.output),u.setInputHandler(this,this.touchTracker),this.touchTracker.on("trackstart",o.bind(this)),this.touchTracker.on("trackmove",n.bind(this)),this.touchTracker.on("trackend",r.bind(this))}function o(t){this.output.emit("start",{count:t.count,touch:t.touch.identifier})}function n(t){var e=t.history,i=e[e.length-2].timestamp,o=e[e.length-1].timestamp,n=e[e.length-2].touch,r=e[e.length-1].touch,a=r.pageX-n.pageX,u=r.pageY-n.pageY;this.options.rails&&(Math.abs(a)>Math.abs(u)?u=0:a=0);var h=Math.max(o-i,8),c=a/h,p=u/h;if(e.length>2)var l=e[e.length-3].touch,f=(r.pageX-2*n.pageX+l.pageX)/(h*h),d=(r.pageY-2*n.pageY+l.pageY)/(h*h);else var f=0,d=0;var m,v,g,y=this.targetGet(),w=this.options.scale;this.options.direction==s.DIRECTION_X?(m=y+w*a,v=w*c,g=w*p):this.options.direction==s.DIRECTION_Y?(m=y+w*u,v=w*p,g=w*d):(m=[y[0]+w*a,y[1]+w*u],v=[w*c,w*p],g=[w*f,w*d]),this.output.emit("update",{p:m,v:v,a:g,touch:t.touch.identifier})}function r(t){var e=void 0!==this.options.direction?0:[0,0],i=t.history,o=t.count,n=this.targetGet();if(i.length>1){var r=i[i.length-2].timestamp,a=i[i.length-1].timestamp,u=i[i.length-2].touch,h=i[i.length-1].touch,c=h.pageX-u.pageX,p=h.pageY-u.pageY;this.options.rails&&(Math.abs(c)>Math.abs(p)?p=0:c=0);var e,l=Math.max(a-r,1),f=c/l,d=p/l,m=this.options.scale;e=this.options.direction==s.DIRECTION_X?m*f:this.options.direction==s.DIRECTION_Y?m*d:[m*f,m*d]}this.output.emit("end",{p:n,v:e,count:o,touch:t.touch.identifier})}var a=t("./TouchTracker"),u=t("famous/EventHandler");s.DIRECTION_X=0,s.DIRECTION_Y=1,s.prototype.setOptions=function(t){void 0!==t.direction&&(this.options.direction=t.direction),void 0!==t.rails&&(this.options.rails=t.rails),void 0!==t.scale&&(this.options.scale=t.scale)},s.prototype.getOptions=function(){return this.options},i.exports=s}),define("famous-sync/ScrollSync",["require","exports","module","famous/EventHandler","famous/Engine"],function(t,e,i){function s(t,e){this.targetGet=t,this.options={direction:void 0,minimumEndSpeed:1/0,rails:!1,scale:1,stallTime:50},e?this.setOptions(e):this.setOptions(this.options),this.input=new r,this.output=new r,r.setInputHandler(this,this.input),r.setOutputHandler(this,this.output),this._prevTime=void 0,this._prevVel=void 0,this._lastFrame=void 0,this.input.on("mousewheel",n.bind(this)),this.input.on("wheel",n.bind(this)),this.inProgress=!1,this._loopBound=!1}function o(){var t=Date.now();if(this.inProgress&&t-this._prevTime>this.options.stallTime){var e=this.targetGet();this.inProgress=!1;var i=0;Math.abs(this._prevVel)>=this.options.minimumEndSpeed&&(i=this._prevVel),this.output.emit("end",{p:e,v:i,slip:!0})}}function n(t){t.preventDefault(),this.inProgress||(this.inProgress=!0,this.output.emit("start",{slip:!0}),this._loopBound||(a.on("prerender",o.bind(this)),this._loopBound=!0));var e=this._prevTime,i=void 0!==t.wheelDeltaX?t.wheelDeltaX:-t.deltaX,n=void 0!==t.wheelDeltaY?t.wheelDeltaY:-t.deltaY,r=Date.now();this.options.rails&&(Math.abs(i)>Math.abs(n)?n=0:i=0);var u,h,c=Math.max(r-e,8),p=i/c,l=n/c,f=this.targetGet(),d=this.options.scale;this.options.direction==s.DIRECTION_X?(u=f+d*i,h=d*p):this.options.direction==s.DIRECTION_Y?(u=f+d*n,h=d*l):(u=[f[0]+d*i,f[1]+d*n],h=[d*p,d*l]),this.output.emit("update",{p:u,v:h,slip:!0}),this._prevTime=r,this._prevVel=h}var r=t("famous/EventHandler"),a=t("famous/Engine");s.DIRECTION_X=0,s.DIRECTION_Y=1,s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.direction&&(this.options.direction=t.direction),void 0!==t.minimumEndSpeed&&(this.options.minimumEndSpeed=t.minimumEndSpeed),void 0!==t.rails&&(this.options.rails=t.rails),void 0!==t.scale&&(this.options.scale=t.scale),void 0!==t.stallTime&&(this.options.stallTime=t.stallTime)},i.exports=s}),define("famous-sync/GenericSync",["require","exports","module","famous/EventHandler","./TouchSync","./ScrollSync"],function(t,e,i){function s(t,e){this.targetGet=t,this.eventInput=new n,n.setInputHandler(this,this.eventInput),this.eventOutput=new n,n.setOutputHandler(this,this.eventOutput),this._handlers=void 0,this.options={syncClasses:u},this._handlerOptions=this.options,e&&this.setOptions(e),this._handlers||o.call(this)}function o(){if(this._handlers)for(var t=0;t<this._handlers.length;t++)this.eventInput.unpipe(this._handlers[t]),this._handlers[t].unpipe(this.eventOutput);this._handlers=[];for(var t=0;t<this.options.syncClasses.length;t++){var e=this.options.syncClasses[t];this._handlers[t]=new e(this.targetGet,this._handlerOptions),this.eventInput.pipe(this._handlers[t]),this._handlers[t].pipe(this.eventOutput)}}var n=t("famous/EventHandler"),r=t("./TouchSync"),a=t("./ScrollSync"),u=[r,a];s.register=function(t){u.indexOf(t)<0&&u.push(t)},s.DIRECTION_X=0,s.DIRECTION_Y=1,s.DIRECTION_Z=2,s.prototype.setOptions=function(t){if(this._handlerOptions=t,t.syncClasses&&(this.options.syncClasses=t.syncClasses,o.call(this)),this._handlers)for(var e=0;e<this._handlers.length;e++)this._handlers[e].setOptions(this._handlerOptions)},i.exports=s}),define("famous/Group",["require","exports","module","./Context","./Matrix","./Surface"],function(t,e,i){function s(t){r.call(this,t),this._shouldRecalculateSize=!1,this._container=document.createDocumentFragment(),this.context=new o(this._container),this.setContent(this._container),this._groupSize=[void 0,void 0],this._origin=void 0,this._originTransfer={render:function(t){return{origin:this._origin,target:t}}.bind(this)}}var o=t("./Context"),n=t("./Matrix"),r=t("./Surface");s.SIZE_ZERO=[0,0],s.prototype=Object.create(r.prototype),s.prototype.elementType="div",s.prototype.elementClass="group",s.prototype.link=function(){var t=this.context.link(this._originTransfer);return t.link.apply(t,arguments)},s.prototype.add=function(){return this.context.add.apply(this.context,arguments)},s.prototype.mod=function(){return this.context.mod.apply(this.context,arguments)},s.prototype.render=function(){return r.prototype.render.call(this)},s.prototype.deploy=function(t){this.context.migrate(t)},s.prototype.recall=function(){this._container=document.createDocumentFragment(),this.context.migrate(this._container)},s.prototype.commit=function(t,e,i,o,a){e=n.moveThen([-o[0]*a[0],-o[1]*a[1],0],e);var u=r.prototype.commit.call(this,t,e,i,o,s.SIZE_ZERO);return this._origin=o,(a[0]!=this._groupSize[0]||a[1]!=this._groupSize[1])&&(this.context.setSize(a),this._groupSize[0]=a[0],this._groupSize[1]=a[1]),this.context.update(),u},i.exports=s}),define("famous-views/Scrollview",["require","exports","module","famous/Utility","famous-physics/PhysicsEngine","famous-physics/bodies/Particle","famous-physics/forces/Drag","famous-physics/forces/Spring","famous/Matrix","famous/EventHandler","famous-sync/GenericSync","famous/ViewSequence","famous/Group","famous/Entity"],function(t,e,i){function s(t){this.options={direction:w.Direction.Y,rails:!0,defaultItemSize:[100,100],itemSpacing:0,clipSize:void 0,margin:void 0,drag:.001,edgeGrip:.5,edgePeriod:300,edgeDamp:1,paginated:!1,pagePeriod:500,pageDamp:.8,pageStopSpeed:1/0,pageSwitchSpeed:1,speedLimit:10},this.physicsEngine=new S,this.particle=new b,this.physicsEngine.addBody(this.particle),this.spring=new _({anchor:[0,0,0]}),this.drag=new x,this.sync=new C(function(){return-this.getPosition()}.bind(this),{direction:this.options.direction==w.Direction.X?C.DIRECTION_X:C.DIRECTION_Y}),this.eventInput=new O,this.eventOutput=new O,this.sync.pipe(this.eventInput),this.sync.pipe(this.eventOutput),O.setOutputHandler(this,this.eventOutput),this._outputFunction=void 0,this._masterOutputFunction=void 0,this.setOutputFunction(),this.touchCount=0,this._springAttached=!1,this.currSpring=void 0,this._onEdge=0,this._springPosition=0,this._touchVelocity=void 0,this._earlyEnd=!1,this._masterOffset=0,this._lastFrameNode=void 0,t?this.setOptions(t):this.setOptions({}),a.call(this),this.group=new M,this.group.link({render:y.bind(this)}),this._entityId=z.register(this),this._contextSize=[window.innerWidth,window.innerHeight],this._offsets={}}function o(t){this.touchCount=t.count,void 0===t.count&&(this.touchCount=1),h.call(this),this.setVelocity(0),this._touchVelocity=0,this._earlyEnd=!1}function n(t){var e=-t.p,i=-t.v;this._onEdge&&t.slip&&(0>i&&this._onEdge<0||i>0&&this._onEdge>0?this._earlyEnd||(r.call(this,t),this._earlyEnd=!0):this._earlyEnd&&Math.abs(i)>Math.abs(this.particle.getVel()[0])&&o.call(this,t)),this._earlyEnd||(this._touchVelocity=i,this.setPosition(e))}function r(t){if(this.touchCount=t.count||0,!this.touchCount){h.call(this),this._onEdge&&(this._springAttached=!0),u.call(this);var e=-t.v,i=this.options.speedLimit;t.slip&&(i*=this.options.edgeGrip),-i>e?e=-i:e>i&&(e=i),this.setVelocity(e),this._touchVelocity=void 0}}function a(){this.eventInput.on("start",o.bind(this)),this.eventInput.on("update",n.bind(this)),this.eventInput.on("end",r.bind(this))}function u(){this._springAttached?this.physicsEngine.attach([this.spring],this.particle):this.physicsEngine.attach([this.drag],this.particle)}function h(){this._springAttached=!1,this.physicsEngine.detachAll()}function c(t){return t||(t=this.options.defaultItemSize),t[this.options.direction==w.Direction.X?0:1]}function p(t){this._springPosition+=t,this.setPosition(this.getPosition()+t),this.spring.setOpts({anchor:[this._springPosition,0,0]})}function l(){for(var t=!1;!t&&this.getPosition()<0;){var e=this.node.getPrevious?this.node.getPrevious():void 0;if(e){var i=e.getSize?e.getSize():this.options.defaultItemSize,s=c.call(this,i)+this.options.itemSpacing;p.call(this,s),this._masterOffset-=s,this.node=e}else t=!0}for(var o=this.node&&this.node.getSize?this.node.getSize():this.options.defaultItemSize;!t&&this.getPosition()>=c.call(this,o)+this.options.itemSpacing;){var n=this.node.getNext?this.node.getNext():void 0;if(n){var s=c.call(this,o)+this.options.itemSpacing;p.call(this,-s),this._masterOffset+=s,this.node=n,o=this.node.getSize?this.node.getSize():this.options.defaultItemSize}else t=!0}Math.abs(this._masterOffset)>g.call(this)+this.options.margin&&(this._masterOffset=0)}function f(t){!this._onEdge&&t?(this.sync.setOptions({scale:this.options.edgeGrip}),this.touchCount||this._springAttached||(this._springAttached=!0,this.physicsEngine.attach([this.spring],this.particle))):this._onEdge&&!t&&(this.sync.setOptions({scale:1}),this._springAttached&&(h.call(this),u.call(this))),this._onEdge=t}function d(){if(0==this.touchCount&&!this._springAttached&&!this._onEdge&&this.options.paginated&&Math.abs(this.getVelocity())<this.options.pageStopSpeed){var t=this.node.getSize?this.node.getSize():this.options.defaultItemSize,e=Math.abs(this.getVelocity())>this.options.pageSwitchSpeed,i=this.getVelocity()>0,s=this.getPosition()>.5*c.call(this,t);(e&&i||!e&&s)&&this.goToNextPage(),m.call(this,0,{period:this.options.pagePeriod,damp:this.options.pageDamp}),this._springAttached=!0,this.physicsEngine.attach([this.spring],this.particle)}}function m(t,e){e||(e={period:this.options.edgePeriod,damp:this.options.edgeDamp}),this._springPosition=t,this.spring.setOpts({anchor:[this._springPosition,0,0],period:e.period,dampingRatio:e.damp})}function v(t,e,i){var s=t.getSize?t.getSize():this.options.defaultItemSize;s||(s=this.options.defaultItemSize);var o=this._outputFunction(e);return i.push({transform:o,target:t.render()}),s[this.options.direction==w.Direction.X?0:1]}function g(){return this.options.clipSize?this.options.clipSize:c.call(this,this._contextSize)}function y(){var t={};if(this.node){var e=this.getPosition(),i=[],s=0,o=0,n=this.node;for(t[n]=0;n&&o-e<g.call(this)+this.options.margin;)o+=v.call(this,n,o+this._masterOffset,i)+this.options.itemSpacing,n=n.getNext?n.getNext():void 0,t[n]=o,!n&&o-e-this.options.itemSpacing<=g.call(this)&&(this._onEdge||m.call(this,o-g.call(this)-this.options.itemSpacing),s=1);
if(n=this.node&&this.node.getPrevious?this.node.getPrevious():void 0,o=0,n){var r=n.getSize?n.getSize():this.options.defaultItemSize;o-=c.call(this,r)+this.options.itemSpacing}else 0>=e&&(this._onEdge||m.call(this,0),s=-1);for(;n&&o-e>-(g.call(this)+this.options.margin);)if(t[n]=o,v.call(this,n,o+this._masterOffset,i),n=n.getPrevious?n.getPrevious():void 0){var r=n.getSize?n.getSize():this.options.defaultItemSize;o-=c.call(this,r)+this.options.itemSpacing}return this._offsets=t,f.call(this,s),d.call(this),this.options.paginated&&this._lastFrameNode!==this.node&&(this.eventOutput.emit("pageChange"),this._lastFrameNode=this.node),i}}var w=t("famous/Utility"),S=t("famous-physics/PhysicsEngine"),b=t("famous-physics/bodies/Particle"),x=t("famous-physics/forces/Drag"),_=t("famous-physics/forces/Spring"),T=t("famous/Matrix"),O=t("famous/EventHandler"),C=t("famous-sync/GenericSync"),E=t("famous/ViewSequence"),M=t("famous/Group"),z=t("famous/Entity");s.prototype.emit=function(t,e){"update"==t||"start"==t||"end"==t?this.eventInput.emit(t,e):this.sync.emit(t,e)},s.prototype.getPosition=function(t){var e=this.particle.getPos()[0];if(void 0===t)return e;var i=this._offsets[t];return void 0!==i?e-i:void 0},s.prototype.setPosition=function(t){this.particle.setPos([t,0,0])},s.prototype.getVelocity=function(){return this.touchCount?this._touchVelocity:this.particle.getVel()[0]},s.prototype.setVelocity=function(t){this.particle.setVel([t,0,0])},s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.direction&&(this.options.direction=t.direction,"x"===this.options.direction?this.options.direction=w.Direction.X:"y"===this.options.direction&&(this.options.direction=w.Direction.Y)),void 0!==t.rails&&(this.options.rails=t.rails),void 0!==t.defaultItemSize&&(this.options.defaultItemSize=t.defaultItemSize),void 0!==t.itemSpacing&&(this.options.itemSpacing=t.itemSpacing),void 0!==t.clipSize&&(this.options.clipSize=t.clipSize),void 0!==t.margin&&(this.options.margin=t.margin),void 0!==t.drag&&(this.options.drag=t.drag),void 0!==t.friction&&(this.options.friction=t.friction),void 0!==t.edgeGrip&&(this.options.edgeGrip=t.edgeGrip),void 0!==t.edgePeriod&&(this.options.edgePeriod=t.edgePeriod),void 0!==t.edgeDamp&&(this.options.edgeDamp=t.edgeDamp),void 0!==t.paginated&&(this.options.paginated=t.paginated),void 0!==t.pageStopSpeed&&(this.options.pageStopSpeed=t.pageStopSpeed),void 0!==t.pageSwitchSpeed&&(this.options.pageSwitchSpeed=t.pageSwitchSpeed),void 0!==t.pagePeriod&&(this.options.pagePeriod=t.pagePeriod),void 0!==t.pageDamp&&(this.options.pageDamp=t.pageDamp),void 0!==t.speedLimit&&(this.options.speedLimit=t.speedLimit),void 0===this.options.margin&&(this.options.margin=.5*Math.max(window.innerWidth,window.innerHeight)),this.drag.setOpts({strength:this.options.drag}),this.spring.setOpts({period:this.options.edgePeriod,dampingRatio:this.options.edgeDamp}),this.sync.setOptions({rails:this.options.rails,direction:this.options.direction==w.Direction.X?C.DIRECTION_X:C.DIRECTION_Y})},s.prototype.setOutputFunction=function(t,e){t||(t=function(t){return this.options.direction==w.Direction.X?T.translate(t,0):T.translate(0,t)}.bind(this),e=t),this._outputFunction=t,this._masterOutputFunction=e?e:function(e){return T.inverse(t(-e))}},s.prototype.goToPreviousPage=function(){var t=this.node.getPrevious?this.node.getPrevious():void 0;if(t){var e=c.call(this,this.node.getSize())+this.options.itemSpacing;this.setPosition(this.getPosition()+e),this.node=t;for(var i in this.offsets)this.offsets[i]+=e}return t},s.prototype.goToNextPage=function(){var t=this.node.getNext?this.node.getNext():void 0;if(t){var e=c.call(this,this.node.getSize())+this.options.itemSpacing;this.setPosition(this.getPosition()-e),this.node=t;for(var i in this.offsets)this.offsets[i]-=e}return t},s.prototype.getCurrentNode=function(){return this.node},s.prototype.sequenceFrom=function(t){t instanceof Array&&(t=new E(t)),this.node=t,this._lastFrameNode=t},s.prototype.getSize=function(){return this.options.direction==w.Direction.X?[g.call(this),void 0]:[void 0,g.call(this)]},s.prototype.render=function(){return this.physicsEngine.step(),this._entityId},s.prototype.commit=function(t,e,i,s,o){this._contextSize=o,l.call(this);var n=this.getPosition(),r=this._masterOutputFunction(-(n+this._masterOffset));return{transform:T.moveThen([-s[0]*o[0],-s[1]*o[1],0],e),opacity:i,origin:s,size:o,target:{transform:r,origin:s,target:this.group.render()}}},i.exports=s}),define("app/view/FavorView",["require","exports","module","app/Constant","famous/Engine","app/view/EditView","famous/EventHandler","app/view/FavorItemView","app/custom/GridLayout_Bon","famous/Matrix","famous-views/Scrollview","famous/Surface","famous/Utility","famous/View"],function(t,e,i){function s(t){f.call(this),this.eventInput=new r,r.setInputHandler(this,this.eventInput),this.eventOutput=new r,r.setOutputHandler(this,this.eventOutput),this.c=new o,this.transform=h.identity,this.collection=t.collection,this.title="<div> Favor section </div>",this.navigation={caption:"Favor",icon:'<i class="fa fa-clock-o"></i>'},this.gridView=new f({size:[void 0,void 0]}),this.gridLayout=new u({dimensions:[this.c.gridLayoutCol,this.c.gridLayoutRow],cellSize:[this.c.favorItemWidth+this.c.favorPaddingLeft+this.c.favorPaddingRight,this.c.favorItemHeight+2*this.c.favorPaddingTop],paddingSide:this.c.favorItemWidth/2,transition:!0}),this.scrollview=new c({direction:l.Direction.Y,margin:1e4}),this.addFavorSurface=new p({size:[this.c.favorItemWidth,this.c.favorItemHeight],classes:["add-surface"],properties:{paddingTop:this.c.favorPaddingTop+"px",paddingLeft:this.c.favorPaddingLeft+"px",textAlign:"center"},content:'<div><i class="fa fa-plus fa-5x"/></div>'}),this.addFavorSurface.pipe(this.eventOutput),this.gridView._add(this.gridLayout),this.scrollview.sequenceFrom([this.gridView]),n.pipe(this.scrollview),this._link(this.scrollview),this.addFavorSurface.on("click",function(){n.unpipe(this.scrollview),this.eventOutput.emit("editFavor")}.bind(this)),this.collection.on("all",function(t){switch(t){case"remove":case"sync":this.loadFavor()}}.bind(this)),this.collection.fetch()}var o=t("app/Constant"),n=t("famous/Engine"),r=(t("app/view/EditView"),t("famous/EventHandler")),a=t("app/view/FavorItemView"),u=t("app/custom/GridLayout_Bon"),h=t("famous/Matrix"),c=t("famous-views/Scrollview"),p=t("famous/Surface"),l=t("famous/Utility"),f=t("famous/View");s.prototype=Object.create(f.prototype),s.prototype.constructor=s,s.prototype.loadFavor=function(){var t=this.collection.map(function(t){var e=new a({model:t});return e.pipe(this.eventOutput),e}.bind(this));t.push(this.addFavorSurface),this.gridLayout.sequenceFrom(t)},s.prototype.createDefaultList=function(){var t=["google.com","facebook.com","loveq.cn","weibo.com","baidu.com"];t.map(function(t){var e={};e.url=t,console.log(e),this.collection.create(e),this.collection.trigger("sync")}.bind(this))},i.exports=s}),define("app/models/Favor",["require","exports","module"],function(t,e,i){i.exports=Backbone.Model.extend({initialize:function(){this.get("pic")||this.set({pic:"http://mini.s-shot.ru/?"+this.get("url")})},clear:function(){this.destroy()}})}),define("app/models/FavorCollection",["require","exports","module","app/models/Favor","lib/backboneLocalStorage"],function(t,e,i){var s=t("app/models/Favor");t("lib/backboneLocalStorage"),i.exports=Backbone.Collection.extend({localStorage:new Backbone.LocalStorage("colabeo-favor-collection"),model:s,comparator:function(t){return t.get("order")}})}),define("app/models/SuggestionsCollection",["require","exports","module","app/models/Suggestions","lib/backboneLocalStorage"],function(t,e,i){var s=t("app/models/Suggestions");t("lib/backboneLocalStorage"),i.exports=Backbone.Collection.extend({localStorage:new Backbone.LocalStorage("colabeo-suggestions-collection"),model:s,comparator:function(t){return t.get("order")}})}),define("app/control/FavorViewController",["require","exports","module","famous/EventHandler"],function(t,e,i){function s(){this.eventInput=new o,o.setInputHandler(this,this.eventInput),this.eventOutput=new o,o.setOutputHandler(this,this.eventOutput),this.eventOutput.on("createDefaultList",this.createDefaultList),this.eventOutput.on("editFavor",this.onEditFavor),this.eventOutput.on("goBack",this.onGoBack),this.eventOutput.on("getFavor",this.onGetFavor)}var o=t("famous/EventHandler");s.prototype.onEditFavor=function(t){t?this.editView.renderFavor(t):this.editView.renderFavor(void 0),this.editViewLightBox.show(this.editView)},s.prototype.onGoBack=function(){this.editViewLightBox.hide()},s.prototype.onGetFavor=function(){var t=document.getElementById("input-url").value,e=document.getElementById("input-title").value;e||(e=t);var i={};i.url=t,i.title=e,this.summitFavor(i)},s.prototype.createDefaultList=function(){alert("dd");var t=["google.com","facebook.com","loveq.cn","weibo.com","baidu.com"];t.map(function(t){this.summitFavor({url:t})}.bind(this))},s.prototype.summitFavor=function(t){this.collection.add(t),this.collection.trigger("sync")},i.exports=s}),define("app/control/AppController",["require","exports","module","famous/Engine","famous/Surface","famous/EventHandler","app/custom/LightBox","famous-utils/Utils","app/Constant","app/config","app/view/InstallationView","app/view/MainView","app/view/FavorView","app/view/EditView","app/models/FavorCollection","app/models/SuggestionsCollection","app/control/FavorViewController"],function(t,e,i){function s(){a.isMobile()&&(window.location=$(".iframe-colabeo-dashboard").attr("src")),this.eventInput=new n,n.setInputHandler(this,this.eventInput),this.eventOutput=new n,n.setOutputHandler(this,this.eventOutput),this.favorCollection=new f,this.suggestionsCollection=new d,this.favorSection=new p({collection:this.favorCollection}),this.favorSection.pipe(this.eventOutput),u.sections=[this.favorSection];var t=new h,e=new c(u),i=o.createContext();i.setPerspective(5e3),$(document).ready(function(e){e("body").on("click",".install-link",function(){var t=e(this).attr("link");window.location.host.indexOf("beepe.me")>=0&&window.chrome&&window.chrome.webstore?chrome.webstore.install(t):window.open(t,"_blank")}),i.add(t)}),e.select(e.options.sections[0].title),this.editView=new l({collection:this.suggestionsCollection}),this.editViewLightBox=new r,i.add(this.editViewLightBox),this.editView.pipe(this.eventOutput),this.eventOutput.on("editFavor",this.onEditFavor.bind(this)),this.eventOutput.on("summitFavor",this.onSummitFavor.bind(this)),this.eventOutput.on("goBack",this.onGoBack.bind(this)),colabeo={},colabeo.mainView=e,colabeo.favorSection=this.favorSection,colabeo.editSection=this.editView}{var o=t("famous/Engine"),n=(t("famous/Surface"),t("famous/EventHandler")),r=t("app/custom/LightBox"),a=t("famous-utils/Utils"),u=(t("app/Constant"),t("app/config")),h=t("app/view/InstallationView"),c=t("app/view/MainView"),p=t("app/view/FavorView"),l=t("app/view/EditView"),f=t("app/models/FavorCollection"),d=t("app/models/SuggestionsCollection");t("app/control/FavorViewController")}s.prototype.checkInstallation=function(t){t()},s.prototype.onEditFavor=function(){this.editViewLightBox.show(this.editView),this.editView.renderFavor(void 0)},s.prototype.onGoBack=function(){this.editView.editLightBox.hide(),this.editViewLightBox.hide(),o.pipe(this.favorSection.scrollview)},s.prototype.onSummitFavor=function(t){console.log(t),this.favorCollection.create(t),this.favorCollection.trigger("sync")},i.exports=s}),define("app/control/favorViewController",["require","exports","module","famous/EventHandler"],function(t,e,i){function s(){this.eventInput=new o,o.setInputHandler(this,this.eventInput),this.eventOutput=new o,o.setOutputHandler(this,this.eventOutput),this.eventOutput.on("createDefaultList",this.createDefaultList),this.eventOutput.on("editFavor",this.onEditFavor),this.eventOutput.on("goBack",this.onGoBack),this.eventOutput.on("getFavor",this.onGetFavor)}var o=t("famous/EventHandler");s.prototype.onEditFavor=function(t){t?this.editView.renderFavor(t):this.editView.renderFavor(void 0),this.editViewLightBox.show(this.editView)},s.prototype.onGoBack=function(){this.editViewLightBox.hide()},s.prototype.onGetFavor=function(){var t=document.getElementById("input-url").value,e=document.getElementById("input-title").value;e||(e=t);var i={};i.url=t,i.title=e,this.summitFavor(i)},s.prototype.createDefaultList=function(){alert("dd");var t=["google.com","facebook.com","loveq.cn","weibo.com","baidu.com"];t.map(function(t){this.summitFavor({url:t})}.bind(this))},s.prototype.summitFavor=function(t){this.collection.add(t),this.collection.trigger("sync")},i.exports=s}),define("app/custom/InComingTransform",["require","exports","module","famous/Matrix","famous/Modifier","famous/RenderNode","famous/Utility","famous-animation/Easing"],function(t,e,i){function s(){this.options={inTransform:o.scale(.001,.001,.001),inOpacity:1,inOrigin:[.5,.5],outTransform:o.scale(.001,.001,.001),outOpacity:1,outOrigin:[.5,.5],showTransform:o.identity,showOpacity:1,showOrigin:[.5,.5],inTransition:{duration:500,curve:n.inQuintNorm()},outTransition:{duration:500,curve:n.outQuintNorm()},overlap:!0}}var o=t("famous/Matrix"),n=(t("famous/Modifier"),t("famous/RenderNode"),t("famous/Utility"),t("famous-animation/Easing"));i.exports=s}),define("app/custom/Templates",["require","exports","module"],function(t,e,i){function s(t,e,i){var s='<div class="onoffswitch">';return s+='<input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="'+t+'" ',e&&(s+="checked "),i&&(s+="disabled "),s+='><label class="onoffswitch-label',i&&(s+=" disabled"),s+='" for="'+t+'">',s+='<div class="onoffswitch-inner"></div>',s+='<div class="onoffswitch-switch"></div>',s+="</label>",s+="</div>"}function o(t){t.id||(t.id="toggleButton"+Math.floor(1e5*Math.random())),t.classes||(t.classes=[]);var e='<div class="onoffbutton '+t.classes.join(" ")+'">';return e+='<input type="checkbox" name="onoffbutton" class="onoffbutton-checkbox"',t.id&&(e+=' id="'+t.id+'" '),t.checked&&(e+="checked"),e+='><label class="onoffbutton-label" for="'+t.id+'"',t.size&&(e+='style="width:'+t.size[0]+"px;",e+="line-height:"+t.size[1]+'px;"'),e+=">",e+='<div class="onoffbutton-on"',t.onBackgroundColor&&(e+='style="background-color:'+t.onBackgroundColor+';"'),e+=">"+t.onContent+"</div>",e+='<div class="onoffbutton-off"',t.offBackgroundColor&&(e+='style="background-color:'+t.offBackgroundColor+';"'),e+=">"+t.offContent+"</div>",e+="</label>",e+="</div>"}function n(t){t.id||(t.id="button"+Math.floor(1e5*Math.random())),t.classes||(t.classes=[]);var e='<button class="button '+t.classes.join(" ")+'" style="';return t.size&&(e+="width:"+t.size[0]+"px;",e+="height:"+t.size[1]+"px;",e+="line-height:"+t.size[1]+"px;"),e+='">'+t.content+"</button>"}function r(){var t='<button class="delete-button fa fa-minus"></button>';return t}function a(t){var e='<button class="favorite-button fa fa-star fa-lg';return t&&(e+=" active"),e+='"></button>'}function u(){var t='<div class="recent-toggle"><input type="radio" id="all" name="recents-toggle" value="all" checked>';return t+='<label for="all" class="first" id="recent-toggle">all</label>',t+='<input type="radio" id="missed" name="recents-toggle" value="missed">',t+='<label for="missed" class="last" id="recent-toggle">missed</label></div>'}i.exports={toggleSwitch:s,toggleButton:o,deleteButton:r,favoriteButton:a,recentsToggle:u,button:n}}),define("app/custom/UpDownTransform",["require","exports","module","famous/Matrix","famous/Modifier","famous/RenderNode","famous/Utility","famous-animation/Easing"],function(t,e,i){function s(){this.options={inTransform:o.translate(0,1500,0),inOpacity:1,inOrigin:[.5,.5],outTransform:o.translate(0,600,0),outOpacity:1,outOrigin:[.5,.5],showTransform:o.identity,showOpacity:1,showOrigin:[.5,.5],inTransition:{duration:500,curve:n.inQuadNorm()},outTransition:{duration:100,curve:n.outQuintNorm()},overlap:!0}}var o=t("famous/Matrix"),n=(t("famous/Modifier"),t("famous/RenderNode"),t("famous/Utility"),t("famous-animation/Easing"));i.exports=s}),define("famous-utils/TimeAgo",["require","exports","module"],function(t,e,i){function s(t){var e=Date.now(),i=e-t,s=6e4,o=60*s,n=24*o;if(s>i)return"Just Now";if(o>i){var r=~~(i/s);return r+"m"}if(n>i){var a=~~(i/o);return a+"h"}var u=~~(i/n);return u+"d"}i.exports={parse:s}}),define("app/custom/contactItemWidget",["require","exports","module","famous/Surface","famous/View","famous-utils/TimeAgo"],function(t,e,i){function s(t){n.apply(this,arguments),this.surface=new o({size:this.options.size,classes:this.options.classes}),t&&this.setOptions(t),this.surface.pipe(this.eventInput),this.optionsManager.on("change",function(t){if("content"==t.id)this.setContent(t.value);else{var e={};e[t.id]=t.value,this.surface.setOptions(e)}}.bind(this)),this.node.link(this.surface)}var o=t("famous/Surface"),n=t("famous/View"),r=t("famous-utils/TimeAgo");s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={classes:["feedItem"],size:[void 0,80],content:{icon:void 0,source:void 0,time:void 0,text:""}},s.prototype.setContent=function(t){this.options.content=t;var e=.6*this.options.size[1],i='<img src="'+t.icon+'" class="icon" width="'+e+'" height="'+e+'" />',s='<p class="source">'+t.source+"</p>",o='<p class="time">'+r.parse(t.time)+"</p>",n='<p class="text">'+t.text+"</p>";this.surface.setContent(i+o+s+n)},i.exports=s}),define("app/models/Settings",["require","exports","module","lib/backboneLocalStorage"],function(t,e,i){t("lib/backboneLocalStorage"),i.exports=Backbone.Model.extend({localStorage:new Backbone.LocalStorage("colabeo-settings-2"),defaults:{}})}),define("famous-physics/forces/TorqueSpring",["require","exports","module","famous-physics/forces/Force","famous-physics/math/Vector"],function(t,e,i){function s(t){this.opts={period:300,dampingRatio:0,length:0,lMin:0,lMax:1/0,anchor:void 0,forceFunction:s.FORCE_FUNCTIONS.HOOK,callback:void 0,callbackTolerance:1e-7},t&&this.setOpts(t),this.torque=new u,this.init(),this._canFireCallback=void 0,a.call(this),this.disp=new u(0,0,0)}function o(t){this.forceFunction=t}function n(t){t.stiffness=Math.pow(2*Math.PI/t.period,2)}function r(t){t.damping=4*Math.PI*t.dampingRatio/t.period}var a=t("famous-physics/forces/Force"),u=t("famous-physics/math/Vector");s.prototype=Object.create(a.prototype),s.prototype.constructor=a,s.FORCE_FUNCTIONS={FENE:function(t,e){var i=.99*e,s=Math.max(Math.min(t,i),-i);return s/(1-s*s/(e*e))},HOOK:function(t){return t}},s.prototype.init=function(){var t=this.opts;o.call(this,t.forceFunction),n.call(this,t),r.call(this,t)},s.prototype.applyForce=function(t){for(var e=this.torque,i=this.opts,s=this.disp,o=i.stiffness,n=i.damping,r=i.length,a=i.anchor,u=0;u<t.length;u++){var h=t[u];s.set(a.sub(h.q));var c=s.norm()-r;if(0==c)return;var p=h.m;o*=p,n*=p,e.set(s.normalize(o*this.forceFunction(c,this.opts.lMax))),n&&e.add(h.w.mult(-n),e),h.applyTorque(e)}},s.prototype.setOpts=function(t){void 0!==t.anchor&&(t.anchor.p instanceof u&&(this.opts.anchor=t.anchor.p),t.anchor instanceof u&&(this.opts.anchor=t.anchor),t.anchor instanceof Array&&(this.opts.anchor=new u(t.anchor))),void 0!==t.period&&(this.opts.period=t.period),void 0!==t.dampingRatio&&(this.opts.dampingRatio=t.dampingRatio),void 0!==t.length&&(this.opts.length=t.length),void 0!==t.lMin&&(this.opts.lMin=t.lMin),void 0!==t.lMax&&(this.opts.lMax=t.lMax),void 0!==t.forceFunction&&(this.opts.forceFunction=t.forceFunction),void 0!==t.callback&&(this.opts.callback=t.callback),void 0!==t.callbackTolerance&&(this.opts.callbackTolerance=t.callbackTolerance),this.init()},i.exports=s}),define("app/widgets/TorqueRenderable",["require","exports","module","famous/View","famous/Matrix","famous/Modifier","famous/RenderNode","famous-physics/PhysicsEngine","famous-physics/math/Vector","famous-physics/math/Vector","famous-physics/forces/TorqueSpring","famous-physics/forces/Spring","famous-physics/forces/Drag","famous-utils/Utils"],function(t,e,i){function s(){a.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.physicsMod=new h({origin:[.5,.5]}),this.physicsNode=new c,this.modifier=new h({size:this.options.size}),this.node.link(this.modifier).link(this.physicsMod).link(this.physicsNode),this.PE=new p,this.body=this.PE.createBody({shape:this.PE.BODIES.RECTANGLE,size:this.options.size}),this.torqueSpring=new d({anchor:new f(0,0,0,0),period:this.options.torquePeriod,dampingRatio:this.options.torqueDamping}),this.forceSpring=new m({anchor:[0,0,0],period:this.options.forceSpringPeriod,dampingRatio:this.options.forceSpringDamping}),this.drag=new v({strength:this.options.drag}),g.isWebkit()?this.on("mousedown",n.bind(this)):this.on("mousedown",r.bind(this)),this.on("touchstart",r.bind(this)),this._torque=new l(0,0,-this.options.torqueStrength),this._force=new l(0,0,-this.options.forceStrength),this.PE.attach([this.torqueSpring,this.forceSpring]),o.call(this)}function o(){for(var t=0;t<this.options.views.length;t++)this.add(this.options.views[t])}function n(t){this.applyTorque(new l(t.offsetX-this.body.size[0]/2,-(t.offsetY-this.body.size[1]/2),0))}function r(t){for(var e=0;e<t.touches.length;e++){var i=t.touches[e].pageX,s=t.touches[e].pageY;this.applyTorque(new l(i-this.offset[0]-this.body.size[0]/2,-(s-this.offset[1]-this.body.size[1]/2),0))}}var a=t("famous/View"),u=t("famous/Matrix"),h=t("famous/Modifier"),c=t("famous/RenderNode"),p=t("famous-physics/PhysicsEngine"),l=t("famous-physics/math/Vector"),f=t("famous-physics/math/Vector"),d=t("famous-physics/forces/TorqueSpring"),m=t("famous-physics/forces/Spring"),v=t("famous-physics/forces/Drag"),g=t("famous-utils/Utils");s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={pos:[0,0,0],vel:[0,0,0],torqueStrength:.02,torquePeriod:5,torqueDamping:20,forceStrength:.02,forceSpringPeriod:1e3,forceSpringDamping:.8,zDepth:-300,size:[400,400],drag:.01,views:[]},s.prototype.setTransform=function(t,e,i){this.modifier.setTransform(t,e,i),this.setOffset(u.getTranslate(t))},s.prototype.setOffset=function(t){this.offset=t},s.prototype.setSize=function(t){this.body.setOptions({size:t}),this.modifier.setSize(t)},s.prototype.applyTorque=function(t){this.body.applyTorque(t.cross(this._torque)),this.body.applyForce(this._force),this.emit("forceApplied")},s.prototype.add=function(t){this.physicsNode.add(t),t.pipe(this)},s.prototype.render=function(){this.PE.step();var t=this.body.getTransform();return this.physicsMod.setTransform(t),this.node.render()},s.prototype.setTorqueSpringOpts=function(){this.torqueSpring.setOpts({period:this.options.torquePeriod,dampingRatio:this.options.torqueDamping})},s.prototype.setForceSpringOpts=function(){this.forceSpring.setOpts({period:this.options.forceSpringPeriod,dampingRatio:this.options.forceSpringDamping})},s.prototype.setForce=function(t){this.options.forceStrength=t,this._force=new l(0,0,-this.options.forceStrength)},s.prototype.setTorque=function(t){this.options.torqueStrength=t,this._torque=new l(0,0,-this.options.torqueStrength)},i.exports=s}),define("famous-utils/KeyCodes",["require","exports","module"],function(t,e,i){var s={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,a:97,b:98,c:99,d:100,e:101,f:102,g:103,h:104,i:105,j:106,k:107,l:108,m:109,n:110,o:111,p:112,q:113,r:114,s:115,t:116,u:117,v:118,w:119,x:120,y:121,z:122,ENTER:13,LEFT_ARROW:37,RIGHT_ARROW:39,UP_ARROW:38,DOWN_ARROW:40,SPACE:32,SHIFT:16,TAB:9};i.exports=s}),define("famous-scene/Scene",["require","exports","module","famous-utils/Utils","famous-utils/KeyCodes","famous/Engine","famous/EventHandler","famous/View"],function(t,e,i){function s(){n.apply(this,arguments),this.width=o.getWidth(),this.height=o.getHeight(),this.mouseDown=!1,this.callbacks={},this.bindEvents()}var o=t("famous-utils/Utils"),n=(t("famous-utils/KeyCodes"),t("famous/Engine"),t("famous/EventHandler"),t("famous/View"));s.prototype=Object.create(n.prototype),s.prototype.bindEvents=function(){this.callbacks.prerender=this.update.bind(this),this.callbacks.touchstart=this.touchstart.bind(this),this.callbacks.touchmove=this.touchmove.bind(this),this.callbacks.touchend=this.touchend.bind(this),this.callbacks.keypress=this.keypress.bind(this),this.callbacks.resize=o.debounce(this.resize.bind(this),333),this.callbacks.mousedown=this._mousedown.bind(this),this.callbacks.mousemove=this._mousemove.bind(this),this.callbacks.mouseover=this._mouseover.bind(this),this.callbacks.mouseup=this._mouseup.bind(this),this.callbacks.mouseout=this._mouseout.bind(this),this.callbacks.keydown=this.keydown.bind(this),this.callbacks.keyup=this.keyup.bind(this);for(var t=Object.keys(this.callbacks),e=0;e<t.length;e++)this.eventInput.on(t[e],this.callbacks[t[e]])},s.prototype.unbindEvents=function(){for(var t=Object.keys(this.callbacks),e=0;e<t.length;e++)this.unbind(t[e],this.callbacks[t[e]])},s.prototype.activate=function(t){t&&t()},s.prototype.update=function(){},s.prototype.render=function(){return this.node.render()},s.prototype.deactivate=function(t){t&&t()},s.prototype.touchstart=function(){},s.prototype.touchmove=function(){},s.prototype.touchend=function(){},s.prototype._mousedown=function(t){this.mouseDown=!0,this.mousedown(t)},s.prototype._mousemove=function(t){this.mouseDown===!0?this.mousedrag(t):this.mousemove(t)},s.prototype._mouseover=function(t){this.mouseover(t)},s.prototype._mouseup=function(t){this.mouseDown=!1,this.mouseup(t)},s.prototype._mouseout=function(t){this.mouseout(t)},s.prototype.mousedown=function(){},s.prototype.mouseup=function(){},s.prototype.mousemove=function(){},s.prototype.mouseover=function(){},s.prototype.mouseout=function(){},s.prototype.mousedrag=function(){},s.prototype.keypress=function(){},s.prototype.keydown=function(){},s.prototype.keyup=function(){},s.prototype.keypress=function(){},s.prototype.resize=function(){this.width=o.getWidth(),this.height=o.getHeight()},s.prototype.setController=function(t){this.controller=t},i.exports=s}),define("famous-audio/BufferLoader",["require","exports","module"],function(t,e,i){function s(t,e,i){this.context=t,this.urlList=e,this.onload=i,this.bufferList=[],this.loadCount=0}s.prototype.loadBuffer=function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer";var s=this;i.onload=function(){s.context.decodeAudioData(i.response,function(i){return i?(s.bufferList[e]=i,++s.loadCount==s.urlList.length&&s.onload(s.bufferList),void 0):(console.log("error decoding file data: "+t),void 0)})},i.onerror=function(){console.log("BufferLoader: XHR error")},i.send()},s.prototype.load=function(){for(var t=0;t<this.urlList.length;++t)this.loadBuffer(this.urlList[t],t)},i.exports=s}),define("famous-audio/SoundPlayer",["require","exports","module","./BufferLoader"],function(t,e,i){function s(t,e){this.context;try{window.AudioContext=window.AudioContext||window.webkitAudioContext,this.context=new AudioContext,this.bufferLoader=new o(this.context,t,this.setSounds.bind(this)),this.sounds,this.callback=e||void 0,this.bufferLoader.load()}catch(i){}}var o=t("./BufferLoader");s.prototype.setSounds=function(t){this.sounds=t,console.log("sounds loaded",t),void 0!=this.callback&&this.callback()},s.prototype.playSound=function(t,e){if(this.context&&this.sounds){var i=this.context.createBufferSource(),s=this.context.createGainNode?this.context.createGainNode():this.context.createGain();i.buffer=this.sounds[t],i.connect(s),s.connect(this.context.destination),s.gain.value="undefined"==typeof e?.125:e,i.start(0)}},i.exports=s}),define("famous-feedback/FeedbackBase",["require","exports","module","famous/Engine","famous/View","famous/Surface","famous/Modifier","famous-animation/Easing","famous/Matrix"],function(t,e,i){function s(){o.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this._inTransition=[],this.content=[],this.on("mousedown",this._feedback.bind(this)),this.on("touchstart",this._feedback.bind(this))}{var o=(t("famous/Engine"),t("famous/View"));t("famous/Surface"),t("famous/Modifier"),t("famous-animation/Easing"),t("famous/Matrix")}s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={},s.prototype.create=function(){},s.prototype.setContentRef=function(t){this._contentRef=t},s.prototype._feedback=function(t){var e=this.getAvailable(),i=[t.pageX,t.pageY];this.content[e]||(this._inTransition.push(!1),this.create()),this._triggerAnimation(i,e)},s.prototype._triggerAnimation=function(t,e){this._inTransition[e]=!0,this._callback=function(){this._inTransition[e]=!1}.bind(this,e),this.animate(t,e,this._callback)},s.prototype.getAvailable=function(){for(var t=0;t<this._inTransition.length;t++)if(!this._inTransition[t])return t;return this._inTransition.length},i.exports=s}),define("famous-feedback/FontFeedback",["require","exports","module","famous/Engine","famous/View","famous/Surface","famous/Modifier","famous/Matrix","famous-animation/Easing","famous-utils/Utils","famous-feedback/FeedbackBase"],function(t,e,i){function s(){u.apply(this,arguments),this.fontSurfaces=[],this.fontMods=[],this._fontContent=0,this.setContentRef(this.fontSurfaces)}function o(t,e){return[Math.cos(t)*e,Math.sin(t)*e]}var n=(t("famous/Engine"),t("famous/View"),t("famous/Surface")),r=t("famous/Modifier"),a=t("famous/Matrix"),u=(t("famous-animation/Easing"),t("famous-utils/Utils"),t("famous-feedback/FeedbackBase"));s.prototype=Object.create(u.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={zDepth:2,fontContent:["a","b","c","d","e","f"],properties:[],size:[150,100],curve:{duration:500,curve:"linear"},opacityCurve:{duration:600,curve:"outSineNorm"},fontProperties:{},fontClasses:["feedback-font"],radius:300},s.prototype.create=function(){var t=new n({size:this.options.size,properties:this.options.fontProperties,classes:this.options.fontClasses}),e=new r({opacity:0,size:this.options.size,transform:a.translate(0,0,-20)});this.fontSurfaces.push(t),this.fontMods.push(e),this.node.add(e).link(t)},s.prototype.animate=function(t,e,i){var s=t[0]-.5*this.options.size[0],n=t[1]-.5*this.options.size[1],r=a.move(a.scale(.5,.5),[s,n,this.options.zDepth]),u=(this.options.pointSize,Math.random()*Math.PI),h=o(u,this.options.radius);this.fontSurfaces[e].setContent(this.getContent()),this.fontMods[e].halt(),this.fontMods[e].setTransform(r),this.fontMods[e].setTransform(a.translate(s-h[0],n-h[1]),this.options.curve),this.fontMods[e].setOpacity(1),this.fontMods[e].setOpacity(0,this.options.opacityCurve,i)},s.prototype.getContent=function(){var t=this._fontContent;return this._fontContent++,this.options.fontContent[t%this.options.fontContent.length]},i.exports=s}),define("app/view/LogoView",["require","exports","module","famous/Matrix","famous-physics/PhysicsEngine","famous/Surface","famous/View","famous/RenderNode","app/widgets/TorqueRenderable","famous-scene/Scene","famous-utils/Utils","famous-audio/SoundPlayer","famous-feedback/FontFeedback","famous-animation/Easing"],function(t,e,i){function s(){u.apply(this,arguments),this.node.add(this.lasers),this.audio=new h(["sounds/sharp-beep-single.mp3"]);var t="Beepe".split("").map(function(t){var e=new r,i=new n({content:t,classes:["title"]});return i.pipe(this.eventOutput),e._add(i),e}.bind(this));this.torque=new a({views:t,forceStrength:.5,forceSpringDamping:1.35,forceSpringPeriod:1100,torqueStrength:.1,torquePeriod:3}),this.initLasers(),this.setTorquePos(),this.node.add(this.torque),this.events(),this.torque.pipe(this.lasers)}var o=t("famous/Matrix"),n=(t("famous-physics/PhysicsEngine"),t("famous/Surface")),r=t("famous/View"),a=(t("famous/RenderNode"),t("app/widgets/TorqueRenderable")),u=t("famous-scene/Scene"),h=(t("famous-utils/Utils"),t("famous-audio/SoundPlayer")),c=t("famous-feedback/FontFeedback"),p=t("famous-animation/Easing");s.prototype=Object.create(u.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={torqueSize:[260,260],alarmDelay:1e3,alarmCurve:{curve:"outSineNorm",duration:1e3}},s.prototype.events=function(){this.torque.on("forceApplied",this.audio.playSound.bind(this.audio,0,1))
},s.prototype.setTorquePos=function(){this.torque.setTransform(o.translate(150,.6*window.innerHeight-.5*this.options.torqueSize[1]),{duration:100})},s.prototype.initLasers=function(){this.lasers=new c({fontContent:["<p class = fa-envelope>Beepe</p>",'<i class="fa fa-envelope fa-lg"></i>',"<p class = fa-facebook-square>Beepe</p>",'<i class="fa fa-facebook-square fa-lg"></i>',"<p class = fa-google-plus-square>Beepe</p>",'<i class="fa fa-google-plus-square fa-lg"></i>',"<p class = fa-linkedin-square>Beepe</p>",'<i class="fa fa-linkedin-square fa-lg"></i>',"<p class = fa-github>Beepe</p>",'<i class="fa fa-github fa-lg"></i>'],fontProperties:{color:"#51c8ee"},fontClasses:["colabeo-logo-feedback-font"],size:[100,50],curve:{curve:p.outBackNorm,duration:2e3},opacityCurve:{curve:p.outSineNorm,duration:2200},zDepth:10}),this.node.add(this.lasers)},i.exports=s}),define("famous/ImageSurface",["require","exports","module","./Surface"],function(t,e,i){function s(){this.imageUrl=void 0,o.apply(this,arguments)}var o=t("./Surface");s.prototype=Object.create(o.prototype),s.prototype.surfaceEvents=o.prototype.surfaceEvents.concat(["load"]),s.prototype.elementType="img",s.prototype.elementClass="surface",s.prototype.setContent=function(t){this.imageUrl=t,this._contentDirty=!0},s.prototype.deploy=function(t){t.src=this.imageUrl||""},s.prototype.recall=function(t){t.src=""},i.exports=s}),define("app/widgets/SplitImages",["require","exports","module","famous/View","famous/Matrix","famous/Surface","famous/ImageSurface","famous/Modifier","famous-animation/Easing"],function(t,e,i){function s(){n.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.modifiers=[],o.call(this)}function o(){for(var t=0;t<this.options.images.length;t++)this.addImage(this.options.images[t]);this.setDepth(this.options.depth)}var n=t("famous/View"),r=t("famous/Matrix"),a=t("famous/Surface"),u=(t("famous/ImageSurface"),t("famous/Modifier")),h=t("famous-animation/Easing");s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={images:[],size:[400,400],depth:50,classes:["backface-visible","no-user-select"]},s.prototype.setDepth=function(t){for(var e=0;e<this.modifiers.length;e++)this.modifiers[e].halt(),this.modifiers[e].setTransform(r.translate(0,0,t*e),{curve:h.outCubicNorm,duration:400}),e==this.modifiers.length-1&&(this._maxDepth=t*e)},s.prototype.getMaxDepth=function(){return this._maxDepth},s.prototype.addImage=function(t){var e=this.modifiers.length,i=new a({content:'<img class="no-user-select", width="'+this.options.size[0]+'" draggable="false" src="'+t+'"></img>',size:this.options.size,classes:this.options.classes}),s=new u({transform:r.translate(0,0,e*this.options.depth)});i.pipe(this),this.modifiers.push(s),this.node.add(s).link(i)},i.exports=s}),define("app/view/LogoView2",["require","exports","module","famous/Matrix","famous-physics/PhysicsEngine","app/widgets/TorqueRenderable","famous-scene/Scene","app/widgets/SplitImages","famous-utils/Utils","famous-audio/SoundPlayer","famous-feedback/FontFeedback","famous-animation/Easing"],function(t,e,i){function s(){r.apply(this,arguments),this.node.add(this.lasers),this.audio=new u(["sounds/sharp-beep-single.mp3"]),this.split=new a({images:["pics/0.svg","pics/1.svg","pics/2.svg","pics/3.svg"],depth:30,size:this.options.torqueSize}),this.torque=new n({views:[this.split],forceStrength:.5,forceSpringDamping:1.35,forceSpringPeriod:1100,torqueStrength:.1,torquePeriod:3}),this.initLasers(),this.setTorquePos(),this.node.add(this.torque),this.events(),this.torque.pipe(this.lasers)}var o=t("famous/Matrix"),n=(t("famous-physics/PhysicsEngine"),t("app/widgets/TorqueRenderable")),r=t("famous-scene/Scene"),a=t("app/widgets/SplitImages"),u=(t("famous-utils/Utils"),t("famous-audio/SoundPlayer")),h=t("famous-feedback/FontFeedback"),c=t("famous-animation/Easing");s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={torqueSize:[260,260],alarmDelay:1e3,alarmCurve:{curve:"outSineNorm",duration:1e3}},s.prototype.events=function(){this.torque.on("forceApplied",this.audio.playSound.bind(this.audio,0,1))},s.prototype.setTorquePos=function(){this.torque.setTransform(o.translate(150,.6*window.innerHeight-.5*this.options.torqueSize[1]),{duration:100})},s.prototype.initLasers=function(){this.lasers=new h({fontContent:["<p class = fa-envelope>Beepe</p>",'<i class="fa fa-envelope fa-lg"></i>',"<p class = fa-facebook-square>Beepe</p>",'<i class="fa fa-facebook-square fa-lg"></i>',"<p class = fa-google-plus-square>Beepe</p>",'<i class="fa fa-google-plus-square fa-lg"></i>',"<p class = fa-linkedin-square>Beepe</p>",'<i class="fa fa-linkedin-square fa-lg"></i>',"<p class = fa-github>Beepe</p>",'<i class="fa fa-github fa-lg"></i>'],fontProperties:{color:"#51c8ee"},fontClasses:["colabeo-logo-feedback-font"],size:[100,50],curve:{curve:c.outBackNorm,duration:2e3},opacityCurve:{curve:c.outSineNorm,duration:2200},zDepth:10}),this.node.add(this.lasers)},i.exports=s}),define("famous-physics/constraints/StiffSpring",["require","exports","module","famous-physics/constraints/Constraint","../math/Vector","famous/EventHandler"],function(t,e,i){function s(t){this.opts={length:0,anchor:void 0,dampingRatio:1,period:1e3,restTolerance:1e-5},t&&this.setOpts(t),this.pDiff=new u,this.vDiff=new u,this.n=new u,this.impulse1=new u,this.impulse2=new u,this.eventOutput=void 0,this._atRest=!1}function o(t,e){t<this.opts.restTolerance?(this._atRest||this.eventOutput.emit("atRest",{particle:e}),this._atRest=!0):this._atRest=!1}function n(t,e,i){var s=Math.abs(t.dot(e)/i);return s}function r(){this.eventOutput=new h,this.eventOutput.bindThis(this),h.setOutputHandler(this,this.eventOutput)}var a=t("famous-physics/constraints/Constraint"),u=t("../math/Vector"),h=t("famous/EventHandler");s.prototype=Object.create(a.prototype),s.prototype.constructor=a,s.prototype.setOpts=function(t){void 0!==t.anchor&&(t.anchor instanceof u&&(this.opts.anchor=t.anchor),t.anchor.p instanceof u&&(this.opts.anchor=t.anchor.p),t.anchor instanceof Array&&(this.opts.anchor=new u(t.anchor))),void 0!==t.length&&(this.opts.length=t.length),void 0!==t.dampingRatio&&(this.opts.dampingRatio=t.dampingRatio),void 0!==t.period&&(this.opts.period=t.period),void 0!==t.restTolerance&&(this.opts.restTolerance=t.restTolerance)},s.prototype.setAnchor=function(t){void 0===this.opts.anchor&&(this.opts.anchor=new u),this.opts.anchor.set(t)},s.prototype.applyConstraint=function(t,e,i){for(var s=this.opts,r=this.pDiff,a=this.vDiff,u=this.impulse1,h=this.impulse2,c=s.length,p=s.anchor||e.p,l=s.period,f=s.dampingRatio,d=0;d<t.length;d++){var m=t[d],v=m.p,g=m.v,y=m.m,w=m.mInv;r.set(v.sub(p));var S=r.norm()-c;if(e){var b=e.mInv,x=e.v;a.set(g.sub(x));var _=1/(w+b)}else{a.set(g);var _=y}if(0==this.opts.period)var T=0,O=1;else var C=4*_*Math.PI*Math.PI/(l*l),E=4*_*Math.PI*f/l,O=i*C/(E+i*C),T=1/(E+i*C);var M=O/i*S;if(r.normalize(-M).sub(a).mult(i/(T+i/_)).put(u),m.applyImpulse(u),e&&(u.mult(-1).put(h),e.applyImpulse(h)),this.eventOutput){var z=m.getEnergy()+n(u,r,i);o.call(this,z,m)}}},s.prototype.getEnergy=function(t,e){var i=this.opts,s=i.length,o=i.period,n=i.anchor||e.p;if(0===o)return 0;var r=4*t.m*Math.PI*Math.PI/(o*o),a=n.sub(t.p),u=a.norm()-s;return.5*r*u*u},s.prototype.on=function(){return r.call(this),this.on.apply(this,arguments)},s.prototype.unbind=function(){return r.call(this),this.unbind.apply(this,arguments)},s.prototype.pipe=function(){return r.call(this),this.pipe.apply(this,arguments)},s.prototype.unpipe=function(){return r.call(this),this.unpipe.apply(this,arguments)},i.exports=s}),define("famous-physics/constraints/Wall",["require","exports","module","famous-physics/constraints/Constraint","../math/Vector","famous/EventHandler"],function(t,e,i){function s(t){this.opts={restitution:.7,k:0,n:new r,d:0,onContact:s.ON_CONTACT.REFLECT},t&&this.setOpts(t),this.diff=new r,this.impulse=new r,this.slop=-1,this.eventOutput=void 0}function o(){this.eventOutput=new a,this.eventOutput.bindThis(this),a.setOutputHandler(this,this.eventOutput)}var n=t("famous-physics/constraints/Constraint"),r=t("../math/Vector"),a=t("famous/EventHandler");s.prototype=Object.create(n.prototype),s.prototype.constructor=n,s.ON_CONTACT={REFLECT:0,WRAP:1,ABSORB:2},s.prototype.setOpts=function(t){void 0!==t.restitution&&(this.opts.restitution=t.restitution),void 0!==t.k&&(this.opts.k=t.k),void 0!==t.d&&(this.opts.d=t.d),void 0!==t.onContact&&(this.opts.onContact=t.onContact),void 0!==t.n&&this.opts.n.set(t.n)},s.prototype.getNormalVelocity=function(t){var e=this.opts.n;return t.dot(e)},s.prototype.getDistance=function(t){var e=this.opts.n,i=this.opts.d;return t.dot(e)+i},s.prototype.onEnter=function(t,e,i){var o=t.p,n=t.v,r=t.m,a=this.opts.n,u=this.opts.onContact,h=this.opts.restitution,c=this.impulse,p=this.opts.k,l=0;if(this.eventOutput){var f={particle:t,wall:this,overlap:e};this.eventOutput.emit("preCollision",f),this.eventOutput.emit("collision",f)}switch(u){case s.ON_CONTACT.REFLECT:var d=e<this.slop?-((1+h)*a.dot(n)+p/i*(e-this.slop))/(r*i+l):-((1+h)*a.dot(n))/(r*i+l);c.set(a.mult(i*d)),t.applyImpulse(c),o.add(a.mult(-e),o);break;case s.ON_CONTACT.ABSORB:var d=a.dot(n)/(r*i+l);c.set(a.mult(i*d)),t.applyImpulse(c),o.add(a.mult(-e),o),n.clear();break;case s.ON_CONTACT.WRAP:if(e<-t.r)break}this.eventOutput&&this.eventOutput.emit("postCollision",f)},s.prototype.onExit=function(t,e){var i=this.opts.onContact,o=t.p,n=this.opts.n;i==s.ON_CONTACT.REFLECT?o.add(n.mult(-e),o):i==s.ON_CONTACT.WRAP||i==s.ON_CONTACT.ABSORB},s.prototype.applyConstraint=function(t,e,i){for(var s=this.opts.n,o=0;o<t.length;o++){var n=t[o],r=n.p,a=n.v,u=n.r||0,h=this.getDistance(r.add(s.mult(-u))),c=this.getNormalVelocity(a);0>h&&(0>c?this.onEnter(n,h,i):this.onExit(n,h,i))}},s.prototype.on=function(){return o.call(this),this.on.apply(this,arguments)},s.prototype.unbind=function(){return o.call(this),this.unbind.apply(this,arguments)},s.prototype.pipe=function(){return o.call(this),this.pipe.apply(this,arguments)},s.prototype.unpipe=function(){return o.call(this),this.unpipe.apply(this,arguments)},i.exports=s}),define("famous-physics/utils/PhysicsTransition",["require","exports","module","famous-physics/PhysicsEngine","famous-physics/constraints/StiffSpring","famous-physics/constraints/Wall","famous-physics/math/Vector"],function(t,e,i){function s(t){this.defaultDefinition={spring:{period:300,dampingRatio:.5},v:0,wall:!1},t=t||0,this._anchor=new y(t,0,0),this.endState=t,this.prevState=void 0,this.direction=void 0,this.atRest=!0,this.spring=new v({anchor:this._anchor}),this.wall=new g({restitution:.5,k:0,n:new y(-1,0,0)}),this.attachedWall=void 0,this.PE=new m,this.particle=this.PE.createParticle({p:[t,0,0]}),this.attachedSpring=this.PE.attach(this.spring,this.particle)}function o(){if(!this.atRest){this.PE.step();var t=n.call(this);w>t&&(this.atRest=!0,c.call(this,this.endState),this.callback&&this.callback())}}function n(){return this.particle.getEnergy()+this.spring.getEnergy(this.particle)}function r(t){this.spring.setOpts(t.spring),p.call(this,t.v),t.wall?u.call(this):h.call(this)}function a(t){this.prevState=this.endState,this.endState=t,this.direction=this.endState-this.prevState>0?1:this.endState<0?-1:0,void 0!==this.attachedSpring&&(this._anchor.x=t),void 0!==this.attachedWall&&this.wall.setOpts({d:Math.abs(t),n:[-this.direction,0,0]}),p.call(this,this.direction*f.call(this))}function u(){this.attachedWall=this.PE.attach(this.wall,this.particle)}function h(){void 0!==this.attachedWall&&this.PE.detach(this.attachedWall)}function c(t){this.particle.p.x=t}function p(t){this.particle.v.x=t}function l(){return this.particle.p.x}function f(){return this.particle.v.x}function d(t){this.callback=t}var m=t("famous-physics/PhysicsEngine"),v=t("famous-physics/constraints/StiffSpring"),g=t("famous-physics/constraints/Wall"),y=t("famous-physics/math/Vector");s.forceFunctions=v.forceFunctions;var w=1e-5;s.prototype.reset=function(t,e){t=t||0,e=e||0,this.prevState=void 0,c.call(this,t),p.call(this,e),a.call(this,t),d.call(this,void 0)},s.prototype.getVelocity=function(){return o.call(this),f.call(this)},s.prototype.halt=function(){this.set(this.get())},s.prototype.get=function(){return o.call(this),l.call(this)},s.prototype.set=function(t,e,i){return e?(this.atRest=!1,r.call(this,e),a.call(this,t),d.call(this,i),void 0):(this.reset(t),i&&i(),void 0)},i.exports=s}),define("app/widgets/Counter",["require","exports","module","famous/View","famous/Matrix","famous/Surface","famous/Modifier","famous-animation/Easing","famous/Transitionable","famous-physics/utils/PhysicsTransition"],function(t,e,i){function s(){if(d.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.surfaces=[],this.mods=[],this._positions={prev:0,curr:1,next:2},this._currSelected=1,this.value=this.options.defaultValue,localStorage){var t=localStorage.getItem(this.options.localStorageId);t&&(this.value=parseInt(t))}n.call(this),o.call(this)}function o(){for(var t=[this.rotations.prev,this.rotations.curr,this.rotations.next],e=0;3>e;e++){var i=new v({size:this.options.size,properties:this.options.numberProperties,content:this.value+"",classes:this.options.numberClasses}),s=new g({transform:t[e],opacity:0});this.node.add(s).link(i),this.surfaces.push(i),this.mods.push(s)}this.mods[this._currSelected].setOpacity(1,this.options.curve)}function n(){var t=this.options.rotation;this.rotations={prev:m.aboutOrigin([0,0,-this.options.radius],m.rotateX(t)),curr:m.aboutOrigin([0,0,-this.options.radius],m.rotateX(0)),next:m.aboutOrigin([0,0,-this.options.radius],m.rotateX(-t))}}function r(){var t=(this._currSelected-1)%3;return-1==t?2:t}function a(){return(this._currSelected+1)%3}function u(t){var e=this.mods[this._currSelected];return e.halt(),e.setTransform(this.rotations.next,this.options.curve,t),e.setOpacity(0,this.options.curve),this._currSelected}function h(t){var e=r.call(this),i=this.mods[e];return i.halt(),i.setTransform(this.rotations.curr,this.options.curve,t),i.setOpacity(1,this.options.curve),e}function c(){var t=a.call(this),e=this.mods[t];return e.halt(),e.setTransform(this.rotations.prev),e.setOpacity(0),t}function p(){var t=this.mods[this._currSelected];t.halt(),t.setTransform(this.rotations.prev,this.options.curve,callback),t.setOpacity(0,this.options.curve)}function l(){var t=a.call(this),e=this.mods[t];return e.halt(),e.setTransform(this.rotations.curr,this.options.curve,callback),e.setOpacity(1,this.options.curve),t}function f(){var t=r.call(this),e=this.mods[t];return e.halt(),e.setTransform(this.rotations.next),e.setOpacity(0),t}var d=t("famous/View"),m=t("famous/Matrix"),v=t("famous/Surface"),g=t("famous/Modifier"),y=(t("famous-animation/Easing"),t("famous/Transitionable")),w=t("famous-physics/utils/PhysicsTransition");y.registerMethod("physics",w),s.prototype=Object.create(d.prototype),s.prototype.constructor=s,s.prototype.getSize=function(){return this.currNumber.getSize()},s.DEFAULT_OPTIONS={size:[200,60],numberClasses:["counter-number"],numberProperties:{textAlign:"right"},radius:75,curve:{method:"physics",spring:{period:700,dampingRatio:.25},wall:!1,v:-.001},rotation:.25*Math.PI,defaultValue:0,localStorageId:"famous-counter",useLocalStorage:!0},s.prototype.subtract=function(t){this.value-=t,this._setNextToValue();{var e=(p.call(this),l.call(this));f.call(this)}this._currSelected=e,this._storage()},s.prototype.add=function(t){this.value+=t,this._setPrevToValue();{var e=(c.call(this),h.call(this));u.call(this)}this._currSelected=e,this._storage()},s.prototype._storage=function(){localStorage&&localStorage.setItem(this.options.localStorageId,this.value)},s.prototype.addOne=function(){this.add(1)},s.prototype.subOne=function(){this.subtract(1)},s.prototype.get=function(){return this._value},s.prototype._setToValue=function(t){t.setContent(this.value+"")},s.prototype._setPrevToValue=function(){var t=this.surfaces[r.call(this)];this._setToValue(t)},s.prototype._setNextToValue=function(){var t=this.surfaces[a.call(this)];this._setToValue(t)},s.prototype.getSize=function(){return this.options.size},i.exports=s}),define("famous-color/Color",["require","exports","module","famous-utils/Utils"],function(t,e,i){function s(t,e,i,o){t instanceof s?(this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this.hex=t.getHex()):(this.r="undefined"==typeof t?255:t,this.g="undefined"==typeof e?255:e,this.b="undefined"==typeof i?255:i,this.a="undefined"==typeof o?1:o,this.hex=this.getHex())}function o(t,e,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?t+6*(e-t)*i:.5>i?e:2/3>i?t+(e-t)*(2/3-i)*6:t}var n=t("famous-utils/Utils");s.prototype.getHue=function(){var t=this.r/255,e=this.g/255,i=this.b/255,s=Math.max(t,e,i),o=Math.min(t,e,i),n=0,r=s-o;switch(s){case t:n=(e-i)/r+(i>e?6:0);break;case e:n=(i-t)/r+2;break;case i:n=(t-e)/r+4}return n*=60,isNaN(n)&&(n=0),n},s.prototype.getSaturation=function(){var t,e=this.r/255,i=this.g/255,s=this.b/255,o=Math.max(e,i,s),n=Math.min(e,i,s),r=(o+n)/2;if(o==n)h=t=0;else{var a=o-n;switch(t=r>.5?a/(2-o-n):a/(o+n),o){case e:h=(i-s)/a+(s>i?6:0);break;case i:h=(s-e)/a+2;break;case s:h=(e-i)/a+4}h*=60}return 100*t},s.prototype.getBrightness=function(){var t=this.r/255,e=this.g/255,i=this.b/255;return 100*Math.max(t,e,i)},s.prototype.getLightness=function(){var t=this.r/255,e=this.g/255,i=this.b/255;return(Math.max(t,e,i)+Math.min(t,e,i))/2*100},s.prototype.getHex=function(){function t(t){var e=t.toString(16);return 1===e.length?"0"+e:e}return"#"+t(this.r)+t(this.g)+t(this.b)},s.prototype.getHSL=function(){var t,e,i=this.r/255,s=this.g/255,o=this.b/255,n=Math.max(i,s,o),r=Math.min(i,s,o),a=(n+r)/2;if(n==r)t=e=0;else{var u=n-r;switch(e=a>.5?u/(2-n-r):u/(n+r),n){case i:t=(s-o)/u+(o>s?6:0);break;case s:t=(o-i)/u+2;break;case o:t=(i-s)/u+4}t*=60}return[t,100*e,100*a]},s.prototype.setFromHSL=function(t,e,i){t/=360,e/=100,i/=100;var s,n,r;if(0===e)s=n=r=i;else{var a=.5>i?i*(1+e):i+e-i*e,u=2*i-a;s=o(u,a,t+1/3),n=o(u,a,t),r=o(u,a,t-1/3)}return this.r=Math.round(255*s),this.g=Math.round(255*n),this.b=Math.round(255*r),this.hex=this.getHex(),this},s.prototype.setFromHex=function(t){return t="#"===t.charAt(0)?t.substring(1,t.length):t,3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),this.hex="#"+t,this.r=parseInt(t.substring(0,2),16),this.g=parseInt(t.substring(2,4),16),this.b=parseInt(t.substring(4,6),16),this},s.prototype.setFromRGBA=function(t,e,i,s){return this.r=t,this.g=e,this.b=i,s&&(this.a=s),this.hex=this.getHex(),this},s.prototype.setHue=function(t){var e=this.getHSL();return this.setFromHSL(t,e[1],e[2])},s.prototype.setSaturation=function(t){var e=this.getHSL();return this.setFromHSL(e[0],t,e[2])},s.prototype.setLightness=function(t){var e=this.getHSL();return this.setFromHSL(e[0],e[1],t)},s.prototype.getCSSBackgroundColor=function(){return n.backgroundColor(this.r,this.b,this.g,this.a)},s.prototype.getCSSColor=function(){return n.color(this.r,this.g,this.b,this.a)},s.prototype.clone=function(){return new s(this.r,this.g,this.b,this.a)},s.prototype.toNormalizeColorArray=function(){return[this.r/255,this.g/255,this.b/255,this.a]},s.prototype.lerp=function(t,e){var i=this.getHSL(),o=t.getHSL(),n=i[0]+(o[0]-i[0])*e,r=i[1]+(o[1]-i[1])*e,a=i[2]+(o[2]-i[2])*e,u=new s;return u.setFromHSL(n,r,a),u},i.exports=s}),define("famous-color/ColorPalette",["require","exports","module","./Color"],function(t,e,i){function s(t){this.colors=t}t("./Color");s.prototype.getColor=function(t){return this.colors[t%this.colors.length]},s.prototype.getCSS=function(t){return this.getColor(t).getCSSColor()},s.prototype.getLighestColor=function(){for(var t,e=0,i=0;i<this.colors.length;i++){var s=this.colors[i].getLightness();s>e&&(t=this.colors[i],e=s)}return t},s.prototype.getDarkestColor=function(){for(var t,e=100,i=0;i<this.colors.length;i++){var s=this.colors[i].getLightness();e>s&&(t=this.colors[i],e=s)}return t},s.prototype.getCount=function(){return this.colors.length},i.exports=s}),define("famous-color/ColorPalettes",["require","exports","module","./Color","./ColorPalette"],function(t,e,i){function s(){}function o(t){return new r(t[0],t[1],t[2],t[3])}function n(t){for(var e=[],i=0,s=t.length;s>i;i++)e.push(o(t[i]));return new a(e)}var r=t("./Color"),a=t("./ColorPalette"),u=[[[53,92,125,1],[108,91,123,1],[192,108,132,1],[246,114,128,1],[248,177,149,1]],[[27,21,33,1],[181,172,1,1],[212,30,69,1],[232,110,28,1],[236,186,9,1]],[[63,54,42,1],[231,69,13,1],[250,157,4,1],[251,222,3,1],[254,245,150,1]],[[10,103,137,1],[10,153,111,1],[207,6,56,1],[250,102,50,1],[254,205,35,1]],[[157,85,105,1],[192,227,217,1],[202,55,99,1],[227,237,195,1],[235,113,84,1]],[[110,110,110,1],[145,217,255,1],[237,255,135,1],[255,133,167,1],[255,255,255,1]],[[0,0,0,1],[25,26,36,1],[51,44,44,1],[250,101,87,1],[255,255,255,1]],[[27,103,107,1],[81,149,72,1],[136,196,37,1],[190,242,2,1],[234,253,230,1]],[[31,11,12,1],[48,5,17,1],[179,84,79,1],[214,195,150,1],[231,252,207,1]],[[172,248,248,1],[223,235,24,1],[230,95,95,1],[235,54,24,1],[235,207,24,1]],[[196,182,109,1],[213,39,5,1],[240,211,119,1],[243,232,228,1],[247,109,60,1]],[[11,72,107,1],[59,134,134,1],[121,189,154,1],[168,219,168,1],[207,240,158,1]],[[0,188,209,1],[118,211,222,1],[174,232,251,1],[176,248,255,1],[254,249,240,1]],[[85,73,57,1],[112,108,77,1],[241,230,143,1],[255,100,100,1],[255,151,111,1]],[[36,244,161,1],[178,42,58,1],[199,244,36,1],[244,36,182,1],[249,246,49,1]],[[108,144,134,1],[169,204,24,1],[207,73,108,1],[235,234,188,1],[252,84,99,1]],[[78,79,75,1],[130,35,57,1],[247,62,62,1],[255,119,61,1],[255,213,115,1]],[[121,28,49,1],[145,213,152,1],[191,178,64,1],[202,51,68,1],[237,126,80,1]],[[104,73,83,1],[127,191,151,1],[182,219,145,1],[250,107,41,1],[253,158,41,1]],[[0,203,231,1],[0,218,60,1],[223,21,26,1],[244,243,40,1],[253,134,3,1]],[[56,222,231,1],[232,255,0,1],[254,62,71,1],[255,130,0,1]],[[27,32,38,1],[75,89,107,1],[153,228,255,1],[247,79,79,1],[255,59,59,1]],[[0,0,0,1],[0,173,239,1],[236,0,140,1],[255,242,0,1]],[[47,43,173,1],[173,43,173,1],[228,38,146,1],[247,21,104,1],[247,219,21,1]],[[101,150,158,1],[171,20,44,1],[189,219,222,1],[205,212,108,1],[219,217,210,1]],[[97,24,36,1],[193,47,42,1],[247,255,238,1],[254,222,123,1],[255,101,64,1]],[[118,85,66,1],[124,231,163,1],[220,93,110,1],[255,174,60,1],[255,229,156,1]],[[63,184,175,1],[127,199,175,1],[218,216,167,1],[255,61,127,1],[255,158,157,1]],[[217,251,223,1],[219,255,210,1],[231,254,235,1],[234,255,210,1],[243,255,210,1]],[[0,23,42,1],[27,139,163,1],[94,202,214,1],[178,222,249,1],[206,254,255,1]],[[225,245,196,1],[237,229,116,1],[249,212,35,1],[252,145,58,1],[255,78,80,1]],[[7,9,61,1],[11,16,140,1],[12,15,102,1],[14,78,173,1],[16,127,201,1]],[[5,177,240,1],[5,232,240,1],[94,87,230,1],[230,87,149,1],[255,5,113,1]],[[48,0,24,1],[90,61,49,1],[131,123,71,1],[173,184,95,1],[229,237,184,1]],[[111,191,162,1],[191,184,174,1],[242,199,119,1],[242,230,194,1],[255,255,255,1]],[[22,147,165,1],[69,181,196,1],[126,206,202,1],[160,222,214,1],[199,237,232,1]],[[8,26,48,1],[50,64,90,1],[59,100,128,1],[155,153,130,1],[255,134,17,1]],[[74,186,176,1],[152,33,0,1],[255,211,0,1],[255,245,158,1]],[[42,135,50,1],[49,48,66,1],[107,85,48,1],[255,109,36,1],[255,235,107,1]],[[0,0,0,1],[25,134,219,1],[105,172,224,1],[149,199,24,1],[184,212,40,1]],[[64,0,20,1],[127,0,40,1],[191,0,59,1],[229,0,71,1],[255,0,79,1]],[[56,69,59,1],[78,133,136,1],[255,70,84,1],[255,213,106,1],[255,254,211,1]],[[29,44,143,1],[57,179,162,1],[209,146,191,1],[222,75,107,1],[252,180,121,1]],[[14,36,48,1],[232,213,183,1],[232,213,185,1],[245,179,73,1],[252,58,81,1]],[[0,210,255,1],[222,255,0,1],[255,0,168,1],[255,66,0,1]],[[21,99,105,1],[51,53,84,1],[169,186,181,1],[216,69,148,1],[236,196,89,1]],[[105,210,231,1],[167,219,216,1],[224,228,204,1],[243,134,48,1],[250,105,0,1]],[[122,106,83,1],[148,140,117,1],[153,178,183,1],[213,222,217,1],[217,206,178,1]],[[34,104,136,1],[57,142,182,1],[255,162,0,1],[255,214,0,1],[255,245,0,1]],[[2,100,117,1],[194,163,79,1],[251,184,41,1],[254,251,175,1],[255,229,69,1]],[[214,37,77,1],[246,215,107,1],[253,235,169,1],[255,84,117,1],[255,144,54,1]],[[0,0,0,1],[124,180,144,1],[211,25,0,1],[255,102,0,1],[255,242,175,1]],[[35,116,222,1],[38,38,38,1],[87,54,255,1],[231,255,54,1],[255,54,111,1]],[[64,18,44,1],[89,186,169,1],[101,98,115,1],[216,241,113,1],[252,255,217,1]],[[126,148,158,1],[174,194,171,1],[235,206,160,1],[252,119,101,1],[255,51,95,1]],[[75,73,11,1],[117,116,73,1],[226,223,154,1],[235,229,77,1],[255,0,81,1]],[[159,112,69,1],[183,98,5,1],[208,167,124,1],[253,169,43,1],[254,238,171,1]],[[38,37,28,1],[160,232,183,1],[235,10,68,1],[242,100,61,1],[242,167,61,1]],[[0,0,0,1],[67,110,217,1],[120,0,0,1],[216,216,216,1],[240,24,0,1]],[[51,51,51,1],[131,163,0,1],[158,12,57,1],[226,27,90,1],[251,255,227,1]],[[79,156,52,1],[108,186,85,1],[125,210,89,1],[158,228,70,1],[187,255,133,1]],[[0,44,43,1],[7,100,97,1],[10,131,127,1],[255,61,0,1],[255,188,17,1]],[[149,207,183,1],[240,65,85,1],[242,242,111,1],[255,130,58,1],[255,247,189,1]],[[89,168,15,1],[158,213,76,1],[196,237,104,1],[226,255,158,1],[240,242,221,1]],[[54,42,44,1],[189,223,38,1],[237,38,105,1],[238,189,97,1],[252,84,99,1]],[[11,246,147,1],[38,137,233,1],[233,26,157,1],[246,182,11,1],[246,242,11,1]],[[8,0,9,1],[65,242,221,1],[207,242,65,1],[249,44,130,1],[252,241,30,1]],[[198,164,154,1],[198,229,217,1],[214,129,137,1],[233,78,119,1],[244,234,213,1]],[[6,71,128,1],[8,84,199,1],[160,194,222,1],[205,239,255,1],[237,237,244,1]],[[93,66,63,1],[124,87,83,1],[238,128,117,1],[255,177,169,1],[255,233,231,1]],[[59,129,131,1],[237,48,60,1],[245,99,74,1],[250,208,137,1],[255,156,91,1]],[[56,166,155,1],[104,191,101,1],[204,217,106,1],[242,88,53,1],[242,218,94,1]],[[60,197,234,1],[70,70,70,1],[233,234,60,1],[246,246,246,1]],[[97,99,130,1],[102,36,91,1],[105,165,164,1],[168,196,162,1],[229,234,164,1]],[[10,191,188,1],[19,116,125,1],[41,34,31,1],[252,53,76,1],[252,247,197,1]],[[7,0,4,1],[236,67,8,1],[252,129,10,1],[255,172,35,1],[255,251,214,1]],[[0,5,1,1],[8,138,19,1],[237,20,9,1],[240,249,241,1],[247,249,21,1]],[[64,197,132,1],[131,218,232,1],[170,46,154,1],[251,35,137,1],[251,132,137,1]],[[64,47,58,1],[217,119,119,1],[255,198,158,1],[255,219,196,1]],[[243,96,49,1],[249,236,95,1],[255,102,0,1],[255,153,0,1],[255,204,0,1]],[[33,90,109,1],[45,45,41,1],[60,162,162,1],[146,199,163,1],[223,236,230,1]],[[10,42,63,1],[101,147,160,1],[185,204,184,1],[219,21,34,1],[255,239,167,1]],[[0,160,176,1],[106,74,60,1],[204,51,63,1],[235,104,65,1],[237,201,81,1]],[[14,141,148,1],[67,77,83,1],[114,173,117,1],[233,213,88,1],[255,171,7,1]],[[94,159,163,1],[176,85,116,1],[220,209,180,1],[248,126,123,1],[250,184,127,1]],[[31,31,31,1],[122,91,62,1],[205,189,174,1],[250,75,0,1],[250,250,250,1]],[[176,230,41,1],[180,35,16,1],[247,207,10,1],[250,124,7,1],[252,231,13,1]],[[94,65,47,1],[120,192,168,1],[240,120,24,1],[240,168,48,1],[252,235,182,1]],[[31,26,28,1],[98,128,125,1],[134,158,138,1],[201,107,30,1],[209,205,178,1]],[[40,60,0,1],[100,153,125,1],[237,143,69,1],[241,169,48,1],[254,204,109,1]],[[37,2,15,1],[143,143,143,1],[158,30,76,1],[236,236,236,1],[255,17,104,1]],[[207,108,116,1],[244,93,120,1],[255,112,136,1],[255,130,153,1],[255,187,193,1]],[[0,0,0,1],[12,13,5,1],[168,171,132,1],[198,201,157,1],[231,235,176,1]],[[0,170,255,1],[170,0,255,1],[170,255,0,1],[255,0,170,1],[255,170,0,1]],[[78,150,137,1],[126,208,214,1],[135,214,155,1],[195,255,104,1],[244,252,232,1]],[[10,10,10,1],[227,246,255,1],[255,20,87,1],[255,216,125,1]],[[51,51,153,1],[102,153,204,1],[153,204,255,1],[255,0,51,1],[255,204,0,1]],[[23,22,92,1],[190,191,158,1],[216,210,153,1],[229,228,218,1],[245,224,56,1]],[[49,99,64,1],[96,158,77,1],[159,252,88,1],[195,252,88,1],[242,252,88,1]],[[92,88,99,1],[168,81,99,1],[180,222,193,1],[207,255,221,1],[255,31,76,1]],[[61,67,7,1],[161,253,17,1],[225,244,56,1],[244,251,196,1],[255,208,79,1]],[[0,205,172,1],[2,170,176,1],[22,147,165,1],[127,255,36,1],[195,255,104,1]],[[0,203,231,1],[0,218,60,1],[223,21,26,1],[244,243,40,1],[253,134,3,1]],[[34,104,136,1],[57,142,182,1],[255,162,0,1],[255,214,0,1],[255,245,0,1]],[[3,13,79,1],[206,236,239,1],[231,237,234,1],[251,12,6,1],[255,197,44,1]],[[253,255,0,1],[255,0,0,1],[255,90,0,1],[255,114,0,1],[255,167,0,1]],[[108,66,18,1],[179,0,176,1],[183,255,55,1],[255,124,69,1],[255,234,155,1]],[[0,4,49,1],[59,69,58,1],[90,224,151,1],[204,46,9,1],[255,253,202,1]],[[59,45,56,1],[188,189,172,1],[207,190,39,1],[240,36,117,1],[242,116,53,1]],[[101,145,155,1],[120,185,168,1],[168,212,148,1],[242,177,73,1],[244,229,97,1]],[[0,193,118,1],[136,193,0,1],[250,190,40,1],[255,0,60,1],[255,138,0,1]],[[110,37,63,1],[165,199,185,1],[199,94,106,1],[241,245,244,1],[251,236,236,1]],[[39,112,140,1],[111,191,162,1],[190,191,149,1],[227,208,116,1],[255,180,115,1]],[[62,72,76,1],[82,91,96,1],[105,158,81,1],[131,178,107,1],[242,232,97,1]],[[248,135,46,1],[252,88,12,1],[252,107,10,1],[253,202,73,1],[255,169,39,1]],[[83,119,122,1],[84,36,55,1],[192,41,66,1],[217,91,67,1],[236,208,120,1]],[[41,136,140,1],[54,19,0,1],[162,121,15,1],[188,53,33,1],[255,208,130,1]],[[10,186,181,1],[58,203,199,1],[106,219,216,1],[153,236,234,1],[201,252,251,1]],[[8,158,42,1],[9,42,100,1],[90,204,191,1],[229,4,4,1],[251,235,175,1]],[[187,187,136,1],[204,198,141,1],[238,170,136,1],[238,194,144,1],[238,221,153,1]],[[121,219,204,1],[134,78,65,1],[234,169,167,1],[242,199,196,1],[248,245,226,1]],[[96,136,213,1],[114,170,222,1],[157,200,233,1],[192,222,245,1],[217,239,244,1]],[[30,30,30,1],[177,255,0,1],[209,210,212,1],[242,240,240,1]],[[255,102,0,1],[255,153,0,1],[255,204,0,1],[255,255,204,1],[255,255,255,1]],[[35,15,43,1],[130,179,174,1],[188,227,197,1],[235,235,188,1],[242,29,65,1]],[[212,238,94,1],[225,237,185,1],[240,242,235,1],[244,250,210,1],[255,66,66,1]],[[20,32,71,1],[168,95,59,1],[247,92,92,1],[255,255,255,1]],[[63,184,240,1],[80,208,240,1],[196,251,93,1],[224,240,240,1],[236,255,224,1]],[[185,222,81,1],[209,227,137,1],[224,72,145,1],[225,183,237,1],[245,225,226,1]],[[185,222,81,1],[209,227,137,1],[224,72,145,1],[225,183,237,1],[245,225,226,1]],[[17,68,34,1],[51,170,170,1],[51,221,51,1],[221,238,68,1],[221,238,187,1]],[[46,13,35,1],[245,72,40,1],[247,128,60,1],[248,228,193,1],[255,237,191,1]],[[204,243,144,1],[224,224,90,1],[247,196,31,1],[252,147,10,1],[255,0,61,1]],[[18,18,18,1],[255,89,56,1],[255,255,255,1]],[[53,38,48,1],[85,72,101,1],[205,91,81,1],[233,223,204,1],[243,163,107,1]],[[236,250,1,1],[236,250,2,1],[247,220,2,1],[248,227,113,1],[250,173,9,1]],[[77,129,121,1],[161,129,121,1],[236,85,101,1],[249,220,159,1],[254,157,93,1]],[[4,0,4,1],[65,61,61,1],[75,0,15,1],[200,255,0,1],[250,2,60,1]],[[66,50,56,1],[179,112,45,1],[200,209,151,1],[235,33,56,1],[245,222,140,1]],[[143,153,36,1],[172,201,95,1],[241,57,109,1],[243,255,235,1],[253,96,129,1]],[[18,18,18,1],[23,122,135,1],[250,245,240,1],[255,180,143,1]],[[67,197,210,1],[182,108,97,1],[241,155,140,1],[254,247,237,1],[255,234,215,1]],[[78,205,196,1],[85,98,112,1],[196,77,88,1],[199,244,100,1],[255,107,107,1]],[[0,0,0,1],[137,161,160,1],[154,227,226,1],[255,71,103,1],[255,118,5,1]],[[248,200,221,1],[253,231,120,1],[255,61,61,1],[255,92,143,1],[255,103,65,1]],[[23,138,132,1],[145,145,145,1],[229,255,125,1],[235,143,172,1],[255,255,255,1]],[[73,112,138,1],[136,171,194,1],[202,255,66,1],[208,224,235,1],[235,247,248,1]],[[51,222,245,1],[122,245,51,1],[245,51,145,1],[245,161,52,1],[248,248,101,1]],[[57,13,45,1],[172,222,178,1],[225,234,181,1],[237,173,158,1],[254,75,116,1]],[[192,107,129,1],[233,22,67,1],[245,175,145,1],[247,201,182,1],[249,210,182,1]],[[131,196,192,1],[156,100,53,1],[190,215,62,1],[237,66,98,1],[240,233,226,1]],[[136,145,136,1],[191,218,223,1],[207,246,247,1],[233,26,82,1],[237,242,210,1]],[[64,44,56,1],[209,212,169,1],[227,164,129,1],[245,215,165,1],[255,111,121,1]],[[93,65,87,1],[131,134,137,1],[168,202,186,1],[202,215,178,1],[235,227,170,1]],[[0,168,198,1],[64,192,203,1],[143,190,0,1],[174,226,57,1],[249,242,231,1]],[[0,204,190,1],[9,166,163,1],[157,191,175,1],[237,235,201,1],[252,249,216,1]],[[0,205,172,1],[2,170,176,1],[22,147,165,1],[127,255,36,1],[195,255,104,1]],[[51,39,23,1],[107,172,191,1],[157,188,188,1],[240,240,175,1],[255,55,15,1]],[[51,51,53,1],[101,99,106,1],[139,135,149,1],[193,190,200,1],[233,232,238,1]],[[17,118,109,1],[65,9,54,1],[164,11,84,1],[228,111,10,1],[240,179,0,1]],[[73,10,61,1],[138,155,15,1],[189,21,80,1],[233,127,2,1],[248,202,0,1]],[[71,162,145,1],[144,79,135,1],[213,28,122,1],[219,213,139,1],[244,127,143,1]],[[55,191,230,1],[169,232,250,1],[186,255,21,1],[211,255,106,1],[247,239,236,1]],[[69,173,168,1],[84,121,128,1],[89,79,79,1],[157,224,173,1],[229,252,194,1]],[[248,241,224,1],[249,246,241,1],[250,244,227,1],[251,106,79,1],[255,193,150,1]],[[0,98,125,1],[1,64,87,1],[51,50,49,1],[66,153,15,1],[255,255,255,1]],[[52,17,57,1],[53,150,104,1],[60,50,81,1],[168,212,111,1],[255,237,144,1]],[[0,153,137,1],[163,169,72,1],[206,24,54,1],[237,185,46,1],[248,89,49,1]],[[26,31,30,1],[108,189,181,1],[147,204,198,1],[200,214,191,1],[227,223,186,1]],[[165,222,190,1],[183,234,201,1],[251,178,163,1],[252,37,55,1],[255,215,183,1]],[[26,20,14,1],[90,142,161,1],[204,65,65,1],[255,255,255,1]],[[51,51,51,1],[111,111,111,1],[204,204,204,1],[255,100,0,1],[255,255,255,1]],[[51,145,148,1],[167,2,103,1],[241,12,73,1],[246,216,107,1],[251,107,65,1]],[[31,3,51,1],[31,57,77,1],[39,130,92,1],[112,179,112,1],[171,204,120,1]],[[209,242,165,1],[239,250,180,1],[245,105,145,1],[255,159,128,1],[255,196,140,1]],[[60,54,79,1],[109,124,157,1],[124,144,179,1],[149,181,194,1],[185,224,220,1]],[[35,179,218,1],[153,214,241,1],[168,153,241,1],[208,89,218,1],[248,78,150,1]],[[85,66,54,1],[96,185,154,1],[211,206,61,1],[241,239,165,1],[247,120,37,1]],[[20,20,20,1],[177,198,204,1],[255,239,94,1],[255,255,255,1]],[[136,238,208,1],[202,224,129,1],[239,67,53,1],[242,205,79,1],[246,139,54,1]],[[53,38,29,1],[95,79,69,1],[151,123,105,1],[206,173,142,1],[253,115,26,1]],[[68,66,89,1],[159,189,166,1],[219,101,68,1],[240,145,67,1],[252,177,71,1]],[[191,208,0,1],[196,60,39,1],[233,60,31,1],[242,83,58,1],[242,240,235,1]],[[43,43,43,1],[53,54,52,1],[230,50,75,1],[242,227,198,1],[255,198,165,1]],[[23,20,38,1],[26,15,12,1],[207,207,207,1],[240,240,240,1],[255,77,148,1]],[[28,1,19,1],[107,1,3,1],[163,0,6,1],[194,26,1,1],[240,60,2,1]],[[10,10,10,1],[140,97,70,1],[214,179,156,1],[242,76,61,1],[255,255,255,1]],[[46,13,35,1],[245,72,40,1],[247,128,60,1],[248,228,193,1],[255,237,191,1]],[[0,62,95,1],[0,67,132,1],[22,147,165,1],[150,207,234,1],[247,249,114,1]],[[66,29,56,1],[87,0,69,1],[190,226,232,1],[205,255,24,1],[255,8,90,1]],[[47,59,97,1],[121,128,146,1],[187,235,185,1],[233,236,229,1],[255,103,89,1]],[[58,17,28,1],[87,73,81,1],[131,152,142,1],[188,222,165,1],[230,249,188,1]],[[147,193,196,1],[198,182,204,1],[242,202,174,1],[250,12,195,1],[255,123,15,1]],[[255,3,149,1],[255,9,3,1],[255,139,3,1],[255,216,3,1],[255,251,3,1]],[[4,0,4,1],[254,26,138,1],[254,53,26,1],[254,143,26,1],[254,240,26,1]],[[125,173,154,1],[196,199,169,1],[249,213,177,1],[254,126,142,1],[255,62,97,1]],[[69,38,50,1],[145,32,77,1],[226,247,206,1],[228,132,74,1],[232,191,86,1]],[[0,0,0,1],[38,173,228,1],[77,188,233,1],[209,231,81,1],[255,255,255,1]],[[44,87,133,1],[209,19,47,1],[235,241,247,1],[237,214,130,1]],[[92,172,196,1],[140,209,157,1],[206,232,121,1],[252,182,83,1],[255,82,84,1]],[[58,68,8,1],[74,88,7,1],[125,146,22,1],[157,222,13,1],[199,237,14,1]],[[22,147,167,1],[200,207,2,1],[204,12,57,1],[230,120,30,1],[248,252,193,1]],[[59,12,44,1],[210,255,31,1],[250,244,224,1],[255,106,0,1],[255,195,0,1]],[[44,13,26,1],[52,158,151,1],[200,206,19,1],[222,26,114,1],[248,245,193,1]],[[28,20,13,1],[203,232,107,1],[242,233,225,1],[255,255,255,1]],[[75,88,191,1],[161,206,247,1],[247,255,133,1],[255,54,134,1]],[[74,95,103,1],[92,55,75,1],[204,55,71,1],[209,92,87,1],[217,212,168,1]]];
s.prototype.getPalette=function(t){return n(u[Math.floor(t)])},s.prototype.getCount=function(){return u.length},s.prototype.getRandomPalette=function(){var t=Math.floor(u.length*Math.random());return this.getPalette(t)};var h=new s;i.exports=h}),define("app/widgets/ColoredCounter",["require","exports","module","./Counter","famous-color/ColorPalettes"],function(t,e,i){function s(){o.apply(this,arguments)}var o=t("./Counter"),n=t("famous-color/ColorPalettes");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS=o.DEFAULT_OPTIONS,s.DEFAULT_OPTIONS.colorPalette=n.getRandomPalette(),s.prototype._setToValue=function(t){var e=this.options.colorPalette.getColor(this.value%this.options.colorPalette.colors.length);t.setProperties({color:e.hex}),t.setContent(this.value+"")},i.exports=s}),define("app/widgets/EmptyClass",["require","exports","module","famous/View","famous/Matrix","famous/Surface","famous/Modifier","famous-animation/Easing"],function(t,e,i){function s(){o.apply(this,arguments),this.eventInput.pipe(this.eventOutput)}{var o=t("famous/View");t("famous/Matrix"),t("famous/Surface"),t("famous/Modifier"),t("famous-animation/Easing")}s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={},i.exports=s}),define("app/widgets/SplitRenderable",["require","exports","module","famous/View","famous/Matrix","famous/Surface","famous/ImageSurface","famous/Modifier","famous-animation/Easing"],function(t,e,i){function s(){n.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.modifiers=[],o.call(this)}function o(){for(var t=0;t<this.options.images.length;t++)this.addContent(this.options.content[t]);this.setDepth(this.options.depth)}var n=t("famous/View"),r=t("famous/Matrix"),a=(t("famous/Surface"),t("famous/ImageSurface"),t("famous/Modifier")),u=t("famous-animation/Easing");s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={content:[],size:[400,400],depth:50},s.prototype.setDepth=function(t){for(var e=0;e<this.modifiers.length;e++)this.modifiers[e].halt(),this.modifiers[e].setTransform(r.translate(0,0,t*e),{curve:u.outCubicNorm,duration:400}),e==this.modifiers.length-1&&(this._maxDepth=t*e)},s.prototype.getSize=function(){return this.options.size},s.prototype.getMaxDepth=function(){return this._maxDepth},s.prototype.addContent=function(t){var e=this.modifiers.length,i=new a({transform:r.translate(0,0,e*this.options.depth)});t.pipe(this),this.modifiers.push(i),this.node.add(i).link(t)},i.exports=s}),define("famous/CanvasSurface",["require","exports","module","./Surface"],function(t,e,i){function s(t){t&&t.canvasSize&&(this.canvasSize=t.canvasSize),o.call(this,t),this.canvasSize||(this.canvasSize=this.getSize()),this.backBuffer=document.createElement("canvas"),this.canvasSize&&(this.backBuffer.width=this.canvasSize[0],this.backBuffer.height=this.canvasSize[1]),this._contextId=void 0}var o=t("./Surface");s.prototype=Object.create(o.prototype),s.prototype.elementType="canvas",s.prototype.elementClass="surface",s.prototype.setContent=function(){},s.prototype.deploy=function(t){this.canvasSize&&(t.width=this.canvasSize[0],t.height=this.canvasSize[1]),"2d"==this._contextId&&(t.getContext(this._contextId).drawImage(this.backBuffer,0,0),this.backBuffer.width=0,this.backBuffer.height=0)},s.prototype.recall=function(t){this.getSize();this.backBuffer.width=t.width,this.backBuffer.height=t.height,"2d"==this._contextId&&(this.backBuffer.getContext(this._contextId).drawImage(t,0,0),t.width=0,t.height=0)},s.prototype.getContext=function(t){return this._contextId=t,this._currTarget?this._currTarget.getContext(t):this.backBuffer.getContext(t)},s.prototype.setSize=function(t,e){o.prototype.setSize.apply(this,arguments),e&&(this.canvasSize=e.slice(0)),this._currTarget&&(this._currTarget.width=this.canvasSize[0],this._currTarget.height=this.canvasSize[1])},i.exports=s}),define("famous/ContainerSurface",["require","exports","module","./Surface","./Context"],function(t,e,i){function s(t){o.call(this,t),this._container=document.createElement("div"),this._container.classList.add("group"),this._container.style.width="100%",this._container.style.height="100%",this._container.style.position="relative",this._shouldRecalculateSize=!1,this.context=new n(this._container),this.setContent(this._container)}var o=t("./Surface"),n=t("./Context");s.prototype=Object.create(o.prototype),s.prototype.elementType="div",s.prototype.elementClass="surface",s.prototype.link=function(){return this.context.link.apply(this.context,arguments)},s.prototype.add=function(){return this.context.add.apply(this.context,arguments)},s.prototype.mod=function(){return this.context.mod.apply(this.context,arguments)},s.prototype.render=function(){return this._sizeDirty&&(this._shouldRecalculateSize=!0),o.prototype.render.call(this)},s.prototype.commit=function(){var t=o.prototype.commit.apply(this,arguments);return this._shouldRecalculateSize&&(this.context.setSize(),this._shouldRecalculateSize=!1),this.context.update(),t},i.exports=s}),define("famous/EventArbiter",["require","exports","module","./EventHandler"],function(t,e,i){function s(t){this.dispatchers={},this.currMode=void 0,this.setMode(t)}var o=t("./EventHandler");s.prototype.setMode=function(t){if(t!=this.currMode){var e=this.currMode;this.dispatchers[this.currMode]&&this.dispatchers[this.currMode].emit("unpipe"),this.currMode=t,this.dispatchers[t]&&this.dispatchers[t].emit("pipe"),this.emit("change",{from:e,to:t})}},s.prototype.forMode=function(t){return this.dispatchers[t]||(this.dispatchers[t]=new o),this.dispatchers[t]},s.prototype.emit=function(t,e){if(void 0==this.currMode)return!1;e||(e={});var i=this.dispatchers[this.currMode];return i?i.emit(t,e):void 0},i.exports=s}),define("famous/SceneCompiler",["require","exports","module","./Matrix"],function(t,e,i){function s(t){var e={varCounter:0},i=[],s=u.call(e,t,i);return i.push("return "+s+";"),new Function(["FT","RenderNode","RN_link","RN_include","id","transforms"],i.join("\n"))}function o(t,e){return"var "+t+" = "+e+";"}function n(t,e){return"id."+t+" = "+e+";"}function r(t){return"transforms.push("+t+");"}function a(){return"_"+this.varCounter++}function u(t,e){var i;if(t instanceof Array)i=h.call(this,t,e);else if(i=a.call(this),t.target){var s=u.call(this,t.target,e),p=c.call(this,t,e);e.push(o(i,"new RenderNode("+p+")")),e.push("RN_link.call("+i+", "+s+");"),t.id&&e.push(n(t.id,p)),e.push(r(p))}else t.id&&(e.push(o(i,"new RenderNode()")),e.push(n(t.id,i)));return i}function h(t,e){var i=a.call(this);e.push(o(i,"new RenderNode()"));for(var s=0;s<t.length;s++){var n=u.call(this,t[s],e);n&&e.push("RN_include.call("+i+", "+n+");")}return i}function c(t,e){var i=t.transform,s=t.opacity,n=t.origin,r=t.size,u=(t.target,l.identity);if(i instanceof Array)if(16==i.length&&"number"==typeof i[0])u=i;else for(var h=0;h<i.length;h++)u=l.multiply(u,p(i[h]));else i instanceof Object&&(u=p(i));var c=a.call(this),f="["+u.join(",")+"]",d=n?"["+n.join(",")+"]":void 0,m=r?"["+r.join(",")+"]":void 0;return e.push(o(c,"new FT("+f+","+s+","+d+","+m+")")),c}function p(t){for(var e in f)if(e in t){var i=t[e];return i instanceof Array||(i=[i]),f[e].apply(this,i)}}var l=t("./Matrix"),f={translate:l.translate,rotate:l.rotate,rotateX:l.rotateX,rotateY:l.rotateY,rotateZ:l.rotateZ,rotateAxis:l.rotateAxis,scale:l.scale,skew:l.skew,matrix3d:function(){return arguments}};i.exports={compile:s}}),define("famous/Scene",["require","exports","module","./RenderNode","./Modifier","./SceneCompiler"],function(t,e,i){function s(t){this.id={},this.transforms=[],this.node=new o,this._def=void 0,t&&this.load(t)}var o=t("./RenderNode"),n=t("./Modifier"),r=t("./SceneCompiler"),a=o.prototype.link,u=o.prototype.add;s.prototype.create=function(){return new s(this._def)},s.prototype.load=function(t){t instanceof s?t=t._def:t instanceof Function||(t=r.compile(t)),this.node=t(n,o,a,u,this.id,this.transforms),this._def=t},s.prototype.getTransforms=function(){return this.transforms},s.prototype.add=function(){return this.node.add.apply(this.node,arguments)},s.prototype.mod=function(){return this.node.mod.apply(this.node,arguments)},s.prototype.link=function(){return this.node.link.apply(this.node,arguments)},s.prototype.render=function(){return this.node.render.apply(this.node,arguments)},i.exports=s}),define("famous/Timer",["require","exports","module","famous/Engine"],function(t,e,i){function s(t){return h.on(c,t),t}function o(t,e){var i=p(),o=function(){var s=p();s-i>=e&&(t.apply(this,arguments),h.unbind(c,o))};return s(o)}function n(t,e){var i=p(),o=function(){var s=p();s-i>=e&&(t.apply(this,arguments),i=p())};return s(o)}function r(t,e){if(void 0!==e){var i=function(){e--,0>=e&&(t.apply(this,arguments),u(i))};return s(i)}}function a(t,e){e=e||1;var i=e,o=function(){e--,0>=e&&(t.apply(this,arguments),e=i)};return s(o)}function u(t){h.unbind(c,t)}var h=t("famous/Engine"),c="prerender",p=window.performance?function(){return performance.now()}:function(){return Date.now()};i.exports={setTimeout:o,setInterval:n,after:r,every:a,clear:u}}),define("famous/VideoSurface",["require","exports","module","./Surface"],function(t,e,i){function s(t){this.autoplay=t.autoplay||!1,this.videoUrl=void 0,o.apply(this,arguments)}var o=t("./Surface");s.prototype=Object.create(o.prototype),s.prototype.elementType="video",s.prototype.elementClass="surface",s.prototype.setContent=function(t){this.videoUrl=t,this.contentDirty=!0},s.prototype.deploy=function(t){t.src=this.videoUrl,t.autoplay=this.autoplay},s.prototype.recall=function(t){t.src=""},i.exports=s}),define("famous/WebGLSurface",["require","exports","module","./Surface"],function(t,e,i){function s(t){this.glOptions=t.glOptions,this._canvas=document.createElement("canvas"),o.call(this,t),this.setContent(this._canvas),this.setSize(t.size)}var o=t("./Surface");s.prototype=Object.create(o.prototype),s.prototype.getContext=function(){return this._canvas.getContext("webgl",this.glOptions)||this._canvas.getContext("experimental-webgl",this.glOptions)},s.prototype.setSize=function(t){o.prototype.setSize.apply(this,arguments),this._canvas.style.width=t[0]+"px",this._canvas.style.height=t[1]+"px";var e=window.devicePixelRatio?window.devicePixelRatio:1;this._canvas.width=t[0]*e,this._canvas.height=t[1]*e},i.exports=s}),define("famous-animation/Timer",["require","exports","module"],function(t,e,i){function s(){window.performance?window.performance.now?this.getTime=function(){return window.performance.now()}:window.performance.webkitNow&&(this.getTime=function(){return window.performance.webkitNow()}):this.getTime=function(){return Date.now()}}i.exports=s}),define("famous-animation/AnimationEngine",["require","exports","module","famous/Engine","./Timer","./Animation"],function(t,e,i){function s(){this.animations=[],this.timer=new n,o.on("prerender",this.update.bind(this))}{var o=t("famous/Engine"),n=t("./Timer");t("./Animation")}s.prototype.update=function(){for(var t=0;t<this.animations.length;t++)this.animations[t].tick()},s.prototype.render=function(){for(var t=[],e=0;e<this.animations.length;e++)this.animations[e].normalizedTime>0&&t.push(this.animations[e].render()),this.animations[e].isDead()&&this.animations.splice(this.animations.indexOf(this.animations[e]),1);return t},s.prototype.emit=function(t){"prerender"==t&&(this.update(),this.render())},s.prototype.addAnimation=function(t){-1==this.animations.indexOf(t)&&this.animations.push(t)},s.prototype.removeAnimation=function(t){t.setDead(!0)},s.prototype.getTime=function(){return this.timer.getTime()},i.exports=s}),define("famous-animation/Animation",["require","exports","module","famous-utils/Utils","famous-animation/AnimationEngine"],function(t,e,i){function s(t){return this.name=t.name||"base",this.dead=!1,this.engine=t.engine||new n,this.duration=t.duration||500,this.delay=t.delay||0,this.nextAnimations=[],void 0!==t.next&&(t.next instanceof Array?this.nextAnimations.concat(t.next):this.nextAnimations.push(t.next)),this.callback=t.callback||void 0,this.startTime=0,this.endTime=0,this.currentTime=0,this.normalizedTime=0,this.timePassed=0,this.halted=!1,this.playing=!1,this.activated=!1,this.activateCallback=t.activateCallback||void 0,this.deactivateCallback=t.deactivateCallback||void 0,this.loop=t.loop||!1,this.reverse=t.reverse||!1,this.reverseUponLoop=t.reverseUponLoop||!1,this}var o=t("famous-utils/Utils"),n=t("famous-animation/AnimationEngine");s.prototype.setDead=function(t){return this.dead=t,this},s.prototype.isDead=function(){return this.dead},s.prototype.setup=function(){},s.prototype.update=function(){},s.prototype.render=function(){},s.prototype.isPlaying=function(){return this.playing},s.prototype.setDuration=function(t){return this.duration=t,this},s.prototype.setDelay=function(t){return this.delay=t,this},s.prototype.setCallback=function(t){return this.callback=t||void 0,this},s.prototype.setReverse=function(t){return this.reverse=t,this},s.prototype.toggleReverse=function(){return this.reverse=!this.reverse,this},s.prototype.setLoop=function(t){return this.loop=t,this},s.prototype.setReverseUponLoop=function(t){return this.reverseUponLoop=t,this},s.prototype.isHalted=function(){return this.halted},s.prototype.halt=function(){this.halted=!0,this.timePassed=this.engine.getTime()-this.startTime},s.prototype.continueAnimation=function(){this.halted=!1,this.startTime=this.engine.getTime()-this.timePassed,this.timePassed=0},s.prototype.activate=function(){},s.prototype.deactivate=function(){},s.prototype.start=function(){this.engine.addAnimation(this),this.setDead(!1),this.halted=!1,this.playing=!0,this.startTime=this.engine.getTime()+this.delay-this.timePassed,this.endTime=this.startTime+this.duration,this.normalizedTime=0},s.prototype.tick=function(){if(this.playing&&!this.halted){if(this.currentTime=this.engine.getTime()-this.startTime,this.normalizedTime=this.currentTime/this.duration,this.normalizedTime>1)return this.normalizedTime=o.clamp(this.normalizedTime,0,1),this.reverse&&(this.normalizedTime=1-this.normalizedTime),this.update(),this.end(),void 0;this.normalizedTime>1e-6&&(this.activated||(this.activate(),void 0!==this.activateCallback&&this.activateCallback(),this.activated=!0),this.reverse&&(this.normalizedTime=1-this.normalizedTime),this.update())}},s.prototype.getTime=function(){return this.normalizedTime},s.prototype.end=function(){if(this.activated=!1,this.playing=!1,this.deactivate(),void 0!==this.deactivateCallback&&this.deactivateCallback(),this.engine.removeAnimation(this),this.reverseUponLoop&&this.toggleReverse(),this.loop)this.start();else for(var t=0;t<this.nextAnimations.length;t++)this.nextAnimations[t].start();void 0!==this.callback&&this.callback()},s.prototype.setNext=function(t){t instanceof Array?this.nextAnimations=this.nextAnimations.concat(this.nextAnimations,t):this.nextAnimations.push(t)},s.prototype.setName=function(t){this.name=t},s.prototype.getName=function(){return this.name},s.prototype.setActivateCallback=function(t){this.activateCallback=t},s.prototype.setDeactivateCallback=function(t){this.deactivateCallback=t},i.exports=s}),define("famous-animation/CubicBezier",["require","exports","module"],function(t,e,i){function s(t){var e=[[1,0,0,0],[0,0,1,0],[-3,3,-2,-1],[2,-2,1,1]];t=t||[0,1,0,0],this.coef=[0,0,0,0];for(var i=0;4>i;i++)for(var s=0;4>s;s++)this.coef[i]+=e[i][s]*t[s]}s.prototype.create=function(){var t=this;return function(e){e=e||0;var i=t.coef;return i[0]+i[1]*e+i[2]*e*e+i[3]*e*e*e}},i.exports=s}),define("famous-animation/Idle",["require","exports","module"],function(t,e,i){function s(t,e){this.idleFn=t,this.timeout=e,this.enabled=e>0,this.reset()}s.prototype.timeoutIn=function(t){this.lastTouchTime=(new Date).getTime()-this.timeout+t},s.prototype.enable=function(){this.enabled=!0},s.prototype.disable=function(){this.enabled=!1},s.prototype.setIdleFunction=function(t){this.idleFn=t},s.prototype.update=function(){if(!this.idling&&this.enabled&&this.idleFn){var t=(new Date).getTime();t-this.lastTouchTime>this.timeout&&(this.idling=!0,this.idleFn.call(this))}},s.prototype.isIdling=function(){return this.idling},s.prototype.reset=function(){this.lastTouchTime=(new Date).getTime(),this.idling=!1},s.prototype.emit=function(){this.reset()},i.exports=s}),define("famous-animation/LayoutEngine",["require","exports","module","famous/Engine","famous-utils/Utils"],function(t,e,i){function s(){c.on("resize",p.debounce(r.bind(this),400)),this.layouts=[],this.screenSize,n.call(this)}function o(t){return this.layouts.indexOf(t)}function n(){this.screenSize=[window.innerWidth,window.innerHeight]}function r(){n.call(this);for(var t=0;t<this.layouts.length;t++)a.call(this,t)}function a(t){var e=this.layouts[t],i=u.call(this,e);i&&h.call(this,i)}function u(t){var e,i,s=[];for(var o in t)t[o].minWidth<this.screenSize[0]&&t[o].maxWidth>this.screenSize[0]&&s.push(o);if(0==s.length)return console.warn("No possible layout"),void 0;for(var n=0;n<s.length;n++)if(e){var r=t[s[n]];r.maxWidth>e&&(i=s[n],e=r.maxWidth)}else e=t[s[n]].maxWidth,i=s[n];return t[i]}function h(t){for(var e=t.layouts,i=0;i<e.length;i++){var s=e[i];if(s.transform&&(s.matrix&&s.transform.setTransform(s.matrix,s.transition,s.transformCallback),s.origin&&s.transform.setOrigin(s.origin,s.originTransition,s.originCallback),s.opacity&&s.transform.setOpacity(s.opacity,s.opacityTransition,s.opacityCallback),s.size&&s.transform.setSize(s.size,s.sizeTransition,s.sizeCallback)),s.fns)if(p.isArray(s.fns))for(var i=0;i<s.fns.length;i++)s.fns[i]();else s.fns()}}var c=t("famous/Engine"),p=t("famous-utils/Utils");s.prototype.add=function(t){this.layouts.push(t)},s.prototype.remove=function(t){var e=o(t);-1!==e&&this.layouts.splice(1,e)},s.prototype.triggerLayout=function(t){if(t){var e=o.call(this,t);-1!==e&&a.call(this,e)}else r.call(this)},s.prototype.getScreenSize=function(){return this.screenSize};var l=new s;i.exports=l}),define("famous-animation/PiecewiseCubicBezier",["require","exports","module","./CubicBezier"],function(t,e,i){function s(t){t=t||{},this.split=t.split||.5;var e=t.overshoot||0,i=t.vLeft||[0,1+e,0,0],s=t.vRight||[1+e,1,0,0];this.bezLeft=new o(i).create(),this.bezRight=new o(s).create()}var o=t("./CubicBezier");s.prototype.create=function(){var t=this;return function(e){e=e||0;var i,s=t.split;return s>e?(i=e/s,t.bezLeft(i)):(i=(e-s)/(1-s),t.bezRight(i))}},i.exports=s}),define("famous-animation/RegisterEasing",["require","exports","module","./Easing","famous/TweenTransition"],function(t){function e(){for(var t=/norm/gi,e=i(o).filter(function(e){return t.test(e)}).sort(),s={},n=0;n<e.length;n++)s[e[n]]=o[e[n]];return s}function i(t){var e=[];for(key in t)t.hasOwnProperty(key)&&e.push(key);return e}function s(){var t=e();for(var i in t)n.registerCurve(i,t[i])}var o=t("./Easing"),n=t("famous/TweenTransition");s()}),define("famous-animation/Sequence",["require","exports","module"],function(t,e,i){function s(){this.startTime=0,this.setupPos=0,this.schedule=[],this.seqLoc=-1}s.prototype._execute=function(t){for(this.seqLoc<0&&(this.seqLoc=0);this.seqLoc<this.schedule.length&&this.schedule[this.seqLoc].pos<=t;)this.schedule[this.seqLoc].action.call(this),this.seqLoc++},s.prototype.update=function(){if(!(this.seqLoc<0||this.seqLoc>=this.schedule.length)){var t=(new Date).getTime()-this.startTime;this._execute(t)}},s.prototype.at=function(t,e){this.schedule.push({pos:t,action:e}),this.setupPos=t},s.prototype.after=function(t,e){this.at(this.setupPos+t,e)},s.prototype.play=function(t){this.schedule.sort(function(t,e){return t.pos-e.pos}),this.startTime=(new Date).getTime();for(var e=0;e<this.schedule.length&&this.schedule[e].pos<t;)e++;this.seqLoc=e},s.prototype.fastForward=function(t){"undefined"==typeof t&&(t=1/0),this._execute(t)},s.prototype.stop=function(){this.seqLoc=-1},i.exports=s}),define("famous-feedback/Circle",["require","exports","module","famous/Engine","famous/View","famous/Surface","famous/Modifier","famous/Matrix","famous-animation/Easing","famous-utils/Utils","./FeedbackBase"],function(t,e,i){function s(){h.apply(this,arguments),this.arrows=[],this.points=[],this.pointMods=[],this.arrowMods=[],this.setContentRef(this.points)}var o=(t("famous/Engine"),t("famous/View"),t("famous/Surface")),n=t("famous/Modifier"),r=t("famous/Matrix"),a=t("famous-animation/Easing"),u=t("famous-utils/Utils"),h=t("./FeedbackBase");s.prototype=Object.create(h.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={zDepth:2,pointSize:[50,50],pointScale:[2,2],arrowSize:[5,100],fadeCurve:{duration:500,curve:a.inOutBackNorm},pointProperties:{borderRadius:"50px",border:"1px solid white"},arrowProperties:{backgroundColor:"#ffffff"}},s.prototype.create=function(){var t=new o({size:this.options.pointSize,properties:this.options.pointProperties}),e=new n({opacity:0,size:this.options.pointSize,transform:r.scale(.001,.001)});this.points.push(t),this.pointMods.push(e),this.node.add(e).link(t)},s.prototype.animate=function(t,e,i){var s=u.getCenterMatrix(t,this.options.pointSize,2),o=this.options.pointSize,n=[t[0]-o[0],t[1]-o[1],this.options.zDepth];this.pointMods[e].halt(),this.pointMods[e].setTransform(s),this.pointMods[e].setTransform(r.move(r.scale(this.options.pointScale[0],this.options.pointScale[1]),n),this.options.fadeCurve),this.pointMods[e].setOpacity(1),this.pointMods[e].setOpacity(0,this.options.fadeCurve,function(t,e){t&&t(),this.pointMods[e].setTransform(r.scale(1e-4,1e-4))}.bind(this,i,e))},i.exports=s}),define("famous-feedback/Lasers",["require","exports","module","famous/Engine","famous/View","famous/Surface","famous/Modifier","famous-animation/Easing","famous/Matrix"],function(t,e,i){function s(){c.apply(this,arguments),this.arrows=[],this.points=[],this.pointMods=[],this.arrowMods=[],this._inTransition=[],h.on("click",n.bind(this)),o.call(this)}function o(){var t=new p({size:this.options.pointSize,properties:this.options.pointProperties}),e=new l({opacity:0,size:this.options.pointSize}),i=new p({size:this.options.arrowSize,properties:this.options.arrowProperties}),s=new l({opacity:0});this.points.push(t),this.pointMods.push(e),this.arrows.push(i),this.arrowMods.push(s),this._inTransition.push(!1),this.node.add(e).link(t),this.node.add(s).link(i)}function n(t){var e=r.call(this),i=[t.pageX,t.pageY];this.points[e]||o.call(this),a.call(this,i,e)}function r(){for(var t=0;t<this._inTransition.length;t++)if(!this._inTransition[t])return t;return this._inTransition.length}function a(t,e){var i=u(t,this.options.pointSize),s=this.options.pointSize,o=[t[0]-s[0],t[1]-s[1],this.options.zDepth],n=function(t){this._inTransition[t]=!1}.bind(this,e);if(this.pointMods[e].halt(),this.pointMods[e].setTransform(i),this.pointMods[e].setTransform(d.move(d.scale(this.options.pointScale[0],this.options.pointScale[1]),o),this.options.fadeCurve),this.pointMods[e].setOpacity(1),this.pointMods[e].setOpacity(0,this.options.fadeCurve,n),this._inTransition[e]=!0,o[0]+=.5*s[0]*this.options.pointScale[0],o[1]+=.5*s[1]*this.options.pointScale[1],this.options.useArrow){var r=2*Math.random()*Math.PI;this.arrowMods[e].setOpacity(1),this.arrowMods[e].setOpacity(0,this.options.fadeCurve),this.arrowMods[e].setTransform(d.multiply(d.rotateZ(r),d.move(d.scale(1e-5,1e-5),o,2))),this.arrowMods[e].setTransform(d.multiply(d.rotateZ(r),d.move(d.scale(2,2,1),o)),this.options.fadeCurve)}}function u(t,e){return d.translate(t[0]-.5*e[0],t[1]-.5*e[1],2)}var h=t("famous/Engine"),c=t("famous/View"),p=t("famous/Surface"),l=t("famous/Modifier"),f=t("famous-animation/Easing"),d=t("famous/Matrix");s.prototype=Object.create(c.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={zDepth:2,pointSize:[50,50],pointScale:[2,2],useArrow:!1,arrowSize:[5,100],fadeCurve:{duration:500,curve:f.inOutBackNorm},pointProperties:{"border-radius":"50px",border:"1px solid white"},arrowProperties:{"background-color":"#ffffff"}},i.exports=s}),define("famous-modifiers/Camera",["require","exports","module","famous/Transitionable","famous/Matrix","famous/Utility"],function(t,e,i){function s(t){this._renderMatrix=r.identity,this._scaleState=new n([1,1,1]),this._skewState=new n([0,0,0]),this._rotateState=new n([0,0,0]),this._translateState=new n([0,0,0]),this._dirty=!1,t&&this.lookAt(t)}function o(){var t=r.scale.apply(this,this._scaleState.get()),e=r.skew.apply(this,this._skewState.get()),i=r.rotate.apply(this,this._rotateState.get()),s=r.move(r.multiply(t,e,i),this._translateState.get());return r.inverse(s)}var n=t("famous/Transitionable"),r=t("famous/Matrix"),a=t("famous/Utility");s.prototype.halt=function(){this._scaleState.halt(),this._skewState.halt(),this._rotateState.halt(),this._translateState.halt()},s.prototype.getScale=function(){return this._scaleState.get()},s.prototype.setScale=function(t,e,i){return this._dirty=!0,this._scaleState.set(t,e,i)},s.prototype.getSkew=function(){return this._skewState.get()},s.prototype.setSkew=function(t,e,i){return this._dirty=!0,this._skewState.set(t,e,i)},s.prototype.getRotation=function(){return this._rotateState.get()},s.prototype.setRotation=function(t,e,i){return this._dirty=!0,this._rotateState.set(t,e,i)},s.prototype.getSpin=s.prototype.getRotation,s.prototype.setSpin=s.prototype.setRotation,s.prototype.getPos=function(){return this._translateState.get()},s.prototype.setPos=function(t,e,i){return this._dirty=!0,this._translateState.set(t,e,i)},s.prototype.lookAt=function(t,e,i){var s=void 0;i&&(s=a.after(4,i)),this.halt();var o=r.interpret(t);this.setScale(o.scale,e,s),this.setSkew(o.skew,e,s),this.setRotation(o.rotate,e,s),this.setPos(o.translate,e,s)},s.prototype.render=function(t){return this._dirty|=this._scaleState.isActive()||this._skewState.isActive()||this._rotateState.isActive()||this._translateState.isActive(),this._dirty&&(this._renderMatrix=o.call(this),this._dirty=!1),{transform:this._renderMatrix,group:!0,target:t}},i.exports=s}),define("famous-sync/MouseSync",["require","exports","module","famous/EventHandler"],function(t,e,i){function s(t,e){this.targetGet=t,this.options={direction:void 0,rails:!1,scale:1,stallTime:50,propogate:!0},e?this.setOptions(e):this.setOptions(this.options),this.input=new u,this.output=new u,u.setInputHandler(this,this.input),u.setOutputHandler(this,this.output),this._prevCoord=void 0,this._prevTime=void 0,this._prevVel=void 0,this.input.on("mousedown",o.bind(this)),this.input.on("mousemove",n.bind(this)),this.input.on("mouseup",r.bind(this)),this.options.propogate?this.input.on("mouseleave",a.bind(this)):this.input.on("mouseleave",r.bind(this))}function o(t){t.preventDefault(),this._prevCoord=[t.clientX,t.clientY],this._prevTime=Date.now(),this._prevVel=void 0!==this.options.direction?0:[0,0],this.output.emit("start")}function n(t){if(this._prevCoord){var e=this._prevCoord,i=this._prevTime,o=[t.clientX,t.clientY],n=Date.now(),r=o[0]-e[0],a=o[1]-e[1];this.options.rails&&(Math.abs(r)>Math.abs(a)?a=0:r=0);var u,h,c=Math.max(n-i,8),p=r/c,l=a/c,f=this.targetGet(),d=this.options.scale;this.options.direction==s.DIRECTION_X?(u=f+d*r,h=d*p):this.options.direction==s.DIRECTION_Y?(u=f+d*a,h=d*l):(u=[f[0]+d*r,f[1]+d*a],h=[d*p,d*l]),this.output.emit("update",{p:u,v:h}),this._prevCoord=o,this._prevTime=n,this._prevVel=h}}function r(){if(this._prevCoord){var t=this._prevTime,e=Date.now();e-t>this.options.stallTime&&(this._prevVel=void 0==this.options.direction?[0,0]:0);var i=this.targetGet();this.output.emit("end",{p:i,v:this._prevVel}),this._prevCoord=void 0,this._prevTime=void 0,this._prevVel=void 0}}function a(){if(this._prevCoord){var t=function(t){n.call(this,t)}.bind(this),e=function(i){r.call(this,i),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)}.bind(this);document.addEventListener("mousemove",t),document.addEventListener("mouseup",e)}}var u=t("famous/EventHandler");s.DIRECTION_X=0,s.DIRECTION_Y=1,s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.direction&&(this.options.direction=t.direction),void 0!==t.rails&&(this.options.rails=t.rails),void 0!==t.scale&&(this.options.scale=t.scale),void 0!==t.stallTime&&(this.options.stallTime=t.stallTime),void 0!==t.propogate&&(this.options.propogate=t.propogate)},i.exports=s}),define("famous-modifiers/Draggable",["require","exports","module","famous/Matrix","famous-sync/MouseSync","famous-sync/TouchSync","famous-sync/GenericSync","famous/Transitionable","famous/EventHandler"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),t&&this.setOptions(t),this._positionState=new f([0,0]),this._cursorPos=[0,0],this._active=!0,this.sync=new l(function(){return this._cursorPos}.bind(this),{scale:this.options.scale,syncClasses:[c,p]}),this.eventOutput=new d,d.setInputHandler(this,this.sync),d.setOutputHandler(this,this.eventOutput),a.call(this)}function o(){var t=this.getPosition();this._cursorPos=t.slice(),this.eventOutput.emit("dragstart",{p:t})}function n(t){this._active&&(this.setPosition(u.call(this,t.p),this.options.transition),this._cursorPos=t.p),this.eventOutput.emit("dragmove",{p:this.getPosition()})}function r(){this.eventOutput.emit("dragend",{p:this.getPosition()})}function a(){this.sync.on("start",o.bind(this)),this.sync.on("update",n.bind(this)),this.sync.on("end",r.bind(this))}function u(t){var e=this.options,i=e.projection,s=e.maxX,o=e.maxY,n=e.snapX,r=e.snapY,a=i&m.x?t[0]:0,u=i&m.y?t[1]:0;return n>0&&(a-=a%n),r>0&&(u-=u%r),a=Math.max(Math.min(a,s),-s),u=Math.max(Math.min(u,o),-o),[a,u]}var h=t("famous/Matrix"),c=t("famous-sync/MouseSync"),p=t("famous-sync/TouchSync"),l=t("famous-sync/GenericSync"),f=t("famous/Transitionable"),d=t("famous/EventHandler"),m={x:1,y:2};s.DEFAULT_OPTIONS={projection:m.x|m.y,scale:1,maxX:1/0,maxY:1/0,snapX:0,snapY:0,transition:{duration:0}},s.prototype.setOptions=function(t){var e=this.options;if(void 0!==t.projection){var i=t.projection;this.options.projection=0,["x","y"].forEach(function(t){-1!=i.indexOf(t)&&(e.projection|=m[t])})}void 0!==t.scale&&(e.scale=t.scale),void 0!==t.maxX&&(e.maxX=t.maxX),void 0!==t.maxY&&(e.maxY=t.maxY),void 0!==t.snapX&&(e.snapX=t.snapX),void 0!==t.snapY&&(e.snapY=t.snapY),void 0!==t.transition&&(e.transition=t.transition)},s.prototype.getPosition=function(){return this._positionState.get()},s.prototype.setPosition=function(t,e,i){this._positionState.isActive()&&this._positionState.halt(),this._positionState.set(t,e,i)},s.prototype.activate=function(){this._active=!0},s.prototype.deactivate=function(){this._active=!1},s.prototype.toggle=function(){this._active=!this._active},s.prototype.render=function(t){var e=this.getPosition();return{transform:h.translate(e[0],e[1]),target:t}},i.exports=s}),define("famous-modifiers/Lift",["require","exports","module","famous/Entity","famous/Modifier","famous/Matrix","famous/SpecParser"],function(t,e,i){function s(){this._entityID=r.register(this),this.transition=void 0,this.targets=[],this.modifiers=[],this.states=[],this.updates=[]}function o(t,e,i,s,o){t.setTransform(e.transform),t.setOpacity(e.opacity),t.setOrigin(e.origin),t.setSize(e.size),t.setTransform(i.transform,s,o),t.setOpacity(i.opacity,s),t.setOrigin(i.origin,s),t.setSize(i.size,s)}function n(t,e){var i=u.parse(t);for(var s in i){var a=r.get(s),c=i[s];c.unshift(e);var p=this.targets.indexOf(a);if(-1!=p){var l=this.modifiers[p],f=this.states[p];if(this.updates[p]){var d={transform:c[1],opacity:c[2],origin:c[3],size:c[4]},m=this.upperSpec;f==h.ACTIVE?o(l,d,m,this.transition,this.callback):o(l,m,d,this.transition,function(t){this.states.splice(t,1),this.targets.splice(t,1),this.modifiers.splice(t,1),this.updates.splice(t,1),this.callback&&this.callback()}.bind(this,p)),this.updates[p]=!1}c[1]=l.getTransform()}var v=a.commit.apply(a,c);v&&n.call(this,v,e)}}var r=t("famous/Entity"),a=t("famous/Modifier"),u=(t("famous/Matrix"),t("famous/SpecParser")),h={ACTIVE:1,RESET:0};s.prototype.select=function(t,e,i){var s=this.targets.indexOf(t);-1==s&&(this.transition=e,this.callback=i,this.targets.push(t),this.modifiers.push(new a),this.states.push(h.ACTIVE),this.transition=e,this.updates.push(!0))
},s.prototype.deselect=function(t,e,i){var s=this.targets.indexOf(t);-1!=s&&(this.transition=e,this.callback=i,this.states[s]=h.RESET,this.updates[s]=!0)},s.prototype.commit=function(t,e,i,s,o){this.upperSpec={transform:e,opacity:i,origin:s,size:o,target:this.input},n.call(this,this.upperSpec,t)},s.prototype.render=function(t){return this.input=t,this._entityID},i.exports=s}),define("famous-performance/ProfilerMetric",["require","exports","module"],function(t,e,i){function s(t,e){this.bufferSize=t||30,this.calculateStatistics=!1,this.val=0,this.min=0,this.max=0,this.std=0,this.id=e,this._index=0,this._startTime=0,this._stopped=!0,this._startCalls=0,this._isCollecting=!1,this.accumulator=new Array(this.bufferSize),this.dumpster=[];for(var i=0;i<this.bufferSize;i++)this.accumulator[i]=0}function o(t){return Math.max.apply(Math,t)}function n(t){return Math.min.apply(Math,t)}function r(t){for(var e=t.length,i=0,s=0;e>s;s++)i+=t[s];return i/e}function a(t,e){var i,s=0,o=t.length;void 0===e&&(e=r(t));for(var n=0;o>n;n++)i=t[n]-e,s+=i*i;return Math.sqrt(s/o)}var u=window.performance?function(){return window.performance.now()}:function(){return Date.now()};s.prototype.start=function(){this._startCalls++,this._stopped?(this._startTime=u(),this._stopped=!1):(this.stop(),this.start())},s.prototype.stop=function(){this._stopped=!0;var t=u()-this._startTime;1==this._startCalls?this.insert(t):this.addInPlace(t)},s.prototype.aggregate=function(){var t=this.accumulator;this.val=r(t),this._isCollecting&&this.dumpster.push(this.val),this.calculateStatistics&&(this.min=n(t),this.max=o(t),this.std=a(t,this.val))},s.prototype.insert=function(t){this._index===this.bufferSize&&(this.aggregate(),this._index=0),this.accumulator[this._index]=t,this._index++},s.prototype.addInPlace=function(t){this.accumulator[this._index-1]+=t},s.prototype.setBufferSize=function(t){this.bufferSize=t,this.accumulator=new Array(t);for(var e=0;t>e;e++)this.accumulator[e]=0;this._index=0},s.prototype.reset=function(){this._startCalls=0},s.prototype.startRecording=function(){this._isCollecting=!0},s.prototype.stopRecording=function(){this._isCollecting=!1},s.prototype.toggleRecording=function(){this._isCollecting=!this._isCollecting},s.prototype.isRecording=function(){return this._isCollecting},s.prototype.dump=function(){console.log(this.id+":",this.dumpster),this.dumpster=[]},i.exports=s}),define("famous-performance/Profiler",["require","exports","module","famous-performance/ProfilerMetric","famous/EventHandler"],function(t,e,i){function s(t){var e=new o(r,t);return h.metrics[t]=e,e}var o=t("famous-performance/ProfilerMetric"),n=t("famous/EventHandler"),r=20,a=new n,u={FPS:"FPS",FAMOUS:"Famous"},h={};h.metrics={},h.start=function(t){var e=void 0===h.metrics[t]?s(t):h.metrics[t];e.start()},h.stop=function(t){h.metrics[t].stop()},h.setBufferSize=function(t){r=t;var e=h.metrics;for(var i in e)e[i].setBufferSize(t)},h.getBufferSize=function(){return r},h.emit=function(t,e){a.emit(t,e)},a.on("prerender",function(){h.start(u.FPS),h.start(u.FAMOUS)}),a.on("postrender",function(){h.stop(u.FAMOUS);var t=h.metrics;for(var e in t)t[e].reset()}),i.exports=h}),define("famous-performance/ProfilerMetricView",["require","exports","module","famous/Surface","famous/Matrix"],function(t,e,i){function s(t,e){this.opts={size:[100,20],label:"",map:function(t){return.06*t}},e&&this.setOpts(e),this.metric=t,this.createView(),this.textPadding=4,this.textOpacity=1}var o=t("famous/Surface"),n=t("famous/Matrix");s.prototype.setOpts=function(t){for(var e in t)this.opts[e]=t[e]},s.prototype.createView=function(){var t=new o({size:this.opts.size,properties:{background:"#3cf"}}),e=new o({size:this.opts.size,properties:{background:"#36f"}}),i=new o({size:[!0,!0],content:this.opts.label.toString(),properties:{color:"white",textShadow:"0px 0px 2px black",lineHeight:this.opts.size[1]+"px",cursor:"pointer"}});i.on("click",function(){this.metric.isRecording()?(this.metric.dump(),this.textOpacity=1):this.textOpacity=.5,this.metric.toggleRecording()}.bind(this)),this.boundingSurface=e,this.metricSurface=t,this.textSurface=i},s.prototype.render=function(){var t=this.metric.val,e=void 0!==t?this.opts.map(t):0;return[{size:this.opts.size,target:[{target:this.boundingSurface.render(),transform:n.translate(0,0,-1e-4)},{target:this.metricSurface.render(),transform:n.scale(e,1,1)}]},{target:this.textSurface.render(),transform:n.translate(this.opts.size[0]+this.textPadding,0),opacity:this.textOpacity}]},i.exports=s}),define("famous-performance/ProfilerView",["require","exports","module","famous-performance/ProfilerMetricView","famous-performance/Profiler","famous/RenderNode","famous/Modifier","famous/Matrix"],function(t,e,i){function s(){var t,e=0;for(var i in h){t="FPS"===i.toUpperCase()?function(t){return 1e3/(60*t)}:function(t){return t/f.max};var s=new o(h[i],{size:f.size,label:i,map:t}),n=new a(u.translate(0,e));c.add(n).link(s),e+=f.size[1]+f.margin}}var o=t("famous-performance/ProfilerMetricView"),n=t("famous-performance/Profiler"),r=t("famous/RenderNode"),a=t("famous/Modifier"),u=t("famous/Matrix"),h=n.metrics,c=new r,p=0,l={},f={max:1e3/60,size:[150,20],margin:1};l.setMax=function(t){f.max=t},l.setSize=function(t){f.size=t},l.render=function(){return p>2?c.render():(2==p&&s(),2>=p&&p++,void 0)},i.exports=l}),define("famous-physics/constraints/Collision",["require","exports","module","famous-physics/constraints/Constraint","../math/Vector","famous/EventHandler"],function(t,e,i){function s(t){this.opts={restitution:.5},t&&this.setOpts(t),this.eventOutput=new r,r.setOutputHandler(this,this.eventOutput),this.n=new n,this.vRel=new n,this.I=new n,this.disp=new n}var o=t("famous-physics/constraints/Constraint"),n=t("../math/Vector"),r=t("famous/EventHandler");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){for(var e in t)this.opts[e]=t[e]},s.prototype.applyConstraint=function(t,e){if(void 0!==e)for(var i=e.p,s=e.r,o=e.v,n=this.n,r=this.I,a=this.vRel,u=this.disp,h=this.opts.restitution,c=0;c<t.length;c++){var p=t[c];if(e!=p){var l=p.p,f=p.r,d=e.mInv;u.set(i.sub(l));var m=u.norm(),v=s+f-m;if(v>0){n.set(u.normalize());var g={target:p,source:e,overlap:v,normal:n};this.eventOutput.emit("preCollision",g),this.eventOutput.emit("collision",g);var y=p.v,w=p.mInv;a.set(o.sub(y)),r.set(n.mult((1+h)*a.dot(n)/(d+w))),o.sub(r.mult(d),o),i.add(n.mult(v/2),i),y.add(r.mult(w),y),l.add(n.mult(-v/2),l),this.eventOutput.emit("postCollision",g)}}}},i.exports=s}),define("famous-physics/math/vector",["require","exports","module"],function(t,e,i){function s(t,e,i){return 1===arguments.length?this.set(t):(this.x=t||0,this.y=e||0,this.z=i||0),this}var o=new s(0,0,0);s.prototype.add=function(t,e){return e=e||o,e.setXYZ(this.x+(t.x||0),this.y+(t.y||0),this.z+(t.z||0))},s.prototype.sub=function(t,e){return e=e||o,e.setXYZ(this.x-t.x,this.y-t.y,this.z-t.z)},s.prototype.mult=function(t,e){return e=e||o,e.setXYZ(t*this.x,t*this.y,t*this.z)},s.prototype.div=function(t,e){return this.mult(1/t,e)},s.prototype.cross=function(t,e){return e=e||o,e.setXYZ(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},s.prototype.equals=function(t){return t.x==this.x&&t.y==this.y&&t.z==this.z},s.prototype.rotateX=function(t,e){e=e||o;var i=this.x,s=this.y,n=this.z,r=Math.cos(t),a=Math.sin(t);return e.setXYZ(i,-n*a+s*r,n*r-s*a)},s.prototype.rotateY=function(t,e){e=e||o;var i=this.x,s=this.y,n=this.z,r=Math.cos(t),a=Math.sin(t);return e.setXYZ(-n*a+i*r,s,n*r+i*a)},s.prototype.rotateZ=function(t,e){e=e||o;var i=this.x,s=this.y,n=this.z,r=Math.cos(t),a=Math.sin(t);return e.setXYZ(-s*a+i*r,s*r+i*a,n)},s.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},s.prototype.normSquared=function(){return this.dot(this)},s.prototype.norm=function(){return Math.sqrt(this.normSquared())},s.prototype.normalize=function(t,e){t=void 0!==t?t:1,e=e||o;var i=1e-7,s=this.norm();return Math.abs(s)>i?this.mult(t/s,e):e.setXYZ(t,0,0)},s.prototype.clone=function(){return new s(this)},s.prototype.isZero=function(){return!(this.x||this.y||this.z)},s.prototype.set=function(t){return t instanceof Array?this.setFromArray(t):(this.x=t.x,this.y=t.y,this.z=t.z||0),this!==o&&o.clear(),this},s.prototype.setFromArray=function(t){this.x=t[0],this.y=t[1],this.z=t[2]||0},s.prototype.put=function(t){t.set(o)},s.prototype.setXYZ=function(t,e,i){return o.clear(),this.x=t,this.y=e,this.z=i,this},s.prototype.clear=function(){this.x=0,this.y=0,this.z=0},s.prototype.cap=function(t,e){if(1/0===t)return this;e=e||o;var i=this.norm();return i>t?this.normalize(t,e):this},s.prototype.project=function(t,e){return e=e||o,t.mult(this.dot(t),e)},s.prototype.reflectAcross=function(t,e){return e=e||o,t.normalize(),this.sub(this.project(t).mult(2),e)},s.prototype.toArray=function(){return[this.x,this.y,this.z]},s.prototype.get=function(){return this.toArray()},i.exports=s}),define("famous-physics/constraints/CollisionJacobian",["require","exports","module","famous-physics/constraints/Constraint","famous-physics/math/vector","famous/EventHandler"],function(t,e,i){function s(t){this.opts={k:.5,restitution:.5},t&&this.setOpts(t),this.eventOutput=new r,r.setOutputHandler(this,this.eventOutput),this.n=new n,this.pDiff=new n,this.vDiff=new n,this.impulse1=new n,this.impulse2=new n,this.slop=0}var o=t("famous-physics/constraints/Constraint"),n=t("famous-physics/math/vector"),r=t("famous/EventHandler");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){for(var e in t)this.opts[e]=t[e]},s.prototype.applyConstraint=function(t,e,i){if(void 0!==e)for(var s=e.v,o=e.p,n=e.mInv,r=e.r,a=this.opts.k,u=this.n,h=this.pDiff,c=this.vDiff,p=this.impulse1,l=this.impulse2,f=e.restitution,d=0;d<t.length;d++){var m=t[d];if(m!=e){var v=m.v,g=m.p,y=m.mInv,w=m.r,S=m.restitution,b=void 0!==this.opts.restitution?this.opts.restitution:Math.sqrt(f*S);h.set(g.sub(o)),c.set(v.sub(s));var x=h.norm(),_=x-(r+w),T=1/(n+y),O=0;if(0>_){u.set(h.normalize());var C={target:m,source:e,overlap:_,normal:u};this.eventOutput.emit("preCollision",C),this.eventOutput.emit("collision",C);var E=_<=this.slop?((1+b)*u.dot(c)+a/i*(_-this.slop))/(O+i/T):(1+b)*u.dot(c)/(O+i/T);u.mult(i*E).put(p),p.mult(-1).put(l),e.applyImpulse(p),m.applyImpulse(l),o.add(u.mult(_/2),o),g.add(u.mult(-_/2),g),this.eventOutput.emit("postCollision",C)}}}},i.exports=s}),define("famous-physics/constraints/Curve",["require","exports","module","famous-physics/constraints/Constraint","../math/Vector"],function(t,e,i){function s(t){this.opts={f:function(t,e){return 100*Math.sin(t/100)-e},df:void 0,g:function(t,e,i){return i},dg:void 0,dampingRatio:0,period:0},t&&this.setOpts(t),this.J=new n,this.impulse=new n}var o=t("famous-physics/constraints/Constraint"),n=t("../math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){for(var e in t)this.opts[e]=t[e]},s.prototype.applyConstraint=function(t,e,i){for(var s=this.impulse,o=this.J,n=this.opts.f,r=this.opts.f,a=this.opts.df,u=this.opts.dg,h=0,c=0;c<t.length;c++){var p=t[c],l=p.v,f=p.p,d=p.m;if(0==this.opts.period)var m=0,v=1;else var g=4*d*Math.PI*this.opts.dampingRatio/this.opts.period,y=4*d*Math.PI*Math.PI/(this.opts.period*this.opts.period),m=1/(g+i*y),v=i*y/(g+i*y);if(void 0===a){var w=1e-7,S=n(f.x,f.y,f.z),b=(n(f.x+w,f.y,f.z)-S)/w,x=(n(f.x,f.y+w,f.z)-S)/w,_=(n(f.x,f.y,f.z+w)-S)/w,T=r(f.x,f.y,f.z),O=(r(f.x+w,f.y,f.z)-T)/w,C=(r(f.x,f.y+w,f.z)-T)/w,E=(r(f.x,f.y,f.z+w)-T)/w;o.setXYZ(b+O,x+C,_+E)}else{var M=a(f.x,f.y,f.z),z=u(f.x,f.y,f.z);o.setXYZ(M[0]+z[0],M[1]+z[1],M[2]+z[2])}var k=v/i*(n(f.x,f.y,f.z)+r(f.x,f.y,f.z)),I=-(o.dot(l)+k)/(m+i*o.normSquared()/d);s.set(o.mult(i*I)),p.applyImpulse(s),h+=Math.abs(I)}return h},s.prototype.setupSlider=function(t,e){e=e||t.opts.name,t.setOpts({value:this.opts[e]}),t.init(),t.on("change",function(t){this.opts[e]=t.value}.bind(this))},i.exports=s}),define("famous-physics/constraints/Distance",["require","exports","module","famous-physics/constraints/Constraint","../math/Vector"],function(t,e,i){function s(t){this.opts={length:0,anchor:void 0,dampingRatio:0,period:0},t&&this.setOpts(t),this.impulse=new n,this.n=new n,this.diffP=new n,this.diffV=new n}var o=t("famous-physics/constraints/Constraint"),n=t("../math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){void 0!==t.anchor&&(t.anchor.p instanceof n&&(this.opts.anchor=t.anchor.p),t.anchor instanceof n&&(this.opts.anchor=t.anchor),t.anchor instanceof Array&&(this.opts.anchor=new n(t.anchor))),void 0!==t.length&&(this.opts.length=t.length),void 0!==t.dampingRatio&&(this.opts.dampingRatio=t.dampingRatio),void 0!==t.period&&(this.opts.period=t.period)},s.prototype.setAnchor=function(t){void 0===this.opts.anchor&&(this.opts.anchor=new n),this.opts.anchor.set(t)},s.prototype.applyConstraint=function(t,e,i){var s=this.n,o=this.diffP,n=this.diffV,r=this.impulse;if(e)var a=e.p,u=e.mInv,h=e.v;else var a=this.opts.anchor,u=0;for(var c=this.opts.length,p=0,l=0;l<t.length;l++){var f=t[l],d=f.v,m=f.p,v=f.mInv;o.set(m.sub(a)),s.set(o.normalize());var g=o.norm()-c;e?n.set(d.sub(h)):n.set(d);var y=1/(v+u);if(0==this.opts.period)var w=0,S=1;else var b=4*y*Math.PI*this.opts.dampingRatio/this.opts.period,x=4*y*Math.PI*Math.PI/(this.opts.period*this.opts.period),w=1/(b+i*x),S=i*x/(b+i*x);var _=S/i*g,T=-(s.dot(n)+_)/(w+i/y);r.set(s.mult(i*T)),f.applyImpulse(r),e&&e.applyImpulse(r.mult(-1)),p+=Math.abs(T)}return p},i.exports=s}),define("famous-physics/constraints/Distance1D",["require","exports","module","famous-physics/constraints/Constraint","../math/Vector"],function(t,e,i){function s(t){this.opts={length:0,anchor:void 0,dampingRatio:0,period:0},t&&this.setOpts(t),this.impulse=new n}var o=t("famous-physics/constraints/Constraint"),n=t("../math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){for(var e in t)this.opts[e]=t[e]},s.prototype.applyConstraint=function(t,e,i){var s,o,n=this.impulse;if(e)var r=e.p.x,a=e.mInv,u=e.v.x;else var r=this.opts.anchor,a=0;for(var h=this.opts.length,c=this.opts.period,p=this.opts.dampingRatio,l=0,f=0;f<t.length;f++){var d=t[f],m=d.v.x,v=d.p.x,g=d.mInv;s=v-r;var y=s-h;o=e?m-u:m;var w=1/(g+a);if(0==c)var S=0,b=1;else var x=4*w*Math.PI*p/c,_=4*w*Math.PI*Math.PI/(c*c),S=1/(x+i*_),b=i*_/(x+i*_);var T=b/i*y,O=-(o+T)/(S+i/w);n.setXYZ(i*O,0,0),d.applyImpulse(n),e&&e.applyImpulse(n.mult(-1)),l+=Math.abs(O)}return l},s.prototype.setupSlider=function(t,e){e=e||t.opts.name,t.setOpts({value:this.opts[e]}),t.init instanceof Function&&t.init(),t.on("change",function(t){this.opts[e]=t.value}.bind(this))},i.exports=s}),define("famous-physics/constraints/Rod",["require","exports","module","famous-physics/constraints/Constraint","../math/Vector"],function(t,e,i){function s(t){this.opts={length:0,anchor:void 0,stiffness:1},t&&this.setOpts(t),this.disp=new n,this.push=new n}var o=t("famous-physics/constraints/Constraint"),n=t("../math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){void 0!==t.anchor&&(t.anchor.p instanceof n&&(this.opts.anchor=t.anchor.p),t.anchor instanceof Array&&(this.opts.anchor=new n(t.anchor)),delete t.anchor);for(var e in t)this.opts[e]=t[e]},s.prototype.applyConstraint=function(t,e,i){var s=this.opts,o=this.disp,n=this.push,r=s.length,a=s.stiffness,u=s.anchor||e.p,h=t[0],c=h.p;o.set(c.sub(u));var p=o.norm(),l=(r-p)/p;Math.abs(l)>0&&(o.mult(.5*l*a,n),h.immunity||(c.add(n,c),h.v.add(n.div(i),h.v)),e&&!e.immunity&&(e.p.sub(n,e.p),e.v.sub(n.div(i),e.v)))},i.exports=s}),define("famous-physics/constraints/Rope",["require","exports","module","famous-physics/constraints/Constraint","famous-physics/math/Vector"],function(t,e,i){function s(t){this.opts={length:0,anchor:void 0,dampingRatio:0,period:0},t&&this.setOpts(t),this.impulse=new n,this.n=new n,this.diffP=new n,this.diffV=new n}var o=t("famous-physics/constraints/Constraint"),n=t("famous-physics/math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){void 0!==t.anchor&&(t.anchor instanceof n&&(this.opts.anchor=t.anchor),t.anchor.p instanceof n&&(this.opts.anchor=t.anchor.p),t.anchor instanceof Array&&(this.opts.anchor=new n(t.anchor))),void 0!==t.length&&(this.opts.length=t.length),void 0!==t.dampingRatio&&(this.opts.dampingRatio=t.dampingRatio),void 0!==t.period&&(this.opts.period=t.period)},s.prototype.applyConstraint=function(t,e,i){var s=this.n,o=this.diffP,n=this.diffV,r=this.impulse;if(e)var a=e.p,u=e.mInv,h=e.v;else var a=this.opts.anchor,u=0;for(var c=this.opts.length,p=0,l=0;l<t.length;l++){var f=t[l],d=f.v,m=f.p,v=f.mInv;o.set(m.sub(a));var g=o.norm()-c;if(0>g)return;s.set(o.normalize()),e?n.set(d.sub(h)):n.set(d);var y=1/(v+u);if(0==this.opts.period)var w=0,S=1;else var b=4*y*Math.PI*this.opts.dampingRatio/this.opts.period,x=4*y*Math.PI*Math.PI/(this.opts.period*this.opts.period),w=1/(b+i*x),S=i*x/(b+i*x);var _=S/i*g,T=-(s.dot(n)+_)/(w+i/y);r.set(s.mult(i*T)),f.applyImpulse(r),e&&e.applyImpulse(r.mult(-1)),p+=Math.abs(T)}return p},s.prototype.setupSlider=function(t,e){e=e||t.opts.name,t.setOpts({value:this.opts[e]}),t.init(),t.on("change",function(t){this.opts[e]=t.value}.bind(this))},i.exports=s}),define("famous-physics/constraints/Surface",["require","exports","module","famous-physics/constraints/Constraint","../math/Vector"],function(t,e,i){function s(t){this.opts={f:void 0,df:void 0,dampingRatio:0,period:0},t&&this.setOpts(t),this.J=new n,this.impulse=new n,this.eps=1e-7}var o=t("famous-physics/constraints/Constraint"),n=t("../math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){for(var e in t)this.opts[e]=t[e]},s.prototype.applyConstraint=function(t,e,i){for(var s=this.impulse,o=this.J,n=this.opts.f,r=this.opts.df,a=0,u=0;u<t.length;u++){var h=t[u],c=h.v,p=h.p,l=h.m;if(0==this.opts.period)var f=0,d=1;else var m=4*l*Math.PI*this.opts.dampingRatio/this.opts.period,v=4*l*Math.PI*Math.PI/(this.opts.period*this.opts.period),f=1/(m+i*v),d=i*v/(m+i*v);if(void 0===r){var g=this.eps,y=n(p.x,p.y,p.z),w=(n(p.x+g,p.y,p.z)-y)/g,S=(n(p.x,p.y+g,p.z)-y)/g,b=(n(p.x,p.y,p.z+g)-y)/g;o.setXYZ(w,S,b)}else o.setXYZ.apply(o,r(p.x,p.y,p.z));var x=d/i*n(p.x,p.y,p.z),_=-(o.dot(c)+x)/(f+i*o.normSquared()/l);s.set(o.mult(i*_)),h.applyImpulse(s),a+=Math.abs(_)}return a},s.prototype.setupSlider=function(t,e){e=e||t.opts.name,t.setOpts({value:this.opts[e]}),t.init(),t.on("change",function(t){this.opts[e]=t.value}.bind(this))},i.exports=s}),define("famous-physics/constraints/Walls",["require","exports","module","famous-physics/constraints/Constraint","famous-physics/math/Vector","famous-physics/constraints/Wall"],function(t,e,i){function s(t){this.opts={sides:s.TWO_DIMENSIONAL,size:[window.innerWidth,window.innerHeight,0],origin:[.5,.5,.5],k:0,restitution:.5,onContact:s.ON_CONTACT.REFLECT},this.sides={},t&&this.setOpts(t)}function o(t,e,i){var o;switch(parseInt(t)){case s.LEFT:o=e[0]*i[0];break;case s.TOP:o=e[1]*i[1];break;case s.FRONT:o=e[2]*i[2];break;case s.RIGHT:o=e[0]*(1-i[0]);break;case s.BOTTOM:o=e[1]*(1-i[1]);break;case s.BACK:o=e[2]*(1-i[2])}return o}var n=t("famous-physics/constraints/Constraint"),r=t("famous-physics/math/Vector"),a=t("famous-physics/constraints/Wall");s.prototype=Object.create(n.prototype),s.prototype.constructor=n,s.LEFT=0,s.RIGHT=1,s.TOP=2,s.BOTTOM=3,s.FRONT=4,s.BACK=5;var u={0:new r(1,0,0),1:new r(-1,0,0),2:new r(0,1,0),3:new r(0,-1,0),4:new r(0,0,1),5:new r(0,0,-1)};s.TWO_DIMENSIONAL=[s.LEFT,s.RIGHT,s.TOP,s.BOTTOM],s.THREE_DIMENSIONAL=[s.LEFT,s.RIGHT,s.TOP,s.BOTTOM,s.FRONT,s.BACK],s.ON_CONTACT=a.ON_CONTACT,s.prototype.setOpts=function(t){var e=!1;void 0!==t.restitution&&this.setOptsForEach({restitution:t.restitution}),void 0!==t.k&&this.setOptsForEach({k:t.k}),void 0!==t.size&&(e=!0),void 0!==t.sides&&this.createSides(t.sides),void 0!==t.onContact&&this.setOnContact(t.onContact),void 0!==t.origin&&(e=!0),e&&this.setSize(t.size,t.origin)},s.prototype.createSides=function(t){this.sides={},this.opts.sides=[];for(var e=0;e<t.length;e++){var i=t[e];this.sides[e]=new a({n:u[i].clone(),d:o(i,this.opts.size,this.opts.origin)}),this.opts.sides[e]=i}},s.prototype.setSize=function(t,e){e=e||this.opts.origin,e.length<3&&(e[2]=.5),this.forEach(function(i,s){var n=o(s,t,e);i.setOpts({d:n})}),this.opts.size=t,this.opts.origin=e},s.prototype.setOptsForEach=function(t){this.forEach(function(e){e.setOpts(t)});for(var e in t)this.opts[e]=t[e]},s.prototype.setOnContact=function(t){this.forEach(function(e){e.setOpts({onContact:t})});var e=this.sides;switch(t){case s.ON_CONTACT.REFLECT:break;case s.ON_CONTACT.WRAP:this.forEach(function(i){i.setOpts({onContact:t}),i.on("wrap",function(t){var o=t.particle,n=i.opts.n,r=i.opts.d;switch(i){case s.RIGHT:var a=e.LEFT.opts.d;break;case s.LEFT:var a=e.TOP.opts.d;break;case s.TOP:var a=e.BOTTOM.opts.d;break;case s.BOTTOM:var a=e.TOP.opts.d}o.p.add(n.mult(r+a),o.p)})});break;case s.ON_CONTACT.ABSORB:}this.opts.onContact=t},s.prototype.applyConstraint=function(t,e,i){this.forEach(function(s){s.applyConstraint(t,e,i)})},s.prototype.forEach=function(t){for(var e in this.sides)t(this.sides[e],e)},s.prototype.rotateZ=function(t){this.forEach(function(e){var i=e.opts.n;i.rotateZ(t).put(i)})},s.prototype.rotateX=function(t){this.forEach(function(e){var i=e.opts.n;i.rotateX(t).put(i)})},s.prototype.rotateY=function(t){this.forEach(function(e){var i=e.opts.n;i.rotateY(t).put(i)})},i.exports=s}),define("famous-physics/math/matrix",["require","exports","module"],function(require,exports,module){function Matrix(t,e,i,s){this.nRows=t,this.nCols=e,this.values=i||[[]],s&&this.loop(s)}Matrix.prototype={loop:function(t){for(var e=this.values,i=0;i<this.nRows;i++){e[i]=[];for(var s=0;s<this.nCols;s++)e[i][s]=t(i,s)}return this},set:function(t){return this.values=t,this},create:function(t){return this.loop(t)},identity:function(){return this.loop(function(t,e){return t==e?1:0})},print:function(){for(var row=0;row<this.nRows;row++){for(var str="console.log(",col=0;col<this.nCols;col++)str+="this.values["+row+"]["+col+"].toFixed(1)",col<this.nCols-1&&(str+=",");str+=")",eval(str)}},rightMult:function(t,e){t.nRows!=this.nCols&&console.warn("cant multiply");for(var i=this.values,s=t.values,o=this.nRows,n=t.nCols,r=[],a=0;o>a;a++){r[a]=[];for(var u=0;n>u;u++){for(var h=0,c=0;c<this.nCols;c++)h+=i[a][c]*s[c][u];r[a][u]=h}}return e?e.set(r):new Matrix(o,n).set(r)},vMult:function(t){for(var e=t.length,i=[],s=0;s<this.nRows;s++){for(var o=0,n=0;e>n;n++)o+=this.values[s][n]*t[n];i[s]=o}return i},diag:function(t){var e=function(e,i){return e==i?t[e]:0};return this.loop(e)},transpose:function(t){var e=function(t,e){return this.values[e][t]}.bind(this);return t?t.loop(e):new Matrix(this.nCols,this.nRows,[[]],e)}},module.exports=Matrix}),define("famous-physics/math/GaussSeidel",["require","exports","module"],function(t,e,i){function s(t,e){this.numIterations=t||10,this.tolerance=e||1e-7,this.prevX=[],this.x=[]}function o(){for(var t=0,e=this.x.length,i=0;e>i;i++)t+=Math.pow(this.prevX[i]-this.x[i],2)/(this.x[i]*this.x[i]);return Math.sqrt(t)}s.prototype.solve=function(t,e){for(var i,s=this.numIterations,n=e.length,r=this.x,a=this.prevX,u=0;n>u;u++)this.x[u]=0;for(var h=0,c=1/0;s>h&&c>this.tolerance;){for(var u=0;n>u;u++){a[u]=r[u],i=0;for(var p=0;n>p;p++)p!=u&&(i+=t[u][p]*r[p]);r[u]=(e[u]-i)/t[u][u]}c=o(),h++}return r},i.exports=s}),define("famous-physics/constraints/joint",["require","exports","module","../math/matrix","../math/GaussSeidel","../math/Vector"],function(t,e,i){function s(t){this.opts={length:0},t&&this.setOpts(t);var e=10,i=1e-5;this.solver=new n(e,i)}var o=t("../math/matrix"),n=t("../math/GaussSeidel"),r=t("../math/Vector");s.prototype.getPosition=function(t,e,i){var s=2,n=1,a=[],u=[],h=[],c=[],p=[],l=t;a[0]=l.getVel(),u[0]=l.p,h[0]=l.mInv,c[0]=l.f,p[0]=l.m,a[1]=e.v,u[1]=e.p,h[1]=e.mInv,c[1]=e.f,p[1]=e.m;for(var f=[],d=0;n>d;d++){f[d]=[];for(var m=0;s>m;m++){var v;m==d?v=u[d].sub(u[d+1]):m==d+1&&(v=u[d+1].sub(u[d])),f[d][3*m+0]=v.x,f[d][3*m+1]=v.y,f[d][3*m+2]=v.z}}var g=new o(n,3*s);g.set(f);for(var y=[],d=0;n>d;d++){y[d]=[];for(var m=0;s>m;m++){var v;m==d?v=a[d].sub(a[d+1]):m==d+1&&(v=a[d+1].sub(a[d])),y[d][3*m+0]=v.x,y[d][3*m+1]=v.y,y[d][3*m+2]=v.z}}for(var w=[],S=[],b=0;s>b;b++)w[3*b+0]=h[b],w[3*b+1]=h[b],w[3*b+2]=h[b],S[3*b+0]=a[b].x,S[3*b+1]=a[b].y,S[3*b+2]=a[b].z;var x=new o(3*s,3*s).diag(w),_=new o(n,n);g.rightMult(x).rightMult(g.transpose(),_);for(var T=g.vMult(S),O=1,C=[],b=0;n>b;b++){var E=this.length,M=u[b+1].sub(u[b]).normSquared();C[b]=.5*(M-E*E)}for(var z=[],k=0;n>k;k++)z[k]=-T[k]-O/i*C[k];for(var I=this.solver.solve(_.values,z),P=g.transpose().vMult(I),F=[],b=0;s>b;b++)F[b]=new r(P[3*b+0],P[3*b+1],P[3*b+2]);for(var b=0;s>b;b++){var S=a[b],A=p[b],N=F[b];(0!=b||0!=l.id)&&(1==b&&0==l.id?S.add(N.sub(F[0]).div(A),S):S.add(N.div(A),S))}},s.prototype.getError=function(){},i.exports=s}),define("famous-physics/forces/Repulsion",["require","exports","module","famous-physics/forces/Force","famous-physics/math/Vector"],function(t,e,i){function s(t){this.opts={strength:1,anchor:void 0,radii:{min:0,max:1/0},cutoff:0,cap:1/0,decayFunction:s.DECAY_FUNCTIONS.GRAVITY},t&&this.setOpts(t),this.setOpts(t),this.disp=new n,o.call(this)}var o=t("famous-physics/forces/Force"),n=t("famous-physics/math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.DECAY_FUNCTIONS={LINEAR:function(t,e){return Math.max(1-1/e*t,0)},MORSE:function(t,e){var i=0==e?100:e,s=t+i*(1-Math.log(2));return Math.max(1-Math.pow(1-Math.exp(s/i-1),2),0)},INVERSE:function(t,e){return 1/(1-e+t)},GRAVITY:function(t,e){return 1/(1-e+t*t)}},s.prototype.setOpts=function(t){void 0!==t.anchor&&(t.anchor.p instanceof n&&(this.opts.anchor=t.anchor.p),t.anchor instanceof Array&&(this.opts.anchor=new n(t.anchor)),delete t.anchor);for(var e in t)this.opts[e]=t[e]},s.prototype.applyForce=function(t,e){var i=this.opts,s=this.force,o=this.disp,n=i.strength,r=i.anchor||e.p,a=i.cap,u=i.cutoff,h=i.radii.max,c=i.radii.min,p=i.decayFunction;if(0!=n)for(var l in t){var f=t[l];if(f!=e){var d=f.m,m=f.p;o.set(m.sub(r));var v=o.norm();h>v&&v>c&&(s.set(o.normalize(n*d*p(v,u)).cap(a)),f.applyForce(s))}}},i.exports=s}),define("famous-physics/forces/VectorField",["require","exports","module","famous-physics/forces/Force","../math/Vector"],function(t,e,i){function s(t){this.opts={strength:1,field:s.FIELDS.CONSTANT},t&&this.setOpts(t),this.setFieldOptions(this.opts.field),this.timeDependent=3==this.opts.field.length,this.tOrig=void 0,this.register=new n(0,0,0),o.call(this)}var o=t("famous-physics/forces/Force"),n=t("../math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.FIELDS={CONSTANT:function(t,e){return t.set(e.direction)},LINEAR:function(t,e){return t.set(t.mult(e.k))},RADIAL_GRAVITY:function(t){return t.set(t.mult(-1,t))},SPHERE_ATTRACTOR:function(t,e){return t.set(t.mult((e.radius-t.norm())/t.norm()))},POINT_ATTRACTOR:function(t,e){return t.set(e.p.sub(t))}},s.prototype.setOpts=function(t){for(var e in t)this.opts[e]=t[e]},s.prototype.evaluate=function(t,e){return this.register.set(t),this.opts.field(this.register,this.opts,e)},s.prototype.applyForce=function(t){var e,i=this.force;this.timeDependent?(this.tOrig&&(this.tOrig=Date.now()),e=.001*(Date.now()-this.tOrig)):e=void 0;for(var s=0;s<t.length;s++){var o=t[s];i.set(this.evaluate(o.p,e).mult(o.m*this.opts.strength)),o.applyForce(i)}},s.prototype.setFieldOptions=function(t){var e=s.FIELDS;switch(t){case e.CONSTANT:this.opts.direction||(this.opts.direction=new n(0,1,0));break;case e.POINT_ATTRACTOR:this.opts.p||(this.opts.p=new n(0,0,0));break;case e.SPHERE_ATTRACTOR:this.opts.radius||(this.opts.radius=1);break;case e.LINEAR:this.opts.k||(this.opts.k=1)}},i.exports=s}),define("famous-physics/forces/rotationalDrag",["require","exports","module","famous-physics/forces/Force","famous-physics/math/Vector"],function(t,e,i){function s(t){this.opts={strength:.01,forceFunction:s.FORCE_FUNCTIONS.LINEAR},t&&this.setOpts(t),o.call(this)}{var o=t("famous-physics/forces/Force");t("famous-physics/math/Vector")}s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.FORCE_FUNCTIONS={LINEAR:function(t){return t},QUADRATIC:function(t){return t.mult(t.norm())}},s.prototype.applyForce=function(t){var e=this.opts.strength,i=this.opts.forceFunction,s=this.force;for(var o in t){var n=t[o];i(n.w).mult(-100*e).put(s),n.applyTorque(s)}},s.prototype.setOpts=function(t){for(var e in t)this.opts[e]=t[e]},i.exports=s}),define("famous-physics/integrator/verlet",["require","exports","module","../math/Vector"],function(t,e,i){function s(t){t=t||{},this.vCap=t.vCap||1/0,this.aCap=t.aCap||1/0,this.drag=t.drag||1,this.diff=new o,this.pOldCopy=new o,this.dragVector=new o}var o=t("../math/Vector");s.prototype.integrate=function(t,e,i){var s=t.pOld,o=t.p,n=t.a;if(this.diff.set(o.sub(s)),i){var r=t.v;t.hasImmunity("velocity")||r.add(n.mult(.5*e),r),t.hasImmunity("position")||(s.set(o),o.add(r.mult(e),o))}else this.pOldCopy.set(s),t.hasImmunity("position")||(this.dragVector.set(this.diff.mult(this.drag)),s.set(o),o.add(n.mult(e*e),o),o.add(this.dragVector,o))},s.prototype.integrateVelocity=function(t,e,i){var s=t.p,o=t.a;if(i){var n=t.v;n.add(o.mult(.5*e),n),s.add(n.mult(e),s)}else s.add(o.mult(e*e),s)},s.prototype.integratePosition=function(t){var e=t.p,i=t.pOld,s=this.pOldCopy;s.set(i),i.set(e),e.add(e.sub(s).mult(this.drag),e)},i.exports=s}),define("famous-physics/math/Random",["require","exports","module"],function(t,e,i){function s(t,e){return t+Math.random()*(e-t)}function o(t,e){return Math.floor(t+Math.random()*(e-t+1))}i.exports={integer:function(t,e,i){if(t=void 0!==t?t:0,e=void 0!==e?e:1,void 0!==i){for(var s=[],n=0;i>n;n++)s.push(o(t,e));return s}return o(t,e)},range:function(t,e,i){if(t=void 0!==t?t:0,e=void 0!==e?e:1,void 0!==i){for(var o=[],n=0;i>n;n++)o.push(s(t,e));return o}return s(t,e)},sign:function(t){return t=void 0!==t?t:.5,Math.random()<t?1:-1},bool:function(t){return t=void 0!==t?t:.5,Math.random()<t}}}),define("famous-physics/utils/PhysicsTransition2",["require","exports","module","famous-physics/PhysicsEngine","famous-physics/constraints/StiffSpring","famous-physics/forces/VectorField","famous-physics/constraints/Wall","famous-physics/math/Vector","famous/EventHandler"],function(t,e,i){function s(t){t=t||0,this.endState=t,this.prevState=void 0,this.direction=void 0,this.defaultDefinition={transition:{curve:{v:1,thrust:0},duration:500},bounce:{period:0,dampingRatio:0},walls:!1},this._anchor=new O(t,0,0),this.stageOneActive=!1,this.attachedSpring=void 0,this.attachedWall=void 0,this.attachedThrust=void 0,this.eventHandler=new C,this.eventHandler.on("initStageTwo",v.bind(this)),this.PE=new b,this.particle=this.PE.createBody({p:[t,0,0],v:[0,0,0]}),this.spring=new x({anchor:this._anchor}),this.thrust=new _({strength:0,field:_.FIELDS.CONSTANT,direction:[1,0,0]}),this.wall=new T({restitution:.5,k:0,n:new O(-1,0,0)})}function o(){return this.particle.p.x<=this.endState?1:-1}function n(t){this.direction=t}function r(){1==this.stageOneActive&&this.direction!=o.call(this)&&this.eventHandler.emit("initStageTwo")}function a(t){var e,i,o=t.transition.duration,n=t.transition.curve;"string"==typeof n&&(n=s.TRANSITIONS[n]),i=this.direction*n.v,e=this.direction*n.thrust;var r=this.endState-this.particle.p.x;if(0==o)this.v=i||0,this.a=0;else{var a;0==e?a=r/(i*o):(0>i*i+2*e*r&&console.warn("unphysical choices for (v,a), target cannot be reached"),a=r>0?(-i+Math.sqrt(i*i+2*e*r))/(e*o):(-i-Math.sqrt(i*i+2*e*r))/(e*o)),this.v=a*i,this.a=a*a*e}var u=t.bounce;"string"==typeof u&&(u=s.BOUNCE[u]),this.spring.setOpts({period:u.period,dampingRatio:u.dampingRatio}),this.wallsActive=t.walls}function u(t){this.prevState=this.endState,this.endState=t,n.call(this,o.call(this))}function h(t){void 0===this.attachedSpring&&(this._anchor.x=t,this.attachedSpring=this.PE.attach(this.spring,this.particle))
}function c(){void 0!==this.attachedSpring&&(this.PE.detach(this.attachedSpring,this.particle),this.attachedSpring=void 0)}function p(t,e){this.wallsActive&&(this.wall.setOpts({d:Math.abs(t),n:[-e,0,0]}),this.attachedWall=this.PE.attach(this.wall,this.particle))}function l(){void 0!==this.attachedWall&&(this.PE.detach(this.attachedWall,this.particle),this.attachedWall=void 0)}function f(t){this.thrust.setOpts({strength:t}),this.attachedThrust=this.PE.attach(this.thrust,this.particle)}function d(){void 0!==this.attachedThrust&&(this.PE.detach(this.attachedThrust),this.attachedThrust=void 0)}function m(){this.stageOneActive=!0,c.call(this),d.call(this),l.call(this),f.call(this,this.a),g.call(this,this.v),E=Date.now()}function v(){console.log("Duration : ",Date.now()-E),this.stageOneActive=!1,d.call(this),y.call(this,this.endState),h.call(this,this.endState),p.call(this,this.endState,this.direction)}function g(t){this.particle.v.x=t}function y(t){this.particle.p.x=t}function w(t){this.spring.setOpts({callback:t})}function S(){this.PE.step(),r.call(this)}var b=t("famous-physics/PhysicsEngine"),x=t("famous-physics/constraints/StiffSpring"),_=t("famous-physics/forces/VectorField"),T=t("famous-physics/constraints/Wall"),O=t("famous-physics/math/Vector"),C=t("famous/EventHandler");s.TRANSITIONS={linear:{v:1,thrust:0},easeIn:{v:0,thrust:2},backIn:{v:-1,thrust:2}},s.BOUNCE={none:{dampingRatio:0,period:0},low:{dampingRatio:.5,period:300},medium:{dampingRatio:.3,period:600},high:{dampingRatio:.1,period:800}};var E;s.forceFunctions=x.forceFunctions,s.prototype.reset=function(t,e){e=e||0,t=t||0,this.PE.detachAll(),y.call(this,t),g.call(this,e),w.call(this,void 0)},s.prototype.set=function(t,e,i){return e?(u.call(this,t),a.call(this,e),w.call(this,i),m.call(this),void 0):(this.reset(t),i&&i(),void 0)},s.prototype.get=function(){return S.call(this),this.particle.p.x},s.prototype.getVelocity=function(){return S.call(this),this.particle.v.x},s.prototype.getTarget=function(){return this.endState},i.exports=s}),define("famous-physics/utils/SpringTransition",["require","exports","module","famous-physics/PhysicsEngine","famous-physics/forces/Spring","famous-physics/math/Vector"],function(t,e,i){function s(t){t=t||0,this._anchor=new m(t,0,0),this.endState=t,this.prevState=void 0,this.atRest=!0,this.spring=new d({anchor:this._anchor}),this.PE=new f,this.particle=this.PE.createParticle({p:[t,0,0]}),this.PE.attach(this.spring,this.particle)}function o(){if(!this.atRest){this.PE.step();var t=n.call(this);v>t&&(this.atRest=!0,u.call(this,this.endState),this.callback&&this.callback())}}function n(){return this.particle.getEnergy()+this.spring.getEnergy(this.particle)}function r(t){var e=s.DEFAULT_OPTIONS;void 0===t.period&&(t.period=e.period),void 0===t.dampingRatio&&(t.dampingRatio=e.dampingRatio),void 0===t.velocity&&(t.velocity=e.velocity),t.period<150&&console.warn("period may be unstable, increase the period or use a stiff transition"),this.spring.setOpts({period:t.period,dampingRatio:t.dampingRatio}),h.call(this,t.velocity)}function a(t){this.prevState=this.endState,this.endState=t;var e;e=this.endState-this.prevState>0?1:this.endState<0?-1:0,this._anchor.x=t,h.call(this,e*p.call(this))}function u(t){this.particle.p.x=t}function h(t){this.particle.v.x=t}function c(){return this.particle.p.x}function p(){return this.particle.v.x}function l(t){this.callback=t}var f=t("famous-physics/PhysicsEngine"),d=t("famous-physics/forces/Spring"),m=t("famous-physics/math/Vector");s.DEFAULT_OPTIONS={period:300,dampingRatio:.5,velocity:0},s.forceFunctions=d.forceFunctions;var v=1e-5;s.prototype.reset=function(t,e){t=t||0,e=e||0,this.prevState=void 0,u.call(this,t),h.call(this,e),a.call(this,t),l.call(this,void 0)},s.prototype.getVelocity=function(){return o.call(this),p.call(this)},s.prototype.setVelocity=function(t){this.call(this,h(t))},s.prototype.halt=function(){this.set(this.get())},s.prototype.get=function(){return o.call(this),c.call(this)},s.prototype.set=function(t,e,i){return e?(this.atRest=!1,r.call(this,e),a.call(this,t),l.call(this,i),void 0):(this.reset(t),i&&i(),void 0)},i.exports=s}),define("famous-physics/utils/StiffSpringTransition",["require","exports","module","famous-physics/PhysicsEngine","famous-physics/constraints/StiffSpring","famous-physics/math/Vector"],function(t,e,i){function s(t){t=t||0,this._anchor=new m(t,0,0),this.endState=t,this.prevState=void 0,this.atRest=!0,this.spring=new d({anchor:this._anchor}),this.PE=new f,this.particle=this.PE.createParticle({p:[t,0,0]}),this.PE.attach(this.spring,this.particle)}function o(){if(!this.atRest){this.PE.step();var t=n.call(this);v>t&&(this.atRest=!0,u.call(this,this.endState),this.callback&&this.callback())}}function n(){return this.particle.getEnergy()+this.spring.getEnergy(this.particle)}function r(t){var e=s.DEFAULT_OPTIONS;void 0===t.period&&(t.period=e.period),void 0===t.dampingRatio&&(t.dampingRatio=e.dampingRatio),void 0===t.velocity&&(t.velocity=e.velocity),this.spring.setOpts({period:t.period,dampingRatio:t.dampingRatio}),h.call(this,t.velocity)}function a(t){this.prevState=this.endState,this.endState=t;var e;e=this.endState-this.prevState>0?1:this.endState<0?-1:0,this._anchor.x=t,h.call(this,e*p.call(this))}function u(t){this.particle.p.x=t}function h(t){this.particle.v.x=t}function c(){return this.particle.p.x}function p(){return this.particle.v.x}function l(t){this.callback=t}var f=t("famous-physics/PhysicsEngine"),d=t("famous-physics/constraints/StiffSpring"),m=t("famous-physics/math/Vector");s.DEFAULT_OPTIONS={period:300,dampingRatio:.5,velocity:0},s.forceFunctions=d.forceFunctions;var v=1e-5;s.prototype.reset=function(t,e){t=t||0,e=e||0,this.prevState=void 0,u.call(this,t),h.call(this,e),a.call(this,t),l.call(this,void 0)},s.prototype.getVelocity=function(){return o.call(this),p.call(this)},s.prototype.setVelocity=function(t){this.call(this,h(t))},s.prototype.halt=function(){this.set(this.get())},s.prototype.get=function(){return o.call(this),c.call(this)},s.prototype.set=function(t,e,i){return e?(this.atRest=!1,r.call(this,e),a.call(this,t),l.call(this,i),void 0):(this.reset(t),i&&i(),void 0)},i.exports=s}),define("famous-physics/utils/WallTransition",["require","exports","module","famous-physics/PhysicsEngine","famous-physics/forces/Spring","famous-physics/constraints/Wall","famous-physics/math/Vector"],function(t,e,i){function s(t){t=t||0,this._anchor=new v(t,0,0),this.endState=t,this.prevState=void 0,this.atRest=!0,this.spring=new d({anchor:this._anchor}),this.wall=new m,this.PE=new f,this.particle=this.PE.createParticle({p:[t,0,0]}),this.PE.attach(this.spring,this.particle),this.PE.attach(this.wall,this.particle)}function o(){if(!this.atRest){this.PE.step();var t=n.call(this);g>t&&(this.atRest=!0,u.call(this,this.endState),this.callback&&this.callback())}}function n(){return this.particle.getEnergy()+this.spring.getEnergy(this.particle)}function r(t){var e=s.DEFAULT_OPTIONS;void 0===t.period&&(t.period=e.period),void 0===t.dampingRatio&&(t.dampingRatio=e.dampingRatio),void 0===t.velocity&&(t.velocity=e.velocity),void 0===t.restitution&&(t.restitution=e.restitution),this.spring.setOpts({period:t.period,dampingRatio:t.dampingRatio}),this.wall.setOpts({restitution:t.restitution}),h.call(this,t.velocity)}function a(t){this.prevState=this.endState,this.endState=t;var e;e=this.endState-this.prevState>=0?1:-1,this._anchor.x=t,this.wall.setOpts({d:Math.abs(t),n:[-e,0,0]}),h.call(this,e*p.call(this))}function u(t){this.particle.p.x=t}function h(t){this.particle.v.x=t}function c(){return this.particle.p.x}function p(){return this.particle.v.x}function l(t){this.callback=t}var f=t("famous-physics/PhysicsEngine"),d=t("famous-physics/forces/Spring"),m=t("famous-physics/constraints/Wall"),v=t("famous-physics/math/Vector");s.DEFAULT_OPTIONS={period:300,dampingRatio:0,restitution:.4,velocity:0},s.forceFunctions=d.forceFunctions;var g=1e-5;s.prototype.reset=function(t,e){t=t||0,e=e||0,this.prevState=void 0,u.call(this,t),h.call(this,e),a.call(this,t),l.call(this,void 0)},s.prototype.getVelocity=function(){return o.call(this),p.call(this)},s.prototype.setVelocity=function(t){this.call(this,h(t))},s.prototype.halt=function(){this.set(this.get())},s.prototype.get=function(){return o.call(this),c.call(this)},s.prototype.set=function(t,e,i){return e?(this.atRest=!1,r.call(this,e),a.call(this,t),l.call(this,i),void 0):(this.reset(t),i&&i(),void 0)},i.exports=s}),define("famous-scene/GLScene",["require","exports","module","famous/Engine","famous/Surface","famous/WebGLSurface","famous/Matrix","famous-utils/Utils","./Scene"],function(t,e,i){function s(){u.apply(this,arguments),this.gl=null,this.glReady=!1,this.glSurface=new n([this.width,this.height],{antialias:!0})}var o=t("famous/Engine"),n=(t("famous/Surface"),t("famous/WebGLSurface")),r=t("famous/Matrix"),a=t("famous-utils/Utils"),u=t("./Scene");s.prototype=Object.create(u.prototype),s.prototype.constructor=s,s.prototype.bindEvents=function(){this.callbacks.prerender=this.__update.bind(this),this.callbacks.touchstart=this.touchstart.bind(this),this.callbacks.touchmove=this.touchmove.bind(this),this.callbacks.touchend=this.touchend.bind(this),this.callbacks.keypress=this.keypress.bind(this),this.callbacks.resize=this._resize.bind(this),this.callbacks.mousedown=this._mousedown.bind(this),this.callbacks.mousemove=this._mousemove.bind(this),this.callbacks.mouseover=this._mouseover.bind(this),this.callbacks.mouseup=this._mouseup.bind(this),this.callbacks.mouseout=this._mouseout.bind(this),this.callbacks.keydown=this.keydown.bind(this),this.callbacks.keyup=this.keyup.bind(this);for(var t=Object.keys(this.callbacks),e=0;e<t.length;e++)o.on(t[e],this.callbacks[t[e]])},s.prototype.setup=function(){},s.prototype.__update=function(){this.initGL()&&(o.unbind("prerender",this.callbacks.prerender),this.callbacks.prerender=this._update.bind(this),o.on("prerender",this.callbacks.prerender))},s.prototype._update=function(){this.update(this.gl),this.draw(this.gl)},s.prototype.update=function(){},s.prototype.draw=function(){},s.prototype.render=function(){return{transform:r.identity,opacity:1,target:this.glSurface.render()}},s.prototype._resize=function(t){var e=a.getDevicePixelRatio();this.width=a.getWidth(),this.height=a.getHeight(),this.glSurface.setSize([this.width,this.height]),this.gl.viewportWidth=this.width*e,this.gl.viewportHeight=this.height*e,this.resize(t)},s.prototype.initGL=function(){var t=this.glSurface.getContext({antialias:!0});if(null!=t){this.gl=t;var e=a.getDevicePixelRatio();this.gl.viewportWidth=this.width*e,this.gl.viewportHeight=this.height*e,this.glReady=!0,this.setup(this.gl)}return this.glReady},s.prototype.createShaderProgram=function(t,e){var i=this.gl,s=this.initVertShader(t),o=this.initFragShader(e),n=i.createProgram();return i.attachShader(n,s),i.attachShader(n,o),i.linkProgram(n),i.getProgramParameter(n,i.LINK_STATUS)||alert("Could not initialise shaders"),n},s.prototype.initFragShader=function(t){var e=this.gl,i=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(i,t),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)?i:(alert(e.getShaderInfoLog(i)),null)},s.prototype.initVertShader=function(t){var e=this.gl,i=e.createShader(e.VERTEX_SHADER);return e.shaderSource(i,t),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)?i:(alert(e.getShaderInfoLog(i)),null)},i.exports=s}),define("famous-scene/SceneController",["require","exports","module","famous/View","famous/Matrix","famous/Modifier","famous/Engine"],function(t,e,i){function s(){o.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.routes={},this.sceneArray=[],this.sceneIndex=0}var o=t("famous/View"),n=(t("famous/Matrix"),t("famous/Modifier")),r=t("famous/Engine");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={loop:!0},s.prototype.addScene=function(t,e){this.routes[t]=e,this.sceneArray.push(t),this.emit("add",{key:t,view:e})},s.prototype.addScenes=function(t){for(var e in t)this.addScene(e,t[e])},s.prototype.removeScene=function(t){delete this.routes[t],this.emit("remove",{key:t})},s.prototype.reset=function(){this.node.object=void 0},s.prototype.next=function(){this.sceneIndex++,this.sceneIndex==this.sceneArray.length?this.options.loop?(this.sceneIndex=0,this.setScene(this.sceneArray[this.sceneIndex],"next")):(this.emit("end"),this.sceneIndex--):this.setScene(this.sceneArray[this.sceneIndex],"next"),this.emit("next",this.sceneArray[this.sceneIndex])},s.prototype.prev=function(){this.sceneIndex--,this.sceneIndex<0?this.options.loop?(this.sceneIndex=this.sceneArray.length-1,this.setScene(this.sceneArray[this.sceneIndex],"prev")):(this.emit("beginning"),this.sceneIndex++):this.setScene(this.sceneArray[this.sceneIndex],"prev"),this.emit("prev",this.sceneArray[this.sceneIndex])},s.prototype.setActiveTransform=function(t,e,i){this.activeTransform&&(this.activeTransform.halt(),this.activeTransform.setTransform(t,e,i))},s.prototype.setScene=function(t,e){var i=this.routes[t];return"undefined"==typeof i?(console.warn("No view exists!",t),void 0):(this.currentRoute=t,this.ActiveConstructor=i,this.inTransition=!0,void 0==e&&(this.sceneIndex=this.sceneArray.indexOf(this.currentRoute)),this.emit("set",{key:t,view:i,index:this.sceneIndex}),this.activeScene&&this.activeScene.deactivate?(this.activeScene.deactivate(this.activateScene.bind(this),e),this.emit("deactivate"),void 0):this.activateScene(e))},s.prototype.setSceneOrder=function(t){this.sceneArray=t,this.emit("reorder",{array:this.sceneArray})},s.prototype.activateScene=function(){this.reset(),r.unpipe(this.activeScene),this.activeScene=new this.ActiveConstructor,this.activeTransform=new n,this.activeScene.setController&&this.activeScene.setController(this),r.pipe(this.activeScene),this.node.add(this.activeTransform).link(this.activeScene),this.activeScene.activate?this.activeScene.activate(function(){this.inTransition=!1,this.emit("activate")}.bind(this)):(this.inTransition=!1,this.emit("activate"))},s.prototype.getCurrentRoute=function(){return this.currentRoute},s.prototype.getCurrentIndex=function(){return this.sceneIndex},s.prototype.getRoutes=function(){return this.routes},s.prototype.getSceneOrder=function(){return this.sceneArray},s.prototype.getOrderedScenes=function(){for(var t=[],e=0;e<this.sceneArray.length;e++)t.push(this.routes[this.sceneArray[e]]);return t},s.prototype.getActiveTransform=function(){return this.activeTransform},i.exports=s}),define("famous-scene/Transitions",["require","exports","module","famous-animation/Easing","famous/Matrix"],function(t,e,i){var s=t("famous-animation/Easing"),o=t("famous/Matrix");i.exports={popIn:function(t,e){var i={curve:s.inOutExpoNorm,duration:1e3};t.halt(),t.setTransform(o.move(o.scale(1e-6,1e-6),[.5*window.innerWidth,.5*window.innerHeight])),t.setTransform(o.identity,i,e)},popOut:function(t,e){var i={curve:s.inOutExpoNorm,duration:1e3};t.halt(),t.setTransform(o.move(o.scale(1e-6,1e-6),[.5*window.innerWidth,.5*window.innerHeight]),i,e)},fadeLeft:function(t,e){var i={curve:s.inOutExpoNorm,duration:1e3};t.halt(),t.setTransform(o.translate(-window.innerWidth,0,0),i,e),t.setOpacity(0,i)},fadeInLeft:function(t,e){var i={curve:s.inOutExpoNorm,duration:1e3};t.halt(),t.setTransform(o.translate(window.innerWidth,0,0)),t.setTransform(o.identity,i,e),t.setOpacity(0),t.setOpacity(1,i)},fadeRight:function(t,e){var i={curve:s.inOutExpoNorm,duration:1e3};t.halt(),t.setTransform(o.translate(window.innerWidth,0,0),i,e),t.setOpacity(0,i)},fadeInRight:function(t,e){var i={curve:s.inOutExpoNorm,duration:1e3};t.halt(),t.setTransform(o.translate(-window.innerWidth,0,0)),t.setTransform(o.identity,i,e),t.setOpacity(0),t.setOpacity(1,i)}}}),define("famous-scene/SceneTransitions",["require","exports","module","famous-scene/SceneController","famous-animation/Easing","famous/Matrix","./Transitions"],function(t,e,i){function s(t){this.controller=t}var o=(t("famous-scene/SceneController"),t("famous-animation/Easing"),t("famous/Matrix"),t("./Transitions"));s.prototype.setController=function(t){this.controller=t},s.prototype.popIn=function(t){o.popIn(this.controller.getActiveTransform(),t)},s.prototype.popOut=function(t){o.popOut(this.controller.getActiveTransform(),t)},s.prototype.sceneFadeLeft=function(t){o.fadeLeft(this.controller.getActiveTransform(),t)},s.prototype.sceneFadeInLeft=function(t){o.fadeInLeft(this.controller.getActiveTransform(),t)},s.prototype.sceneFadeRight=function(t){o.fadeRight(this.controller.getActiveTransform(),t)},s.prototype.sceneFadeInRight=function(t){o.fadeInRight(this.controller.getActiveTransform(),t)},i.exports=s}),define("famous-sync/FastClick",["require","exports","module"],function(){if(window.CustomEvent){var t=300,e={};document.addEventListener("touchstart",function(t){for(var i=Date.now(),s=0;s<t.changedTouches.length;s++){var o=t.changedTouches[s];e[o.identifier]=i}}),window.addEventListener("touchmove",function(t){for(var i=0;i<t.changedTouches.length;i++){var s=t.changedTouches[i];delete e[s.identifier]}}),document.addEventListener("touchend",function(i){for(var s=Date.now(),o=0;o<i.changedTouches.length;o++){var n=i.changedTouches[o],r=e[n.identifier];if(r&&t>s-r){i.preventDefault();var a=new CustomEvent("click",{bubbles:!0,details:n});i.target.dispatchEvent(a)}delete e[n.identifier]}})}}),define("famous-sync/TwoFingerSync",["require","exports","module","famous/EventHandler"],function(t,e,i){function s(t,e){this.targetGet=t,this.options={scale:1},e?this.setOptions(e):this.setOptions(this.options),this.input=new o,this.output=new o,o.setInputHandler(this,this.input),o.setOutputHandler(this,this.output),this.touchAId=void 0,this.posA=void 0,this.timestampA=void 0,this.touchBId=void 0,this.posB=void 0,this.timestampB=void 0,this.input.on("touchstart",this.handleStart.bind(this)),this.input.on("touchmove",this.handleMove.bind(this)),this.input.on("touchend",this.handleEnd.bind(this)),this.input.on("touchcancel",this.handleEnd.bind(this))}var o=t("famous/EventHandler");s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.scale&&(this.options.scale=t.scale)},s.prototype.handleStart=function(t){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e];this.touchAId?this.touchBId||(this.touchBId=i.identifier,this.posB=[i.pageX,i.pageY],this.timestampB=Date.now(),this._startUpdate()):(this.touchAId=i.identifier,this.posA=[i.pageX,i.pageY],this.timestampA=Date.now())}},s.prototype.handleMove=function(t){if(this.touchAId&&this.touchBId){for(var e,i=this.timestampA,s=this.timestampB,o=0;o<t.changedTouches.length;o++){var n=t.changedTouches[o];n.identifier==this.touchAId?(this.posA=[n.pageX,n.pageY],this.timestampA=Date.now(),e=this.timestampA-i):n.identifier==this.touchBId&&(this.posB=[n.pageX,n.pageY],this.timestampB=Date.now(),e=this.timestampB-s)}e&&this._moveUpdate(e)}},s.prototype.handleEnd=function(t){for(var e=this.targetGet(),i=this.options.scale,s=0;s<t.changedTouches.length;s++){var o=t.changedTouches[s];(o.identifier==this.touchAId||o.identifier==this.touchBId)&&(this.touchAId&&this.touchBId&&this.output.emit("end",{p:e,v:i*this._vel,touches:[this.touchAId,this.touchBId],angle:this._angle}),this.touchAId=void 0,this.touchBId=void 0)}},i.exports=s}),define("famous-sync/PinchSync",["require","exports","module","./TwoFingerSync"],function(t,e,i){function s(t,e){n.call(this,t,e),this._dist=void 0}function o(t,e){var i=e[0]-t[0],s=e[1]-t[1];return Math.sqrt(i*i+s*s)}var n=t("./TwoFingerSync");s.prototype=Object.create(n.prototype),s.prototype._startUpdate=function(){this._dist=o(this.posA,this.posB),this._vel=0,this.output.emit("start",{count:event.touches.length,touches:[this.touchAId,this.touchBId],distance:this._dist})},s.prototype._moveUpdate=function(t){var e=o(this.posA,this.posB),i=e-this._dist,s=i/t,n=this.targetGet(),r=this.options.scale;this.output.emit("update",{p:n+r*i,v:r*s,touches:[this.touchAId,this.touchBId],distance:e}),this._dist=e,this._vel=s},i.exports=s}),define("famous-sync/RotateSync",["require","exports","module","./TwoFingerSync"],function(t,e,i){function s(t,e){n.call(this,t,e),this._angle=void 0}function o(t,e){var i=e[0]-t[0],s=e[1]-t[1];return Math.atan2(s,i)}var n=t("./TwoFingerSync");s.prototype=Object.create(n.prototype),s.prototype._startUpdate=function(){this._angle=o(this.posA,this.posB),this._vel=0,this.output.emit("start",{count:event.touches.length,touches:[this.touchAId,this.touchBId],angle:this._angle})},s.prototype._moveUpdate=function(t){var e=o(this.posA,this.posB),i=e-this._angle,s=i/t,n=this.targetGet(),r=this.options.scale;this.output.emit("update",{p:n+r*i,v:r*s,touches:[this.touchAId,this.touchBId],angle:e}),this._angle=e,this._vel=s},i.exports=s}),define("famous-sync/ScaleSync",["require","exports","module","./TwoFingerSync"],function(t,e,i){function s(t,e){r.call(this,t,e),this._startDist=void 0,this._prevScale=void 0,this.input.on("pipe",n.bind(this))}function o(t,e){var i=e[0]-t[0],s=e[1]-t[1];return Math.sqrt(i*i+s*s)}function n(){this.touchAId=void 0,this.touchBId=void 0}var r=t("./TwoFingerSync");s.prototype=Object.create(r.prototype),s.prototype._startUpdate=function(){this._prevScale=1,this._startDist=o(this.posA,this.posB),this._vel=0,this.output.emit("start",{count:event.touches.length,touches:[this.touchAId,this.touchBId],distance:this._startDist})},s.prototype._moveUpdate=function(t){var e=o(this.posA,this.posB),i=e/this._startDist,s=i-this._prevScale,n=s/t,r=this.targetGet(),a=this.options.scale;this.output.emit("update",{p:r+a*s,v:a*n,touches:[this.touchAId,this.touchBId],distance:e}),this._prevScale=i,this._vel=n},i.exports=s}),define("famous-ui/Buttons/ButtonBase",["require","exports","module","famous/Surface","famous/View","famous/Matrix","famous/Modifier","famous-animation/Easing"],function(t,e,i){function s(){n.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.surface=new o(this.options.surfaceOptions),this.surface.pipe(this),this.transform=new a({size:this.surface.getSize()}),this.node.link(this.transform).link(this.surface),this.surface.pipe(this),this.surface.on("click",this._handleClick.bind(this)),this._state=!1}var o=t("famous/Surface"),n=t("famous/View"),r=t("famous/Matrix"),a=t("famous/Modifier"),u=t("famous-animation/Easing");s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={surfaceOptions:{},openState:r.identity,closeState:r.rotateZ(.75*Math.PI),transition:{curve:u.inOutBackNorm,duration:500}},s.prototype._handleClick=function(){},s.prototype.halt=function(){this.transform.halt()},s.prototype.setTransform=function(){this.transform.setTransform.apply(this.transform,arguments)},s.prototype.setOpacity=function(){this.transform.setOpacity.apply(this.transform,arguments)},s.prototype.getSize=function(){return this.surface.getSize()},i.exports=s}),define("famous-ui/Buttons/RotateButton",["require","exports","module","famous/Surface","famous/View","famous/Matrix","famous/Modifier","famous-animation/Easing","./ButtonBase"],function(t,e,i){function s(){r.apply(this,arguments),this.transform.setOrigin([.5,.5]),this._state=!1}var o=(t("famous/Surface"),t("famous/View"),t("famous/Matrix")),n=(t("famous/Modifier"),t("famous-animation/Easing")),r=t("./ButtonBase");s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={surfaceOptions:{},openState:o.identity,closeState:o.rotateZ(.75*Math.PI),transition:{curve:n.inOutBackNorm,duration:500}},s.prototype._handleClick=function(t){t.stopPropagation(),this.toggle()},s.prototype.getSize=function(){return this.surface.getSize()},s.prototype.toggle=function(){0==this._state?this.open():this.close()},s.prototype.open=function(){this._state=!0,this.transform.halt(),this.emit("open"),this.transform.setTransform(this.options.closeState,this.options.transition)},s.prototype.close=function(){this._state=!1,this.transform.halt(),this.emit("close"),this.transform.setTransform(this.options.openState,this.options.transition)},i.exports=s}),define("famous-ui/Buttons/SpringButton",["require","exports","module","famous-physics/PhysicsEngine","famous/View","famous-physics/forces/Spring","famous/Surface","famous-physics/math/Vector","famous-utils/Utils"],function(t,e,i){function s(){a.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.PE=new r,this.available=!0,this.anchor=this.PE.createParticle({p:this.options.pos,v:this.options.vel,immunity:!0}),this.particle=this.PE.createParticle({p:this.options.pos,v:this.options.vel}),this.spring=new u({period:this.options.springPeriod,dampingRatio:this.options.springDampingRatio,length:this.options.springLength,anchor:this.options.pos,callback:n.bind(this)}),this.PE.attach(this.spring,this.particle),this.surface=new h({size:this.options.size,content:this.options.content,classes:this.options.classes,properties:this.options.properties}),this.surface.on("click",o.bind(this))}function o(){this._addForce(this.options.clickForce)}function n(){this.options.limitTouches&&(this.available=!0)}var r=t("famous-physics/PhysicsEngine"),a=t("famous/View"),u=t("famous-physics/forces/Spring"),h=t("famous/Surface"),c=(t("famous-physics/math/Vector"),t("famous-utils/Utils"));s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={size:[200,200],pos:[0,0,0],vel:[0,0,0],springPeriod:200,springDampingRatio:.8,springLength:0,content:"",properties:{},classes:[],limitTouches:!1,forceMult:[10,10,10],callbackTolerance:1e-4,clickForce:[0,0,-.005]},s.prototype.setPeriod=function(t){this.spring.setPeriod(t)},s.prototype.setDamping=function(t){this.spring.setDampingRatio(t)},s.prototype.setCallbackTolerance=function(t){this.spring.opts.callbackTolerance=t},s.prototype._addForce=function(t){var e={x:0,y:0,z:0};c.isArray(t)?(e.x=t[0]*this.options.forceMult[0],e.y=t[1]*this.options.forceMult[1],e.z=t[2]*this.options.forceMult[2]):(e.x=t.x*this.options.forceMult[0],e.y=t.y*this.options.forceMult[1],e.z=t.z*this.options.forceMult[2]),this.options.limitTouches?this.available&&(this.particle.applyForce(e),this.available=!1,this.eventOutput.emit("click")):(this.particle.applyForce(e),this.eventOutput.emit("click"))},s.prototype.render=function(){return this.PE.step(),{opacity:1,transform:this.PE.getTransform(this.particle),target:this.surface.render()}},i.exports=s}),define("famous-ui/Buttons/SpringButton.ui",["require","exports","module","./SpringButton"],function(t,e,i){function s(){o.apply(this,arguments),this.autoUI=[{type:"label",uiOptions:{content:"PHYSICS",properties:{"border-bottom":"1px solid #f2786f",color:"#f2786f","font-size":"16px"}}},{option:"springPeriod",type:"slider",uiOptions:{range:[100,2e3],name:"SPRING DURATION"}},{option:"springPeriod",callback:this.setDamping,type:"slider",uiOptions:{range:[.002,.8],name:"SPRING DAMPING"}},{type:"label",uiOptions:{content:"APPEARANCE",properties:{"border-bottom":"1px solid white",color:"rgba( 255, 255, 255, 1 )","font-size":"16px"}}},{callback:this.setBackgroundColor,type:"colorPicker",uiOptions:{name:"Background Color"}},{callback:this.setBorderColor,type:"colorPicker",uiOptions:{name:"Stroke Color"}},{callback:this.setBorderRadius,type:"slider",uiOptions:{range:[0,100],name:"BORDER RADIUS"}}]}var o=t("./SpringButton");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.setPeriod=function(t){this.setOptions({period:t})},s.prototype.setDamping=function(t){this.setOptions({dampingRatio:t})},s.prototype.setBackgroundColor=function(t){this.surface.setProperties({"background-color":t.getCSSColor()})},s.prototype.setBorderColor=function(t){this.surface.setProperties({border:"1px solid "+t.getCSSColor()})},s.prototype.setBorderRadius=function(t){this.surface.setProperties({"border-radius":t+"px"})},i.exports=s}),define("famous-ui/ColorPicker/ColorButton",["require","exports","module","famous/EventHandler","famous/CanvasSurface"],function(t,e,i){function s(t,e){this.size=t,this.canvasSize=[2*this.size[0],2*this.size[1]],o.call(this,{size:this.size,canvasSize:this.canvasSize}),this.color=e,this.colorSurface(this.color.getHex())}var o=(t("famous/EventHandler"),t("famous/CanvasSurface"));s.prototype=Object.create(o.prototype),s.prototype.colorSurface=function(t){var e=this.getContext("2d");e.clearRect(0,0,this.canvasSize[0],this.canvasSize[1]),e.fillStyle=t,e.fillRect(0,0,this.canvasSize[0],this.canvasSize[1])},i.exports=s}),define("famous-ui/ColorPicker/CanvasPicker",["require","exports","module","famous/Surface","famous/CanvasSurface","famous/Matrix","famous/EventHandler","famous/Modifier","famous-utils/Utils","famous-color/Color","famous/Engine","famous-animation/Easing","./ColorButton","famous/View"],function(t,e,i){function s(t,e,i){b.call(this,i),this.eventInput.pipe(this.eventOutput),this.size=t,this.color=e.clone(),this.name=name,this.pos=[],this._dirty=!0,this.canvasSize=[2*this.size[0],2*this.size[1]],this._selectedCoords=[g.map(this.options.pickerPosX,0,1,0,this.size[0]-1,!0),g.map(this.options.pickerPosY,0,1,0,this.size[1]-1,!0)],this.gradient=new d({size:[this.size[0],this.size[0]],canvasSize:[2*this.size[0],2*this.size[0]]});var s=n.call(this,this.size[0]*this.options.pickerPosX,this.size[1]*this.options.pickerPosY);this.pickerTransform=new v({transform:m.translate(s[0],s[1],0)}),this.picker=this.options.colorPicker?new S(this.options.pickerSize,this.color):new f({size:this.options.pickerSize,classes:["ui-color-picker"]}),this.picker.setProperties(this.options.pickerProperties),this._mousemove=u.bind(this),this._mouseup=h.bind(this),this.gradient.on("mousedown",r.bind(this)),this.picker.on("mousedown",r.bind(this)),this.gradient.on("touchstart",a.bind(this)),this.picker.on("touchstart",a.bind(this)),this.gradient.on("touchmove",c.bind(this)),this.picker.on("touchmove",c.bind(this)),this.gradient.on("click",p),this.picker.on("click",p),this.on("updatePosition",this.updateColor.bind(this)),this.on("updatePosition",o.bind(this)),this.node.add(this.pickerTransform).link(this.picker),this.node.add(this.gradient)}function o(t){var e=n.call(this,this._selectedCoords[0],this._selectedCoords[1]);this.options.railsY&&(e[1]=0),this.pickerTransform.halt(),t.shouldAnimate?this.pickerTransform.setTransform(m.translate(e[0],e[1],this.options.pickerZ),this.options.transition):this.pickerTransform.setTransform(m.translate(e[0],e[1],this.options.pickerZ))}function n(t,e){var i=.5*this.options.pickerSize[0];return[g.map(t,0,this.size[0],-i,this.size[0]-i,!0),this.options.railsY?0:g.map(e,0,this.size[1],-i,this.size[1]-i,!0)]}function r(t){t.preventDefault(),t.stopPropagation(),this._dirty=!0,l.call(this,t,!0),y.on("mousemove",this._mousemove),y.on("mouseup",this._mouseup)}function a(t){this._dirty=!0,t.preventDefault(),t.stopPropagation(),l.call(this,t.touches[0])}function u(t){t.preventDefault(),t.stopPropagation(),l.call(this,t)}function h(t){t.preventDefault(),t.stopPropagation(),y.unbind("mousemove",this._mousemove),y.unbind("mouseup",this._mouseup)}function c(t){t.preventDefault(),t.stopPropagation(),l.call(this,t.touches[0])}function p(t){t.preventDefault(),t.stopPropagation()}function l(t,e){this._dirty&&(this.pos=g.getSurfacePosition(this.gradient),this._dirty=!1),this._selectedCoords=[g.clamp(t.pageX-this.pos[0],0,this.size[0]-1),g.clamp(t.pageY-this.pos[1],0,this.size[1]-1)],this.emit("updatePosition",{shouldAnimate:e})}var f=t("famous/Surface"),d=t("famous/CanvasSurface"),m=t("famous/Matrix"),v=(t("famous/EventHandler"),t("famous/Modifier")),g=t("famous-utils/Utils"),y=(t("famous-color/Color"),t("famous/Engine")),w=t("famous-animation/Easing"),S=t("./ColorButton"),b=t("famous/View");s.prototype=Object.create(b.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={pickerSize:[4,25],transition:{curve:w.inSineNorm,duration:50},pickerPosX:0,pickerPosY:0,pickerZ:2,railsY:!1,pickerProperties:{},colorPicker:!1},s.prototype.drawGradient=function(){},s.prototype.getColor=function(){return this.color},s.prototype.getSize=function(){return this.size
},s.prototype.updateColor=function(){var t=this.gradient.getContext("2d"),e=t.getImageData(2*this._selectedCoords[0],2*this._selectedCoords[1],1,1).data;this.color.setFromRGBA(e[0],e[1],e[2]),this.emit("change",{value:this.color})},i.exports=s}),define("famous-ui/Easing/CanvasDrawer",["require","exports","module"],function(t,e,i){function s(t,e,i,s,o){t.beginPath(),t.moveTo(e,i),t.lineTo(s,o),t.stroke(),t.closePath()}function o(t,e,i,s,o){t.beginPath(),t.rect(e,i,s,o),t.fill(),t.closePath()}i.exports={lineTo:s,rect:o}}),define("famous-ui/ColorPicker/AlphaPicker",["require","exports","module","famous/Surface","famous-color/Color","./CanvasPicker","famous-ui/Easing/CanvasDrawer"],function(t,e,i){function s(t,e,i){var s=i||[35,35];r.call(this,t,e,{railsY:!0,pickerProperties:{border:"3px solid white",borderRadius:t[0]/2+"px",boxShadow:"0px 1px 0px #888",marginTop:"2px"},pickerPosX:e.a,pickerSize:s,colorPicker:!0,normalizedColors:!0}),this.alpha=this.color.a,this.backgroundCanvas=n.call(this),this.drawGradient(),this.on("change",this.drawPickerColor.bind(this)),this.pickerColor}function o(t,e,i,s){colorAlpha=s.substring(0,s.length-2);var o=t.createLinearGradient(this.canvasSize[0]*e[0],this.canvasSize[1]*e[1],this.canvasSize[0]*i[0],this.canvasSize[1]*i[1]);o.addColorStop(0,colorAlpha+"0)"),o.addColorStop(1,colorAlpha+"1)"),t.fillStyle=o,t.fillRect(0,0,this.canvasSize[0],this.canvasSize[1])}function n(){var t=document.createElement("canvas");t.width=this.canvasSize[0],t.height=this.canvasSize[1];var e=t.getContext("2d");e.fillStyle="#ffffff",a.rect(e,0,0,this.canvasSize[0],this.canvasSize[1]),e.fillStyle="#cccccc";for(var i=16,s=2,o=height=this.canvasSize[0]/i,n=0;i>n;n++)for(var r=0;s>r;r++)n%2==0&&r%2==0?a.rect(e,o*n,r*height,o,height):n%2==1&&r%2==1&&a.rect(e,o*n,r*height,o,height);return t}var r=(t("famous/Surface"),t("famous-color/Color"),t("./CanvasPicker")),a=t("famous-ui/Easing/CanvasDrawer");s.prototype=Object.create(r.prototype),s.prototype.drawPickerColor=function(t){this.picker.colorSurface(t.value.getCSSColor())},s.prototype.setColor=function(t){this.color=t,this.drawGradient(),this.drawPickerColor({value:this.color})},s.prototype.drawGradient=function(){var t=this.gradient.getContext("2d");t.clearRect(0,0,this.canvasSize[0],this.canvasSize[1]),t.drawImage(this.backgroundCanvas,0,0);var e=this.color.clone();e.a=0,o.call(this,t,[0,0],[1,1],e.getCSSColor())},s.prototype.updateColor=function(){var t=parseFloat((this._selectedCoords[0]/this.size[0]).toFixed(2));this.color.a=t,this.emit("change",{value:this.color})},i.exports=s}),define("famous-ui/ColorPicker/GradientPicker",["require","exports","module","famous-color/Color","./CanvasPicker"],function(t,e,i){function s(t,e){var i=e.getSaturation()/100,s=e.getBrightness()/100;e.setSaturation(100),n.call(this,t,e,{pickerSize:[26,26],pickerProperties:{borderRadius:"13px",border:"1px solid white"},pickerPosX:i,pickerPosY:1-s}),this.drawGradient(this.color.getCSSColor())}function o(t,e,i,s,o){var n=t.createLinearGradient(this.canvasSize[0]*s[0],this.canvasSize[1]*s[1],this.canvasSize[0]*o[0],this.canvasSize[1]*o[1]);n.addColorStop(0,e),n.addColorStop(1,i),t.fillStyle=n,t.fillRect(0,0,this.canvasSize[0],this.canvasSize[1])}var n=(t("famous-color/Color"),t("./CanvasPicker"));s.prototype=Object.create(n.prototype),s.prototype.drawGradient=function(t){var e=this.gradient.getContext("2d");e.clearRect(0,0,this.canvasSize[0],this.canvasSize[1]),o.call(this,e,"rgba(255, 255, 255, 1)",t,[0,.5],[1,.5]),o.call(this,e,"rgba(0, 0, 0, 1)","rgba(0, 0, 0, 0)",[.5,1],[.5,0]),this.updateColor()},i.exports=s}),define("famous-ui/ColorPicker/HuePicker",["require","exports","module","famous-color/Color","./CanvasPicker"],function(t,e,i){function s(t,e,i){var s=new n,o=e.getHue();s.setFromHSL(o,100,50);var a=i||[35,35];r.call(this,t,s,{railsY:!0,pickerProperties:{border:"2px solid white",borderRadius:t[0]/2+"px",boxShadow:"0px 1px 0px #888",marginTop:"2px"},pickerPosX:1-o/360,pickerSize:a,colorPicker:!0,normalizedColors:!0}),this.drawGradient(this.color.getCSSColor()),this.on("change",this.drawPickerColor.bind(this)),this.pickerColor}function o(t,e,i){var s=t.createLinearGradient(this.canvasSize[0]*e[0],this.canvasSize[1]*e[1],this.canvasSize[0]*i[0],this.canvasSize[1]*i[1]);s.addColorStop(0,"rgb(255,   0,   0)"),s.addColorStop(.16,"rgb(255,   0, 255)"),s.addColorStop(.33,"rgb(0,     0, 255)"),s.addColorStop(.5,"rgb(0,   255, 255)"),s.addColorStop(.67,"rgb(0,   255,   0)"),s.addColorStop(.83,"rgb(255, 255,   0)"),s.addColorStop(1,"rgb(255,   0,   0)"),t.fillStyle=s,t.fillRect(0,0,this.canvasSize[0],this.canvasSize[1])}var n=t("famous-color/Color"),r=t("./CanvasPicker");s.prototype=Object.create(r.prototype),s.prototype.drawPickerColor=function(t){this.pickerColor!==t.value.hex&&(this.picker.colorSurface(t.value.hex),this.pickerColor=t.value.hex)},s.prototype.drawGradient=function(){var t=this.gradient.getContext("2d");t.clearRect(0,0,this.canvasSize[0],this.canvasSize[1]),o.call(this,t,[0,.5],[1,.5])},i.exports=s}),define("famous-ui/ColorPicker/ColorPicker",["require","exports","module","famous/Surface","famous/CanvasSurface","famous/Matrix","famous/EventHandler","famous/Modifier","famous/Transitionable","famous-utils/Utils","famous-color/Color","famous/View","famous/Engine","famous-animation/Easing","famous-utils/Time","./GradientPicker","./HuePicker","./AlphaPicker","./ColorButton"],function(t,e,i){function s(){f.apply(this,arguments),this.color=this.options.defaultColor,this.sizeState=new p([0,0]),this.visible=!1,this.boundListener=!1,this._closeListen=this.hide.bind(this)}function o(t){var e=t.value.getCSSColor();this.gradientPicker.drawGradient(e),a.call(this)}function n(){a.call(this)}function r(){a.call(this)}function a(){var t=this.gradientPicker.getColor();this.options.useAlpha&&(t.a=this.alphaPicker.getColor().a,this.alphaPicker.setColor(t)),this.color=t,u.call(this,{value:this.color}),this.eventOutput.emit("change",{value:this.color})}function u(t){var e=t.value.getCSSColor();this.openingSurface.colorSurface(e)}var h=(t("famous/Surface"),t("famous/CanvasSurface"),t("famous/Matrix")),c=(t("famous/EventHandler"),t("famous/Modifier")),p=t("famous/Transitionable"),l=(t("famous-utils/Utils"),t("famous-color/Color")),f=t("famous/View"),d=t("famous/Engine"),m=t("famous-animation/Easing"),v=(t("famous-utils/Time"),t("./GradientPicker")),g=t("./HuePicker"),y=t("./AlphaPicker"),w=t("./ColorButton");s.prototype=Object.create(f.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={transition:{curve:m.inOutBackNorm,duration:400},hueSize:30,pickerSize:[25,25],size:void 0,defaultColor:new l(80,255,255),name:"",useAlpha:!0,padding:5},s.prototype.init=function(){this.defaultPositions={gradientPicker:h.translate(0,this.options.size[1],1),huePicker:h.translate(0,this.options.size[1]+this.options.size[0],1),alphaPicker:h.translate(0,2*this.options.size[1]+this.options.size[0]+3*this.options.padding,1)},this.gradientPicker=new v([this.options.size[0],this.options.size[0]],this.color),this.gradientTransform=new c({transform:this.defaultPositions.gradientPicker}),this.huePicker=new g([this.options.size[0],this.options.hueSize],this.color,this.options.pickerSize),this.hueTransform=new c({transform:this.defaultPositions.huePicker}),this.openingSurface=new w(this.options.size,this.color,this.options.name),this.openingTransform=new c,this.node.add(this.hueTransform).link(this.huePicker),this.node.add(this.openingTransform).link(this.openingSurface),this.node.add(this.gradientTransform).link(this.gradientPicker),this.openingSurface.on("click",this.togglePicker.bind(this)),this.huePicker.on("change",o.bind(this)),this.gradientPicker.on("change",n.bind(this)),this.on("change",u.bind(this)),this.options.useAlpha&&(this.alphaPicker=new y([this.options.size[0],this.options.hueSize],this.color,this.options.pickerSize),this.alphaTransform=new c({transform:this.defaultPositions.alphaPicker}),this.node.add(this.alphaTransform).link(this.alphaPicker),this.alphaPicker.on("change",r.bind(this))),this.hide()},s.prototype.set=function(){},s.prototype.get=function(){return this.color},s.prototype.togglePicker=function(){0==this.visible?this.show():this.hide()},s.prototype.hide=function(){this.visible=!1;var t=h.multiply(h.scale(1,1e-7),this.defaultPositions.gradientPicker);this.hueTransform.halt(),this.hueTransform.setOpacity(0,this.options.transition),this.hueTransform.setTransform(t,this.options.transition),this.gradientTransform.halt(),this.gradientTransform.setOpacity(0,this.options.transition),this.gradientTransform.setTransform(t,this.options.transition),this.options.useAlpha&&(this.alphaTransform.halt(),this.alphaTransform.setOpacity(0,this.options.transition),this.alphaTransform.setTransform(t,this.options.transition)),this.sizeState.set([this.options.size[0],this.options.size[1]],this.options.transition),1==this.boundListener&&this.unbindClickClose()},s.prototype.show=function(){this.emit("showing"),this.visible=!0,this.hueTransform.halt(),this.hueTransform.setOpacity(1,this.options.transition),this.hueTransform.setTransform(this.defaultPositions.huePicker,this.options.transition),this.gradientTransform.halt(),this.gradientTransform.setOpacity(1,this.options.transition),this.gradientTransform.setTransform(this.defaultPositions.gradientPicker,this.options.transition),this.options.useAlpha?(this.alphaTransform.halt(),this.alphaTransform.setOpacity(1,this.options.transition),this.alphaTransform.setTransform(this.defaultPositions.alphaPicker,this.options.transition),this.sizeState.set([this.options.size[0],this.gradientPicker.getSize()[1]+this.huePicker.getSize()[1]+this.openingSurface.getSize()[1]+this.alphaPicker.getSize()[1]],this.options.transition)):this.sizeState.set([this.options.size[0],this.gradientPicker.getSize()[1]+this.huePicker.getSize()[1]+this.openingSurface.getSize()[1]],this.options.transition),d.defer(this.bindClickClose.bind(this))},s.prototype.setSize=function(t){this.options.size=t},s.prototype.getSize=function(){return this.options.size?this.sizeState.get():void 0},s.prototype.bindClickClose=function(){d.on("click",this._closeListen),this.boundListener=!0},s.prototype.unbindClickClose=function(){d.unbind("click",this._closeListen),this.boundListener=!1},s.prototype.render=function(){return{size:this.sizeState.get(),target:this.node.render()}},i.exports=s}),define("famous-ui/Dropdown/DropdownItem",["require","exports","module","famous/View","famous/Matrix","famous/Modifier","famous/Surface","famous-animation/Easing","famous-utils/Utils","famous-views/Scrollview"],function(t,e,i){function s(t,e,i){n.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.value=e,this._isSelected=i||!1,this._styleType,this.options.itemContent.unshift(this.options.name),this.surface=new u({size:this.options.itemSize,content:this.options.template.apply(this,this.options.itemContent)}),this.transform=new a,o.call(this),this.surface.pipe(this),this.surface.on("click",this.emit.bind(this,"selection",{value:this.value,origin:this})),this.node.link(this.transform).link(this.surface)}function o(){this.transform.halt(),this._isSelected?(this.surface.setProperties(this.options.selectedProperties),this._styleType=!0,this.transform.setTransform(r.move(r.scale(.7,.7),[.125*this.options.itemSize[0],.125*this.options.itemSize[1]])),this.transform.setTransform(r.identity,this.options.squishCurve,this.emit.bind(this,"selectionEnd"))):(this.surface.setProperties(this.options.properties),this._styleType=!1,this.transform.getFinalTransform()!==r.identity&&this.transform.setTransform(r.identity))}{var n=t("famous/View"),r=t("famous/Matrix"),a=t("famous/Modifier"),u=t("famous/Surface"),h=t("famous-animation/Easing");t("famous-utils/Utils"),t("famous-views/Scrollview")}s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={name:"Food",itemSize:[216,50],classes:[],properties:{color:"#ffffff","background-color":"#333",border:"1px solid #ccc"},selectedProperties:{},template:function(t){return'<h2 style="padding: 10px;">'+t+"</h2>"},defaultCurve:{curve:h.inOutBackNorm,duration:400},squishCurve:{curve:h.outBounceNorm,duration:400},itemContent:[]},s.prototype.setTemplate=function(){},s.prototype.setSelected=function(t){this._isSelected=t,o.call(this)},s.prototype.getSize=function(){return this.surface.getSize()},s.prototype.getName=function(){return this.options.name},i.exports=s}),define("famous-ui/Dropdown/Dropdown",["require","exports","module","famous/View","famous/Matrix","famous/Modifier","famous/Transitionable","famous/Surface","famous-animation/Easing","famous-utils/Utils","famous-views/Scrollview","./DropdownItem","famous/ContainerSurface"],function(t,e,i){function s(){f.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.options.scrollviewOpts.clipSize=this.options.height,this.label=void 0,this.defaultMtx=void 0,this.closedMtx=void 0,this.arrowClosedPos=void 0,this.arrowOpenPos=void 0,this.labelTemplate=void 0,this.itemTemplate=void 0,this.itemOpts=void 0,this.sizeState=new v([0,0]),this.items=[],this._isOpen=!1,this.initialized=!1}function o(){this.label=new g({content:this._getLabelContent(this.options.defaultSelected),size:this.options.itemSize}),this.label.setProperties(this.options.labelProperties),this.labelTransform=new m,this.node.add(this.labelTransform).link(this.label),this.label.on("click",this.toggleMenu.bind(this))}function n(){this.arrow=new g({size:this.options.arrowSize,content:this.options.arrowContent}),this.arrowTransform=new m({transform:this.arrowClosedPos}),this.node.add(this.arrowTransform).link(this.arrow)}function r(){this.scrollviewContainer=new b({size:[this.options.itemSize[0],this.options.height],properties:{overflow:"hidden"}}),this.scrollview=new w(this.options.scrollviewOpts),this.scrollview.sequenceFrom(this.items),this.scrollviewTransform=new m({transform:this.closedMtx,opacity:0,size:[this.options.itemSize[0],this.options.itemSize[1]]}),this.node.add(this.scrollviewTransform).link(this.scrollviewContainer),this.scrollviewContainer.add(this.scrollview)}function a(){for(var t=0;t<this.options.items.length;t++){var e=this.options.items[t];this.addItem(e.name,e.value,e.content)}this.value=this.items[this.options.defaultSelected].value}function u(t){var e=t?this.arrowOpenPos:this.arrowClosedPos;this.arrowTransform.setTransform(e,this.options.defaultCurve)}function h(t){var e=t?1:1e-6,i=t?[this.options.itemSize[0],this.options.height]:[this.options.itemSize[0],this.options.itemSize[1]],s=t?this.defaultMtx:this.closedMtx;this.scrollviewTransform.setOpacity(e,this.options.defaultCurve),this.scrollviewTransform.setTransform(s,this.options.defaultCurve),this.sizeState.set(i,this.options.defaultCurve)}function c(t){var e=this.items.indexOf(t.origin),i=this.items[e];i&&this.set(i.value,e)}function p(t){for(var e=0;e<this.items.length;e++)t==e?this.items[e].setSelected(!0):this.items[e].setSelected(!1)}function l(t){for(var e=0;e<this.items.length;e++)if(this.items[e].value==t)return e;return-1}var f=t("famous/View"),d=t("famous/Matrix"),m=t("famous/Modifier"),v=t("famous/Transitionable"),g=t("famous/Surface"),y=t("famous-animation/Easing"),w=(t("famous-utils/Utils"),t("famous-views/Scrollview")),S=t("./DropdownItem"),b=t("famous/ContainerSurface");s.prototype=Object.create(f.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={items:[{name:"Apples",value:"apples"},{name:"Oranges",value:"oranges"}],defaultSelected:0,itemSize:void 0,labelProperties:{color:"#ffffff","background-color":"#333",border:"1px solid #ccc"},itemClasses:[],itemProperties:{color:"#ccc","background-color":"#fff",border:"1px solid #ccc"},itemSelectedProperties:{border:"3px solid #33ccff"},scrollviewOpts:{direction:1,clipSize:void 0},height:125,defaultCurve:{curve:y.inOutBackNorm,duration:500},labelFadeCurve:{curve:y.inOutSineNorm,duration:200},arrowSize:[20,20],arrowPadding:[5,10,1],arrowContent:'<img src="js/famous-ui/img/arrowRight.svg"></img>',itemTemplate:function(t){return'<h4 style="line-height:'+this.options.itemSize[1]+'px; padding-left: 10px;">'+t+"</h4>"},labelTemplate:function(t){return'<h3 style="line-height:'+this.options.itemSize[1]+'px; padding-left: 10px;">'+t+"</h3>"},autoClose:!1},s.prototype.init=function(){this.defaultMtx=d.translate(0,this.options.itemSize[1],0),this.closedMtx=d.move(d.scale(1,.01),[0,this.options.itemSize[1],0]),this.arrowClosedPos=d.translate(this.options.itemSize[0]-this.options.arrowSize[0]-this.options.arrowPadding[0],this.options.arrowPadding[1],this.options.arrowPadding[2]),this.arrowOpenPos=d.move(d.rotateZ(.5*Math.PI),[this.options.itemSize[0]-.25*this.options.arrowSize[0]-this.options.arrowPadding[0],this.options.arrowPadding[1],this.options.arrowPadding[2]]),this.options.itemTemplate=this.options.itemTemplate.bind(this),this.options.labelTemplate=this.options.labelTemplate.bind(this),this.itemOpts={itemSize:this.options.itemSize,itemProperties:this.options.itemProperties,selectedProperties:this.options.itemSelectedProperties,template:this.options.itemTemplate,classes:this.options.itemClasses},n.call(this),r.call(this),a.call(this),o.call(this),this.sizeState.set(this.options.itemSize),this.initialized=!0},s.prototype.addItem=function(t,e,i){var s=this.itemOpts;s.name=t,i&&(s.itemContent=i);var o=new S(s,e,!1);o.setTemplate(this.itemTemplate),o.transform.setOpacity(0),o.transform.setOpacity(1,this.options.defaultCurve),this.items.push(o),o.pipe(this.scrollview),o.on("selection",c.bind(this)),this.options.autoClose&&o.on("selectionEnd",this.closeMenu.bind(this))},s.prototype.openMenu=function(){this._isOpen=!0,u.call(this,this._isOpen),h.call(this,this._isOpen)},s.prototype.closeMenu=function(){this._isOpen=!1,u.call(this,this._isOpen),h.call(this,this._isOpen)},s.prototype.toggleMenu=function(){this._isOpen?this.closeMenu():this.openMenu()},s.prototype.get=function(){return this.value},s.prototype._getLabelContent=function(t){var e=this.items[t],i=e.options.itemContent,s=this.options.labelTemplate.apply(this,i);return s},s.prototype.set=function(t){var e=l.call(this,t),i=this.items[e];this.value=i.value,p.call(this,e);var s=this._getLabelContent(e);this.updateLabel(s),this.emit("change",{value:this.value})},s.prototype.setHeight=function(t){this.options.height=t,this.options.scrollviewOpts.clipSize=t,this.scrollview.options.clipSize=t,this.scrollviewContainer.setSize(this.options.itemSize[0],t)},s.prototype.removeItem=function(t){var e;"string"==typeof t?e=l.call(this,t):"number"==typeof t&&(e=t),-1!==e&&this.items[e].transform.setOpacity(0,this.options.defaultCurve,function(t){this.items.splice(t,1)}.bind(this,e))},s.prototype.updateLabel=function(t){var e=function(t){this.label.setContent(t),this.labelTransform.setOpacity(1,this.options.labelFadeCurve)};this.labelTransform.setOpacity(0,this.options.labelFadeCurve,e.bind(this,t))},s.prototype.setSize=function(t){this.options.itemSize=[t[0],2*t[1]]},s.prototype.getSize=function(){return this.initialized?this.sizeState.get():void 0},i.exports=s}),define("famous-ui/Easing/EasingVisualizer",["require","exports","module","famous-animation/Easing","famous/CanvasSurface","./CanvasDrawer"],function(t,e,i){function s(t){this.opts={size:[1e3,1e3],strokeColor:"#33ccff",fillColor:"#333",fn:n.inOutBackNorm,divisions:30},this.setOpts(t),this.opts.canvasSize=[2*this.opts.size[0],2*this.opts.size[1]],this.opts.gutter=Math.floor(.35*this.opts.size[0]),r.call(this,{size:this.opts.size,canvasSize:this.opts.canvasSize}),this.update()}function o(){var t=document.createElement("canvas");t.width=this.opts.canvasSize[0],t.height=this.opts.canvasSize[1];var e=t.getContext("2d");e.strokeStyle=this.opts.strokeColor,e.lineWidth=2,e.fillStyle=this.opts.fillColor,a.rect(e,0,0,this.opts.canvasSize[0],this.opts.canvasSize[1]);for(var i=1/this.opts.divisions,s=this.opts.canvasSize[0]-this.opts.gutter,o=this.opts.canvasSize[1]-this.opts.gutter,n=.5*this.opts.gutter,r=1;r<this.opts.divisions;r++){var u=i*(r-1),h=i*r,c=u*s+n,p=h*s+n,l=o-this.opts.fn(u)*(o-this.opts.gutter),f=o-this.opts.fn(h)*(o-this.opts.gutter);a.lineTo(e,c,l,p,f)}return t}var n=t("famous-animation/Easing"),r=t("famous/CanvasSurface"),a=t("./CanvasDrawer");s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.prototype.setOpts=function(t,e){e||(e=this.opts);for(var i in t)e[i]=t[i]},s.prototype.setCurve=function(t){this.opts.fn=t,this.update()},s.prototype.update=function(){var t=o.call(this),e=this.getContext("2d");e.drawImage(t,0,0)},i.exports=s}),define("famous-ui/Easing/EasingBool",["require","exports","module","./EasingVisualizer","famous/EventHandler"],function(t,e,i){function s(t,e){this.easingOpts={value:!1,selectedProperties:{border:"3px solid #33ccff"},normalProperties:{border:"none"}},n.apply(this,arguments),this.setOptions(e,this.easingOpts),this.on("click",this.toggle.bind(this)),o.call(this)}function o(){var t=this.easingOpts.value?this.easingOpts.selectedProperties:this.easingOpts.normalProperties;this.setProperties(t)}{var n=t("./EasingVisualizer");t("famous/EventHandler")}s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.silentSet=function(t){this.easingOpts.value=t,o.call(this)},s.prototype.toggle=function(){this.set(!this.value)},s.prototype.set=function(t){this.easingOpts.value=t,this.emit("boolChange",{value:this.easingOpts.value}),o.call(this)},i.exports=s}),define("famous-ui/Easing/MultiEasingToggle",["require","exports","module","./EasingBool","famous-animation/Easing","famous/View","famous/Modifier","famous/Matrix"],function(t,e,i){function s(){u.apply(this,arguments),this.value=this.options.easingFns[this.options.defaultSelected],this.height=0,this.bools=[],this.initialized=!1}function o(){for(var t=this.options.easingFns.length,e=[],i=0,s=-1,o=0;t>o;o++)s=o%this.options.columns,0===s&&0!==o&&i++,e.push(c.translate(s*this.options.easingBoolSize[0],i*this.options.easingBoolSize[1],0)),o==t-1&&(this.options.size[1]=(i+1)*this.options.easingBoolSize[1]);return e}function n(t,e){for(var i=!e,s=0;s<this.bools.length;s++)s==t?this.bools[s].silentSet(e):this.bools[s].silentSet(i);this.value=this.options.easingFns[t],this.eventOutput.emit("change",{value:this.value})}var r=t("./EasingBool"),a=t("famous-animation/Easing"),u=t("famous/View"),h=t("famous/Modifier"),c=t("famous/Matrix");s.prototype=Object.create(u.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={easingFns:[a.inOutBackNorm,a.outBounceNorm,a.inOutBackNorm,a.outBounceNorm],columns:3,size:void 0,panelSize:216,easingAspect:[1.25,1],defaultSelected:0,easingBoolSize:[void 0,void 0],selectedProperties:void 0,normalProperties:void 0},s.prototype.init=function(){for(var t=o.call(this),e=0;e<this.options.easingFns.length;e++){value=e==this.options.defaultSelected?!0:!1;var i={value:value};this.options.selectedProperties&&(i.selectedProperties=this.options.selectedProperties),this.options.normalProperties&&(i.normalProperties=this.options.normalProperties);var s=new r({fn:this.options.easingFns[e],size:this.options.easingBoolSize},i);s.on("boolChange",n.bind(this,e)),s.pipe(this.eventOutput),this.node.add(new h(t[e])).link(s),this.bools.push(s)}this.initialized=!0},s.prototype.set=function(t){var e=this.options.easingFns.indexOf(t);n.call(this,e,!0)},s.prototype.get=function(){return this.value},s.prototype.setSize=function(t){this.options.easingBoolSize[0]=Math.floor(t[0]/this.options.columns),this.options.easingBoolSize[1]=Math.floor(this.options.easingBoolSize[0]/this.options.easingAspect[0]),this.options.size=[],this.options.size[0]=t[0]},s.prototype.getSize=function(){return this.initialized?this.options.size:void 0},i.exports=s}),define("famous-ui/Text/Label",["require","exports","module","famous/Surface","famous/Engine","famous/EventHandler"],function(t,e,i){function s(t){this.options={size:void 0,content:"",properties:{},classes:["ui-label"]};for(var e in t)this.options[e]=t[e];this._resizeDirty,this.surface,this._checkHeight=o.bind(this)}function o(){this._resizeDirty&&this.surface._currTarget&&(this.options.size=[this.options.size[0],this.surface._currTarget.firstChild.clientHeight],this.surface.setSize(this.options.size),this._resizeDirty=!1)}var n=t("famous/Surface"),r=t("famous/Engine"),a=t("famous/EventHandler");s.prototype.init=function(){this.surface=new n({size:this.options.size,content:"<div>"+this.options.content+"</div>",classes:this.options.classes,properties:this.options.properties}),a.setInputHandler(this,this.surface),a.setOutputHandler(this,this.surface),this._setDirty()},s.prototype.setContent=function(t){this.options.content=t,this.surface.setContent("<div>"+this.options.content+"</div>")},s.prototype.setSize=function(t){this.options.size=[t[0],0],this._setDirty()},s.prototype._setDirty=function(){this._resizeDirty=!0,r.on("postrender",this._checkHeight)},s.prototype.getSize=function(){return this.options.size?this.options.size:void 0},s.prototype.render=function(){return this.surface.render()},i.exports=s}),define("famous-ui/Toggles/BoolToggle",["require","exports","module","famous/Surface","famous/Matrix","famous/EventHandler","famous/Modifier","famous/Modifier","famous-animation/Easing","famous/RenderNode","famous-utils/Utils","famous/View"],function(t,e,i){function s(t){c.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.value=t.value,this.name=t.name}function o(){this.toggle()}function n(){this.transform.halt();var t=this.value?a.scale(1,1,1):a.move(a.scale(1e-4,1e-4,1e-4),[.5*this.options.size[1],.5*this.options.size[1],0]),e=this.value?1:0;this.transform.setTransform(t,this.options.transition),this.transform.setOpacity(e,this.options.transition)}var r=t("famous/Surface"),a=t("famous/Matrix"),u=(t("famous/EventHandler"),t("famous/Modifier"),t("famous/Modifier")),h=t("famous-animation/Easing"),c=(t("famous/RenderNode"),t("famous-utils/Utils"),t("famous/View"));s.prototype=Object.create(c.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={size:void 0,value:!0,name:"bool toggle",transition:{duration:250,curve:h.inOutBackNorm},padding:20},s.prototype.init=function(){void 0==this.options.size&&(this.options.size=[void 0,void 0]);var t=1==this.options.value?1:0;this.label=new r({size:this.options.size,content:'<div style="border: 1px solid #ffffff; width:'+(this.options.size[1]-1)+"px; height: "+(this.options.size[1]-1)+'px; float: left;"></div><div class="slider-label" style="float: left; margin-left:'+.5*this.options.size[1]+"px;margin-top:"+.1*this.options.size[1]+'px">'+this.name+"</div>",properties:{fontSize:.75*this.options.size[1]+"px"}}),this.fill=new r({size:[this.options.size[1],this.options.size[1]],properties:{backgroundColor:"#ffffff"}}),this.transform=new u({opacity:t,transform:a.translate(0,0,1),size:[this.options.size[1],this.options.size[1]]}),this.labelTransform=new u({transform:a.translate(0,0,1)}),this.fill.pipe(this),this.label.pipe(this),this.on("click",o.bind(this)),this.node.add(this.transform).link(this.fill),this.node.add(this.labelTransform).link(this.label),this.set(this.options.value)},s.prototype.silentSet=function(t){this.value=t,n.call(this)},s.prototype.toggle=function(){this.set(!this.value)},s.prototype.set=function(t){this.value!==t&&(this.value=t,this.emit("change",{value:this.value}),n.call(this))},s.prototype.get=function(){return this.value},s.prototype.getSize=function(){return this.options.size},s.prototype.setSize=function(t){this.options.size=t},i.exports=s}),define("famous-ui/Toggles/MultiBoolToggle",["require","exports","module","famous/Surface","famous/RenderNode","famous/Matrix","famous/Modifier","famous/Transitionable","famous/EventHandler","famous/View","famous-animation/Easing","./BoolToggle"],function(t,e,i){function s(){p.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.value,this.label,this.labelTransform,this.usingLabel=!1,this.bools=[],this.boolValues=[],this.transforms=[]}function o(){void 0!==this.options.name&&(this.label=new a({size:this.options.size,content:'<div class="slider-label" style="margin-top:'+.1*this.options.size[1]+'px">'+this.options.name+"</div>"}),this.label.setProperties({"font-size":.75*this.options.size[1]+"px"}),this.labelTransform=new h,this.transforms.push(this.labelTransform),this.usingLabel=!0,this.node.add(this.labelTransform).link(this.label),r.call(this))}function n(){for(var t=0;t<this.options.values.length;t++){var e=t==this.options.defaultSelected?!0:!1;e&&(this.value=this.options.values[t]),this._addToggle(e,this.options.values[t],!0)}}function r(){this.sizeState.halt();var t=this.transforms.length,e=t*this.options.size[1]+(t-1)*this.options.padding;this.sizeState.set([this.options.size[0],e],this.options.sizeTransition)}var a=t("famous/Surface"),u=(t("famous/RenderNode"),t("famous/Matrix")),h=t("famous/Modifier"),c=t("famous/Transitionable"),p=(t("famous/EventHandler"),t("famous/View")),l=t("famous-animation/Easing"),f=t("./BoolToggle");s.prototype=Object.create(p.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={size:void 0,values:[],defaultSelected:0,name:void 0,padding:20,sizeTransition:{curve:l.inOutBackNorm,duration:400},opacityTransition:{curve:l.inOutBackNorm,duration:400}},s.prototype.init=function(){void 0==this.options.size&&(this.options.size=[void 0,void 0]),this.sizeState=new c([this.options.size[0],0]),o.call(this),n.call(this)},s.prototype.setSelectedToggle=function(t){for(var e=0;e<this.bools.length;e++)e==t?(this.bools[e].silentSet(!0),this.boolValues[e]=!0,this.value=this.options.values[e],this.emit("change",{value:this.options.values[e]})):(this.bools[e].silentSet(!1),this.boolValues[e]=!1)},s.prototype.set=function(t){var e=this.options.values.indexOf(t);this.setSelectedToggle(e)},s.prototype.get=function(){return this.value},s.prototype._addToggle=function(t,e,i){var s=this.transforms.length,o=new f({size:this.options.size,value:t,name:e});o.init(),o.pipe(this),i||this.options.values.push(e);var n=new h({transform:u.translate(0,this.options.size[1]*s+this.options.padding*s),opacity:0});n.setOpacity(1,this.options.opacityTransition),this.bools.push(o),this.transforms.push(n),this.node.add(n).link(o),o.silentSet(t),this.boolValues.push(t),o.on("change",function(t){1==this.boolValues[t]?this.bools[t].silentSet(!0):this.setSelectedToggle(t)}.bind(this,this.usingLabel?s-1:s)),r.call(this)},s.prototype.getSize=function(){return this.sizeState?this.sizeState.get():void 0},s.prototype.setSize=function(t){this.options.size=t},s.prototype.removeToggle=function(t){var e,i;"number"==typeof t?e=t:"string"==typeof t&&(e=this.options.values.indexOf(t)),e>=0&&(i=this.usingLabel?e+1:e,this.transforms[i].setOpacity(0,this.options.sizeTransition,function(t,e){this.branches.splice(e,1),this.bools.splice(t,1),this.options.values.splice(t,1),this.transforms.splice(e,1),r.call(this)}.bind(this,e,i)))},i.exports=s}),define("famous-ui/PanelScrollview",["require","exports","module","famous-views/Scrollview"],function(t,e,i){function s(t){this.panelOpts=Object.create(s.DEFAULT_OPTIONS),t&&this.setPanelOptions(t),n.call(this,this.panelOpts.scrollviewOptions),this.uiItems=[],this._sequenced=!1}function o(t){this.uiItems.push(t),this._sequenced===!1&&(this.sequenceFrom(this.uiItems),this._sequenced=!0),void 0===t.getSize()&&t.setSize&&t.setSize([this.panelOpts.width,this.panelOpts.sliderHeight]),t.init&&t.init(),t.pipe&&t.pipe(this)}var n=t("famous-views/Scrollview");s.DEFAULT_OPTIONS={scrollviewOptions:{direction:"y",itemSpacing:8},width:256,sliderHeight:16},s.prototype=Object.create(n.prototype),s.prototype.setPanelOptions=function(t){for(var e in s.DEFAULT_OPTIONS)void 0!==t[e]&&(this.panelOpts[e]=t[e])},s.prototype.reset=function(){this.uiItems=[],this._sequenced=!1},s.prototype.add=function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)o.call(this,t[e]);else o.call(this,t)},i.exports=s}),define("famous-ui/Slider",["require","exports","module","famous/Surface","famous/Matrix","famous/EventHandler","famous-utils/Utils","famous/Engine","famous/View"],function(t,e,i){function s(){w.apply(this,arguments),this.eventInput.pipe(this.eventOutput),void 0===this.options.defaultValue&&(this.options.defaultValue=.5*(this.options.range[0]+this.options.range[1])),this.pos=[],this.value=this.options.defaultValue,this._dirty=!0,this.currTouchId=null
}function o(t){t.preventDefault(),t.stopPropagation()}function n(t){if(o(t),!this.currTouchId){var e=t.changedTouches[0];this.currTouchId=e.identifier,this._handleStart(e)}}function r(t){o(t),y.on("mousemove",this._mouseMove),y.on("mouseup",this._mouseUp),y.on("mouseout",this._mouseLeave),this._handleStart(t)}function a(t){this._dirty&&(this.pos=g.getSurfacePosition(this.back),this._dirty=!1),this.set(g.map((t.pageX-this.pos[0])/this.options.size[0],0,1,this.options.range[0],this.options.range[1],!0))}function u(t){o(t);for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e];if(i.identifier==this.currTouchId){this._handleMove(i);break}}}function h(t){o(t),this._handleMove(t)}function c(t){this.set(g.map((t.pageX-this.pos[0])/this.options.size[0],0,1,this.options.range[0],this.options.range[1],!0))}function p(t){o(t);for(var e=0;e<t.changedTouches.length;e++)if(t.changedTouches[e].identifier==this.currTouchId){this.currTouchId=void 0;break}}function l(t){o(t),this._endMouse()}function f(t){var e=t.relatedTarget||t.toElement;e&&"HTML"!=e.nodeName||this._endMouse()}function d(){return this.options.name+" <span class='slider-value' style='float:right'>"+this.value+"</span>"}var m=t("famous/Surface"),v=t("famous/Matrix"),g=(t("famous/EventHandler"),t("famous-utils/Utils")),y=t("famous/Engine"),w=t("famous/View");s.prototype=Object.create(w.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={size:void 0,range:[0,10],defaultValue:void 0,precision:void 0,name:"Slider",backOpacity:1},s.prototype.init=function(){this.fill=new m({size:this.options.size,classes:["slider-fill","no-user-select"]}),this.back=new m({size:this.options.size,classes:["slider-back","no-user-select"]}),this.backMatrix=v.translate(0,0,1),this.label=new m({size:this.options.size,classes:["slider-label","no-user-select"],properties:{fontSize:.75*this.options.size[1]+"px",lineHeight:this.options.size[1]+"px"},content:d.call(this)}),this.labelMatrix=v.translate(0,this.options.size[1],1.2),this.back.pipe(this),this.label.pipe(this),this.fill.pipe(this),this.on("touchstart",n.bind(this)),this.on("touchmove",u.bind(this)),this.on("touchend",p.bind(this)),this.on("touchcancel",p.bind(this)),this.on("mousedown",r.bind(this)),this.on("mousedown",r.bind(this)),this._mouseMove=h.bind(this),this._mouseUp=l.bind(this),this._mouseLeave=f.bind(this),this._handleStart=a.bind(this),this._handleMove=c.bind(this),this._add(this.fill),this._add(this.back),this._add(this.label)},s.prototype._endMouse=function(){y.unbind("mousemove",this._mouseMove),y.unbind("mouseup",this._mouseUp),y.unbind("mouseout",this._mouseLeave)},s.prototype.get=function(){return this.value},s.prototype.getRange=function(){return this.options.range},s.prototype.setSize=function(t){this.options.size=t},s.prototype.getSize=function(){return this.options.size?[this.options.size[0],2*this.options.size[1]]:void 0},s.prototype.set=function(t){return void 0!==this.options.precision&&(t=parseFloat(t.toFixed(this.options.precision))),this.value=Math.min(Math.max(this.options.range[0],t),this.options.range[1]),this.setLabelContent(),this.emit("change",{value:this.get(),range:this.range}),this},s.prototype.setLabelContent=function(){this.label.setContent(d.call(this))},s.prototype.render=function(){var t=(this.get()-this.options.range[0])/(this.options.range[1]-this.options.range[0]);return[{transform:this.backMatrix,opacity:this.options.backOpacity,target:this.back.render()},{transform:v.move(v.scale(t,1,1),[0,0,2]),target:this.fill.render()},{transform:this.labelMatrix,target:this.label.render()}]},i.exports=s}),define("famous-ui/AutoUI",["require","exports","module","famous/View","famous/Matrix","famous/Modifier","famous-animation/Easing","famous-ui/PanelScrollview","famous-ui/Toggles/BoolToggle","famous-ui/Toggles/MultiBoolToggle","famous-ui/Easing/MultiEasingToggle","famous-ui/Dropdown/Dropdown","famous-ui/Slider","famous-ui/ColorPicker/ColorPicker","famous-ui/Text/Label"],function(t,e,i){function s(){n.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.panel=new u(this.options.panelOptions),this.pipe(this.panel),this.autoUIElements=[],this.autoUIElementsMap={},this.panelModifier=new a({transform:this.options.defaultMatrix}),this._add(this.panelModifier).link(this.panel),this.options.defaultSelected&&this.setCurrentObject(this.options.defaultSelected)}function o(t){for(var e=0;e<t.length;e++){var i=t[e];i.type&&this._optionToUI(i)}}var n=t("famous/View"),r=t("famous/Matrix"),a=t("famous/Modifier"),u=(t("famous-animation/Easing"),t("famous-ui/PanelScrollview")),h=t("famous-ui/Toggles/BoolToggle"),c=t("famous-ui/Toggles/MultiBoolToggle"),p=t("famous-ui/Easing/MultiEasingToggle"),l=t("famous-ui/Dropdown/Dropdown"),f=t("famous-ui/Slider"),d=t("famous-ui/ColorPicker/ColorPicker"),m=t("famous-ui/Text/Label"),v=0;s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={saveValues:!1,panelOptions:{},defaultSelected:void 0,defaultMatrix:r.translate(0,0)},s.UI_ELEMENTS={slider:f,dropdown:l,colorPicker:d,toggle:h,multiBoolToggle:c,easing:p,label:m},s.prototype.setCurrentObject=function(t,e){t!==this.currentObj&&(this.currentObject=t,e=e?e:t.autoUI,o.call(this,e))},s.prototype.setScrollviewOptions=function(t){return this.panel.setOptions(t)},s.prototype.toJSON=function(){for(var t=0;t<this.autoUIElements.length;t++);},s.prototype.reset=function(){this.panel.reset(),this.autoUIElements=[],this.autoUIElementsMap={}},s.prototype.getSize=function(){return[this.panel.panelOpts.width,void 0]},s.prototype.clear=function(t){this.reset(),t&&t()},s.prototype._optionToUI=function(t){var e=s.UI_ELEMENTS[t.type],i=new e(t.uiOptions);if(this.panel.add(i),this.autoUIElements.push(i),this.autoUIElementsMap[t.key]?this.autoUIElementsMap[t.key+v++]=i:this.autoUIElementsMap[t.key]=i,t.key){var o=t.object?t.object:this.currentObject;i.on("change",function(t,e,i){this.optionsManager?this.optionsManager.set(t,i.value):void 0!==this.setOptions?this.setOptions({key:i.value}):this.options[t]&&(this.options[t]=i.value),e&&e.call(this,i.value)}.bind(o,t.key,t.callback))}else t.callback&&i.on("change",function(t,e){t.call(this,e.value)}.bind(this.currentObject,t.callback))},s.prototype.getUIElementsMap=function(){return this.autoUIElementsMap},s.prototype.get=function(t){return this.autoUIElementsMap[t]},i.exports=s}),define("famous-utils/FormatTime",["require","exports","module"],function(t,e,i){function s(t,e){var i=t.toString().match(/(\d+)/g),s=new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5],0),r=new Date,a=.001*(r.getTime()-s.getTime()),u=parseInt(a/60,10),h=parseInt(u/60,10),c=parseInt(h/24,10),p=o(s),l=10,f="";return 720>u?60>u?2>u?(f="just now",l=1,[f,l]):30>u?(f=u+" minutes ago",l=2,[f,l]):40>u?(f="about a half hour ago",l=2,[f,l]):50>u?(f="about 45 minutes ago",l=3,[f,l]):(f="about an hour ago",l=4,[f,l]):(f=1==e?p[6]+":"+p[7]+p[8]:"earlier today at "+p[6]+":"+p[7]+p[8],l=5,[f,l]):1440>u?(f="yesterday at "+p[6]+":"+p[7]+p[8],l=6,[f,l]):c>=1&&2>=c?(f="yesterday at "+p[6]+":"+p[7]+p[8],l=7,[f,l]):6>c?(f=p[0]+" at "+p[6]+":"+p[7]+p[8],l=8,[f,l]):30>c?(f=1==e?p[3]+"/"+p[1]+" at "+p[6]+":"+p[7]+p[8]:p[4]+" "+p[1]+p[2]+" around "+p[6]+p[8],l=9,[f,l]):(f=n(p,r),l=10,[f,l])}function o(t){var e=t.getDate(),i=t.getDay(),s=t.getMonth()+1,o=t.getFullYear(),n=t.getHours(),r=t.getMinutes().toString(),a=12>n?"am":"pm";r.length<2&&(r="0"+r);var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h={1:"st",2:"nd",3:"rd",4:"th",5:"th",6:"th",7:"th",8:"th",9:"th",10:"th",11:"th",12:"th",13:"th",14:"th",15:"th",16:"th",17:"th",18:"th",19:"th",20:"th",21:"st",22:"nd",23:"rd",24:"th",25:"th",26:"th",27:"th",28:"th",29:"th",30:"th",31:"st"},c={1:"Jan",2:"Feb",3:"Mar",4:"April",5:"May",6:"June",7:"July",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"};return 0===n&&(n=12),n>12&&(n-=12),[u[i],e,h[e],s,c[s],o,n,r,a]}function n(t,e){var i=(e?e:new Date,e.getFullYear()===t[5]?t[4]+" "+t[1]+t[2]:t[4]+" "+t[1]+t[2]+" "+t[5]);return i}i.exports=s}),define("famous-utils/NoiseImage",["require","exports","module"],function(t,e,i){function s(t,e,i){t||(t=[128,128]),e||(e=8),o.width=t[0],o.height=t[1];var s=e>>1,r=o.width/e,a=e*e>>1,u=1/s;h(i),n.fillRect(0,0,t[0],t[1]),h(i);for(var c,p,l=0;a>l;l++)Math.random()+.5>>0&&(p=l*u>>0,c=l-s*p,n.fillRect(c*r,p*r,r,r),n.fillRect((e-(c+1))*r,p*r,r,r));var f=o.toDataURL("image/png");return f}var o=document.createElement("canvas"),n=o.getContext("2d"),r=function(t){var e=361*Math.random()>>0,i=t?45*t-(46*Math.random()>>0):e;return i},a=function(){return 30+71*Math.random()>>0},u=function(){return 30+71*Math.random()>>0},h=function(t){n.fillStyle="hsl("+r(t)+","+a()+"%,"+u()+"%)"};i.exports={generate:s}}),define("famous-views/Accordion",["require","exports","module","famous/Matrix","famous/Transitionable","famous/Modifier","famous-animation/Easing"],function(t,e,i){function s(t){this.state=new n(0);var t=t||{};t.curve||(t.curve=r.inOutQuadNorm),t.duration||(t.duration=500);var e={curve:t.curve,duration:t.duration};this.options={transition:e},this.target=void 0,this._isOpen=!1}var o=t("famous/Matrix"),n=t("famous/Transitionable"),r=(t("famous/Modifier"),t("famous-animation/Easing"));s.prototype.render=function(){return this.state.get()?{transform:o.translate(0,(this.state.get()-1)*this.target.getSize()[1],100*(this.state.get()-1)),target:this.target.render()}:void 0},s.prototype.getSize=function(){var t=this.target.getSize();return[t[0],this.state.get()*t[1]]},s.prototype.show=function(t){this.target=t,this.open()},s.prototype.setState=function(t,e,i){this.state.halt(),this.state.set(t,e,i)},s.prototype.open=function(t){this._isOpen=!0,this.setState(1,this.options.transition,t)},s.prototype.close=function(t){this._isOpen=!1,this.setState(0,this.options.transition,t)},s.prototype.toggle=function(t){this._isOpen?this.close(t):this.open(t)},i.exports=s}),define("famous-views/ControlSet",["require","exports","module","famous/EventHandler","famous/Matrix"],function(t,e,i){function s(){this.eventOutput=new o,o.setOutputHandler(this,this.eventOutput),this.controls=[]}var o=t("famous/EventHandler"),n=t("famous/Matrix");s.prototype.include=function(t,e){e.on("change",function(e){this.eventOutput.emit(t,{value:e.value})}.bind(this)),this.controls.push(e)},s.prototype.render=function(){for(var t=[],e=0,i=0,s=0;s<this.controls.length;s++){var o=this.controls[s],r=o.getSize();t.push({transform:n.translate(0,e),target:o.render()}),e+=r[1],i=Math.max(i,r[0])}return{size:[i,e],target:t}},i.exports=s}),define("famous-views/EnergyHelper",["require","exports","module"],function(t,e,i){function s(t,e,i){this.x=0,this.v=0,this.agents=[],this.featureSize=i?i:.5,this.jitter=Math.min(1e-4,.1*this.featureSize),this.minStepTime=1,this.lastUpdateTime=Date.now(),this.atRest=!1,this.set(t,e)}s.drag=function(t){return function(e,i,s){return-t*i*i*s}},s.friction=function(t){return function(e,i,s){return-t*Math.abs(i)*s}},s.spring=function(t,e,i){e||(e=0),i||(i=0);var s=2*i*Math.sqrt(e);return function(i,o,n){var r=i-t,a=r+o*n,u=.5*e*r*r,h=.5*e*a*a,c=0>r/a?u:h-u,p=s*o*o*n;return-c-p}},s.springFENE=function(t,e,i,o){e||(e=0),i||(i=0),o||(o=0);var n=2*i*Math.sqrt(e),r=s.spring(t,e,i),a=!1;return function(i,s,u){var h=i-t,c=h+s*u;if(Math.abs(s)<1e-4&&Math.abs(c)<o&&(a=!1),a||Math.abs(h)>=o||Math.abs(c)>=o)return a=!0,r(i,s,u);var p=-.5*e*o*o*Math.log(o*o-h*h),l=-.5*e*o*o*Math.log(o*o-c*c),f=0>h/c?-p:l-p,d=n*s*s*u;return-f-d}},s.magnet=function(t,e){var i=.5;return e||(e=0),function(s,o,n){var r=s-t,a=r+o*n;if(Math.abs(r)<i&&Math.abs(a)<i)return-.5*o*o*n;var u=-e/Math.max(Math.abs(r),i),h=-e/Math.max(Math.abs(a),i),c=h-u;return-c}},s.prototype={_updateReset:function(){this.lastUpdateTime=Date.now(),this.atRest=!1},set:function(t,e){"number"==typeof t&&this.setPos(t),"number"==typeof e&&this.setVelo(e)},setPos:function(t){this.x=t,this._updateReset()},setVelo:function(t){this.v=t,this._updateReset()},addAgent:function(t){t instanceof Function||console.error("Invalid agent"),this.agents.indexOf(t)<0&&(this.agents.push(t),this.atRest=!1)},removeAgent:function(t){var e=this.agents.indexOf(t);e>=0&&(this.agents.splice(e,1),this.atRest=!1)},setAgents:function(t){this.agents=t.slice(0),this.atRest=!1},getPos:function(){return this.update(),this.x},getVelo:function(){return this.update(),this.v},update:function(t){for(t||(t=Date.now());this.lastUpdateTime<t;){var e=t-this.lastUpdateTime;this.v&&(e=Math.min(e,this.featureSize/Math.abs(this.v))),e=Math.max(e,this.minStepTime),this._step(e)}},_step:function(t){function e(t,e,s){for(var o=i.agents,n=0,r=0;r<o.length;r++)n+=o[r](t,e,s);return n}if(this.lastUpdateTime+=t,!this.atRest){var i=this,s=0,o=0;if(Math.abs(this.v)>this.jitter)s=e(this.x,this.v,t),o=this.v>0?1:-1;else{var n=e(this.x,this.jitter,t),r=e(this.x,-this.jitter,t);s=Math.max(n,r),o=n>r?1:-1,0>=n&&0>=r&&(this.atRest=!0)}var a=this.v,u=.5*a*a,h=u+s;if(0>h)this.x+=this.v*t*(h/s),this.v=0;else{var c=o*Math.sqrt(2*Math.abs(h));this.x+=this.v*t,this.v=c}this.atRest&&(this.x=Math.round(this.x/this.featureSize)*this.featureSize,this.v=0)}}},i.exports=s}),define("famous-views/Flip",["require","exports","module","famous/Matrix","famous/Transitionable","famous/RenderNode"],function(t,e,i){function s(t){this.options={transition:!0,cull:!0},t&&this.setOptions(t),this._side=0,this.state=new n(0),this.frontNode=new r,this.backNode=new r}var o=t("famous/Matrix"),n=t("famous/Transitionable"),r=t("famous/RenderNode");s.prototype.setDefaultTransition=function(t){this.transition=t},s.prototype.flip=function(t,e){void 0===t&&(t=1===this._side?0:1),this._side=t,this.state.set(t,this.options.transition,e)},s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.transition&&(this.options.transition=t.transition),void 0!==t.cull&&(this.options.cull=t.cull)},s.prototype.linkFront=function(t){return this.frontNode.link(t)},s.prototype.linkBack=function(t){return this.backNode.link(t)},s.prototype.render=function(t){var e=this.state.get();return void 0!==t?{transform:o.rotateY(Math.PI*e),target:t}:this.options.cull&&!this.state.isActive()?e?this.backNode.render():this.frontNode.render():[{transform:o.rotateY(Math.PI*e),target:this.frontNode.render()},{transform:o.rotateY(Math.PI*(e+1)),target:this.backNode.render()}]},i.exports=s}),define("famous-views/InputSurface",["require","exports","module","famous/Surface"],function(t,e,i){function s(t){this._placeholder=t.placeholder||"",this._value=t.value||"",this._type=t.type||"text",o.apply(this,arguments)}var o=t("famous/Surface");s.prototype=Object.create(o.prototype),s.prototype.surfaceEvents=o.prototype.surfaceEvents.concat(["keypress","keyup","keydown"]),s.prototype.elementType="input",s.prototype.elementClass="surface",s.prototype.setPlaceholder=function(t){return this._placeholder=t,this._contentDirty=!0,this},s.prototype.setValue=function(t){return this._value=t,this._contentDirty=!0,this},s.prototype.setType=function(t){return this._type=t,this._contentDirty=!0,this},s.prototype.getValue=function(){return this._currTarget?this._currTarget.value:this._value},s.prototype.deploy=function(t){""!==this._placeholder&&(t.placeholder=this._placeholder),t.value=this._value,t.type=this._type},i.exports=s}),define("famous-views/Lightbox",["require","exports","module","famous/Matrix","famous/Modifier","famous/RenderNode","famous/Utility"],function(t,e,i){function s(t){this.options={inTransform:o.scale(.001,.001,.001),inOpacity:0,inOrigin:[.5,.5],outTransform:o.scale(.001,.001,.001),outOpacity:0,outOrigin:[.5,.5],showTransform:o.identity,showOpacity:1,showOrigin:[.5,.5],inTransition:!0,outTransition:!0,overlap:!1},t&&this.setOptions(t),this._showing=!1,this.nodes=[],this.transforms=[]}var o=t("famous/Matrix"),n=t("famous/Modifier"),r=t("famous/RenderNode"),a=t("famous/Utility");s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.inTransform&&(this.options.inTransform=t.inTransform),void 0!==t.inOpacity&&(this.options.inOpacity=t.inOpacity),void 0!==t.inOrigin&&(this.options.inOrigin=t.inOrigin),void 0!==t.outTransform&&(this.options.outTransform=t.outTransform),void 0!==t.outOpacity&&(this.options.outOpacity=t.outOpacity),void 0!==t.outOrigin&&(this.options.outOrigin=t.outOrigin),void 0!==t.showTransform&&(this.options.showTransform=t.showTransform),void 0!==t.showOpacity&&(this.options.showOpacity=t.showOpacity),void 0!==t.showOrigin&&(this.options.showOrigin=t.showOrigin),void 0!==t.inTransition&&(this.options.inTransition=t.inTransition),void 0!==t.outTransition&&(this.options.outTransition=t.outTransition),void 0!==t.overlap&&(this.options.overlap=t.overlap)},s.prototype.show=function(t,e,i){if(!t)return this.hide(i);if(e instanceof Function&&(i=e,e=void 0),this._showing){if(!this.options.overlap)return this.hide(this.show.bind(this,t,i)),void 0;this.hide()}this._showing=!0;var s=new n({transform:this.options.inTransform,opacity:this.options.inOpacity,origin:this.options.inOrigin}),o=new r;o.link(s).link(t),this.nodes.push(o),this.transforms.push(s);var u=i?a.after(3,i):void 0;e||(e=this.options.inTransition),s.setTransform(this.options.showTransform,e,u),s.setOpacity(this.options.showOpacity,e,u),s.setOrigin(this.options.showOrigin,e,u)},s.prototype.hide=function(t,e){if(this._showing){this._showing=!1,t instanceof Function&&(e=t,t=void 0);var i=this.nodes[this.nodes.length-1],s=this.transforms[this.transforms.length-1],o=a.after(3,function(){this.nodes.splice(this.nodes.indexOf(i),1),this.transforms.splice(this.transforms.indexOf(s),1),e&&e.call(this)}.bind(this));t||(t=this.options.outTransition),s.setTransform(this.options.outTransform,t,o),s.setOpacity(this.options.outOpacity,t,o),s.setOrigin(this.options.outOrigin,t,o)}},s.prototype.render=function(){for(var t=[],e=0;e<this.nodes.length;e++)t.push(this.nodes[e].render());return t},i.exports=s}),define("famous-views/Modal",["require","exports","module","famous/Engine","famous-views/Lightbox","famous/EventHandler","famous/OptionsManager"],function(t,e,i){var s,o=t("famous/Engine"),n=t("famous-views/Lightbox"),r=t("famous/EventHandler"),a=(t("famous/OptionsManager"),{lightbox:new n,eventOutput:new r,eventInput:new r});r.setOutputHandler(a,a.eventOutput),r.setInputHandler(a,a.eventInput),a.setOptions=function(t){this.lightbox.setOptions(t)},a.getOptions=function(){return this.lightbox.getOptions()},a.show=function(t,e){s||(s=o.createContext(),s.srcNode.object=this.lightbox),this.lightbox.show(t,e,function(){this.eventInput.emit("Modal displaying")}.bind(this))},a.hide=function(t){this.lightbox.hide(t,function(){this.eventOutput.emit("Modal hidden")}.bind(this))},i.exports=a}),define("famous-views/ScrollContainer",["require","exports","module","famous/ContainerSurface","famous/EventHandler","./Scrollview","famous/Utility"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this.surface=new o(this.options.look),this.scrollview=new r(this.options.feel),t&&this.setOptions(t),this.surface.link(this.scrollview),n.setInputHandler(this,this.surface),n.setOutputHandler(this,this.surface),this.pipe(this.scrollview)}var o=t("famous/ContainerSurface"),n=t("famous/EventHandler"),r=t("./Scrollview"),a=t("famous/Utility");s.DEFAULT_OPTIONS={look:void 0,feel:{direction:a.Direction.X}},s.prototype.setOptions=function(t){void 0!==t.look&&(this.options.look=t.look,this.surface.setOptions(this.options.look)),void 0!==t.feel&&(this.options.feel=t.feel,this.scrollview.setOptions(this.options.feel))},s.prototype.sequenceFrom=function(){return this.scrollview.sequenceFrom.apply(this.scrollview,arguments)},s.prototype.render=function(){return this.surface.render.apply(this.surface,arguments)},i.exports=s}),define("famous-views/SequentialLayout",["require","exports","module","famous/Matrix","famous/Transitionable","famous/Modifier","famous/RenderNode","famous/ViewSequence","famous/Utility"],function(t,e,i){function s(t){this.items=void 0,this._size=void 0,this.options=Object.create(s.DEFAULT_OPTIONS),t&&this.setOptions(t)}var o=t("famous/Matrix"),n=(t("famous/Transitionable"),t("famous/Modifier"),t("famous/RenderNode"),t("famous/ViewSequence")),r=t("famous/Utility");s.DEFAULT_OPTIONS={direction:r.Direction.X,defaultItemSize:[50,50],itemSpacing:0},s.prototype.getSize=function(){return this._size||this.render(),this._size},s.prototype.sequenceFrom=function(t){t instanceof Array&&(t=new n(t)),this.items=t},s.prototype.setOptions=function(t){void 0!==t.direction&&(this.options.direction=t.direction),void 0!==t.defaultItemSize&&(this.options.defaultItemSize=t.defaultItemSize),void 0!==t.itemSpacing&&(this.options.itemSpacing=t.itemSpacing),void 0!==t.transition&&(this.options.transition=t.transition)},s.prototype.render=function(){for(var t=0,e=0,i=this.options.direction==r.Direction.X?0:1,s=this.options.direction==r.Direction.X?1:0,n=this.items,a=[];n;){var u=n.get();t&&(t+=this.options.itemSpacing);var h;u&&u.getSize&&(h=u.getSize()),h||(h=this.options.defaultItemSize),e&&h[s]!==!0&&(e=Math.max(e,h[s]));var c=this.options.direction==r.Direction.X?o.translate(t,0):o.translate(0,t);a.push({transform:c,target:u.render()}),h[i]&&h[i]!==!0&&(t+=h[i]),n=n.getNext()}return e||(e=void 0),this._size||(this._size=[0,0]),this._size[i]=t,this._size[s]=e,{group:!0,target:a}},i.exports=s}),define("famous-views/Shaper",["require","exports","module","famous/RenderNode","famous/Matrix","famous/Modifier","famous/Utility"],function(t,e,i){function s(t){this.nodes=[],this.transforms=[],this.defaultTransition={duration:1e3,curve:"easeInOut"};for(var e in t)this.side(e).from(t[e])}var o=t("famous/RenderNode"),n=t("famous/Matrix"),r=t("famous/Modifier"),a=t("famous/Utility");s.prototype.side=function(t){return this.nodes[t]||(this.transforms[t]=new r,this.transforms[t].setDefaultTransition(this.defaultTransition),this.nodes[t]=new o(this.transforms[t])),this.nodes[t]},s.prototype.halt=function(t){this.transforms[t].halt()},s.prototype.haltSet=function(t){for(var e=0;e<t.length;e++)this.halt(e)},s.prototype.haltAll=function(){this.haltSet(this.all())},s.prototype.set=function(t,e,i,s){return this.transforms[t]?(this.transforms[t].setTransform(e,i,s),void 0):(s&&s(),void 0)},s.prototype.setShape=function(t,e,i,s){for(var o="function"==typeof e?e:function(t){return e[t]},n=s?a.after(t.length,s):void 0,r=0;r<t.length;r++)this.set(t[r],o(r),i,n)},s.prototype.setShapeAll=function(t,e,i){this.setShape(this.all(),t,e,i)},s.prototype.modify=function(t,e,i,s){var o=n.multiply(this.transforms[t].getFinalTransform(),e);this.set(t,o,i,s)},s.prototype.modifySet=function(t,e,i,s){for(var o=s?a.after(t.length,s):void 0,n=0;n<t.length;n++)this.modify(t[n],e,i,o)},s.prototype.modifyAll=function(t,e,i){this.modify(this.all(),t,e,i)},s.prototype.setOpacity=function(t,e,i,s){this.transforms[t].setOpacity(e,i,s)},s.prototype.setOpacitySet=function(t,e,i,s){for(var o=s?a.after(t.length,s):void 0,n=0;n<t.length;n++)this.setOpacity(t[n],e,i,o)},s.prototype.setOpacityAll=function(t,e,i){this.setOpacitySet(this.all(),t,e,i)},s.prototype.all=function(){var t=[];for(var e in this.nodes)t.push(e);return t},s.prototype.getTransform=function(t){return this.transforms[t].getTransform()},s.prototype.getOpacity=function(t){return this.transforms[t].getOpacity()},s.prototype.isMoving=function(t){return this.transforms[t].isMoving()},s.prototype.render=function(){for(var t=[],e=0;e<this.nodes.length;e++)t[e]=this.nodes[e].execute();return t},i.exports=s}),define("famous-views/Swappable",["require","exports","module","famous/RenderNode","famous/Matrix","famous/Modifier"],function(t,e,i){function s(t){this.options={initTransform:u.identity,initOpacity:0,finalTransform:u.identity,finalOpacity:0,inTransition:{duration:500,curve:"easeInOut"},outTransition:{duration:500,curve:"easeInOut"},async:!1},this.nodes={},this.transforms=[],this.currIndex=-1,this.prevIndex=-1,this.setOptions(t)}function o(t,e,i,s,o,n,r){if(t in this.nodes){var a=this.nodes[t].modifiers[0];console.log(this.nodes[t]),a.isMoving&&!a.isMoving()&&(e&&a.setTransform(e),void 0!==i&&a.setOpacity(i)),a.setTransform(s,n),a.setOpacity(o,n,r)}}function n(t,e){o.call(this,t,this.options.initTransform,this.options.initOpacity,u.identity,1,this.options.inTransition,e)}function r(t,e){o.call(this,t,void 0,void 0,this.options.finalTransform,this.options.finalOpacity,this.options.outTransition,e)}var a=t("famous/RenderNode"),u=t("famous/Matrix"),h=t("famous/Modifier");s.prototype.item=function(t){var e=new a(new h(this.options.initTransform,this.options.initOpacity),!0);return this.nodes[t]=e,e},s.prototype.select=function(t,e){t!=this.currIndex&&(this.options.async?r.call(this,this.currIndex,function(){n.call(this,this.currIndex,e)}.bind(this)):(r.call(this,this.currIndex),n.call(this,t,e)),this.currIndex=t)},s.prototype.setOptions=function(t){for(var e in t)this.options[e]=t[e]},s.prototype.getOptions=function(){return this.options},s.prototype.render=function(){var t=[];for(var e in this.nodes)t.push(this.nodes[e].render());return t},i.exports=s}),define("famous-widgets/FeedItem",["require","exports","module","famous/Surface","famous/View","famous-utils/TimeAgo"],function(t,e,i){function s(t){n.apply(this,arguments),this.surface=new o({size:this.options.size,classes:this.options.classes}),t&&this.setOptions(t),this.surface.pipe(this.eventInput),this.optionsManager.on("change",function(t){if("content"==t.id)this.setContent(t.value);else{var e={};e[t.id]=t.value,this.surface.setOptions(e)}}.bind(this)),this.node.link(this.surface)}var o=t("famous/Surface"),n=t("famous/View"),r=t("famous-utils/TimeAgo");s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={classes:["feedItem"],size:[void 0,80],content:{icon:void 0,source:void 0,time:void 0,text:""}},s.prototype.setContent=function(t){this.options.content=t;var e=.6*this.options.size[1],i='<img src="'+t.icon+'" class="icon" width="'+e+'" height="'+e+'" />',s='<p class="source">'+t.source+"</p>",o='<p class="time">'+r.parse(t.time)+"</p>",n='<p class="text">'+t.text+"</p>";this.surface.setContent(i+o+s+n)},i.exports=s}),define("famous-widgets/FeedStream",["require","exports","module","famous/EventHandler","famous-views/Scrollview","./FeedItem"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this.scrollview=new n({direction:"y",margin:0}),t&&this.setOptions(t),this.eventInput=new o,o.setInputHandler(this,this.eventInput),this.eventInput.pipe(this.scrollview)}var o=t("famous/EventHandler"),n=t("famous-views/Scrollview"),r=t("./FeedItem");s.DEFAULT_OPTIONS={widget:r,content:[]},s.prototype.setContent=function(t){this.options.content=t;var e=this.options.widget;this.scrollview.sequenceFrom(t.map(function(t){return new e({content:t})}))},s.prototype.getSize=function(){return this.scrollview.getSize()},s.prototype.setSize=function(t){this.scrollview.setOptions({clipSize:t[1]})},s.prototype.setOptions=function(t){t.widget&&(this.options.widget=t.widget),t.content&&this.setContent(t.content)},s.prototype.render=function(){return this.scrollview.render()},i.exports=s}),define("famous-widgets/IconBar",["require","exports","module","famous/Utility","famous/Surface"],function(t,e,i){var s=t("famous/Utility"),o=t("famous/Surface"),n=s.customizeComponent(o,{classes:["iconBar"],icons:[]});n.prototype.setOptions=function(t){o.prototype.setOptions.call(this,t),t.icons&&(this.options.icons=t.icons)},n.prototype.setContent=function(t){return"string"==typeof t&&(t+='<span class="icon">'+this.options.icons.join("")+"</span>"),o.prototype.setContent.call(this,t)},i.exports=n}),define("famous-widgets/InfoBox",["require","exports","module","famous/EventHandler","famous/Surface"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this.surface=new r(this.options.look),t&&this.setOptions(t),n.setInputHandler(this,this.surface),n.setOutputHandler(this,this.surface,!0)}function o(t){for(var e="<ul>",i=0;i<t.length;i++){var s=t[i],o=Object.keys(s)[0];e+='<li><span class="key">'+o+"</span> "+s[o]+"</li>"}return e+="</ul>"}var n=t("famous/EventHandler"),r=t("famous/Surface");s.DEFAULT_OPTIONS={look:{classes:["infoBox"],size:[void 0,!0]},content:[]},s.prototype.setOptions=function(t){void 0!==t.content&&(this.options.content=t.content,this.surface.setContent(o(this.options.content))),void 0!==t.look&&(this.options.look=t.look,this.surface.setOptions(this.options.look))},s.prototype.render=function(){return this.surface.render()},i.exports=s}),define("famous-widgets/NavMenu",["require","exports","module","famous/Utility","famous/EventHandler","famous-views/Scrollview","./ToggleButton","famous/ContainerSurface"],function(t,e,i){function s(t){this.buttons=[],this._buttonIds={},this.options=Object.create(s.DEFAULT_OPTIONS),t&&this.setOptions(t),this.scrollview=new a({direction:this.options.look.direction,itemSpacing:this.options.look.itemSpacing}),this.eventOutput=new r,r.setOutputHandler(this,this.eventOutput),r.setInputHandler(this,this.scrollview),this.scrollview.sequenceFrom(this.buttons),this.surface=new h(this.options.look),this.surface.link(this.scrollview),this.surface.pipe(this.scrollview)}function o(t){var e=this.options.sections[t],i=this.options.widget,s=new i;if(this.options.feel&&s.setOptions(this.options.feel),this.options.look){var o=Object.create(this.options.look);o.size=this.options.look.itemSize,s.setOptions(o)}s.setOptions(e),s.on("select",this.select.bind(this,t));var n=this.buttons.length;this.buttons[n]=s,this._buttonIds[t]=n}var n=t("famous/Utility"),r=t("famous/EventHandler"),a=t("famous-views/Scrollview"),u=t("./ToggleButton"),h=t("famous/ContainerSurface");s.DEFAULT_OPTIONS={sections:[],widget:u,look:{size:[200,void 0],direction:n.Direction.X,itemSize:[void 0,50],itemSpacing:10,crossfade:!0},feel:void 0},s.prototype.select=function(t){var e=this._buttonIds[t];this.buttons[e]&&this.buttons[e].isSelected()?this.eventOutput.emit("select",{id:t}):this.buttons[e]&&this.buttons[e].select();for(var i=0;i<this.buttons.length;i++)i!=e&&this.buttons[i].deselect()},s.prototype.setOptions=function(t){if(void 0!==t.widget&&(this.options.widget=t.widget),void 0!==t.look){this.options.look=t.look,this.surface&&this.surface.setOptions(this.options.look);var e=Object.create(this.options.look);e.size=this.options.look.itemSize;for(var i=0;i<this.buttons.length;i++)this.buttons[i].setOptions(e)}if(void 0!==t.feel){this.options.feel=t.feel;for(var i=0;i<this.buttons.length;i++)this.buttons[i].setOptions(this.options.feel)}if(void 0!==t.sections){this.options.sections=t.sections;for(var s in this.options.sections)s in this._buttonIds||o.call(this,s)}},s.prototype.getSize=function(){return this.options.look.size},s.prototype.render=function(){return this.buttons.length?this.surface.render():void 0},i.exports=s}),define("famous-widgets/ScrollContainer",["require","exports","module","famous/ContainerSurface","famous/EventHandler","famous-views/Scrollview","famous/Utility"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this.surface=new o(this.options.look),this.scrollview=new r(this.options.feel),t&&this.setOptions(t),this.surface.link(this.scrollview),n.setInputHandler(this,this.surface),n.setOutputHandler(this,this.surface),this.pipe(this.scrollview)}var o=t("famous/ContainerSurface"),n=t("famous/EventHandler"),r=t("famous-views/Scrollview"),a=t("famous/Utility");s.DEFAULT_OPTIONS={look:void 0,feel:{direction:a.Direction.X}},s.prototype.setOptions=function(t){void 0!==t.look&&(this.options.look=t.look,this.surface.setOptions(this.options.look)),void 0!==t.feel&&(this.options.feel=t.feel,this.scrollview.setOptions(this.options.feel))},s.prototype.sequenceFrom=function(){return this.scrollview.sequenceFrom.apply(this.scrollview,arguments)},s.prototype.render=function(){return this.surface.render.apply(this.surface,arguments)},i.exports=s}),define("famous-widgets/ShrinkContainer",["require","exports","module","famous/ContainerSurface","famous/EventHandler","famous-views/SequentialLayout","famous/Utility"],function(t,e,i){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this.surface=new n(this.options.look),this.layout=new a(this.options),t&&this.setOptions(t),this.surface.link(this.layout),r.setInputHandler(this,this.surface),r.setOutputHandler(this,this.surface,!0)
}function o(){var t=this.layout.getSize(),e=this.surface.getSize(),i=this.surface.context.getSize();if(t&&e&&i){var s=[t[0]+(e[0]-i[0]),t[1]+(e[1]-i[1])];isNaN(s[0])&&(s[0]=void 0),isNaN(s[1])&&(s[1]=void 0),(s[0]!=e[0]||s[1]!=e[1])&&this.surface.setSize.call(this.surface,s)}}{var n=t("famous/ContainerSurface"),r=t("famous/EventHandler"),a=t("famous-views/SequentialLayout");t("famous/Utility")}s.DEFAULT_OPTIONS={look:void 0},s.prototype.getSize=function(){return this.surface.getSize()},s.prototype.setOptions=function(t){this.layout.setOptions(t),void 0!==t.look&&(this.options.look=t.look,this.surface.setOptions(this.options.look))},s.prototype.sequenceFrom=function(){return this.layout.sequenceFrom.apply(this.layout,arguments)},s.prototype.mod=function(){return this.surface.mod.apply(this.surface,arguments)},s.prototype.render=function(){return o.call(this),this.surface.render.apply(this.surface,arguments)},i.exports=s}),define("famous-widgets/Slider",["require","exports","module","famous/Surface","famous/CanvasSurface","famous-sync/GenericSync","famous/Matrix","famous/EventHandler"],function(t,e,i){function s(t){this.options={size:[200,60],indicatorSize:[200,30],labelSize:[200,30],range:[0,1],precision:2,defaultValue:0,label:"",fillColor:"rgba(170, 170, 170, 1)"},t&&this.setOptions(t),this.value=this.options.defaultValue,this.indicator=new r({size:this.options.indicatorSize}),this.indicator.addClass("slider-back"),this.label=new n({size:this.options.labelSize,content:this.options.label,classes:["slider-label"]}),this.label.setProperties({"pointer-events":"none"}),this.eventOutput=new h,this.eventInput=new h,h.setInputHandler(this,this.eventInput),h.setOutputHandler(this,this.eventOutput),this.sync=new a(this.get.bind(this),{scale:(this.options.range[1]-this.options.range[0])/this.options.indicatorSize[0],direction:a.DIRECTION_X}),this.eventInput.on("update",function(t){this.set(t.p)}.bind(this)),this.indicator.pipe(this.sync).pipe(this.eventInput),this._drawPos=0,o.call(this)}function o(){this.label.setContent(this.options.label+'<span style="float: right">'+this.get().toFixed(this.options.precision)+"</span>")}var n=t("famous/Surface"),r=t("famous/CanvasSurface"),a=t("famous-sync/GenericSync"),u=t("famous/Matrix"),h=t("famous/EventHandler");s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.size&&(this.options.size=t.size),void 0!==t.indicatorSize&&(this.options.indicatorSize=t.indicatorSize),void 0!==t.labelSize&&(this.options.labelSize=t.labelSize),void 0!==t.range&&(this.options.range=t.range),void 0!==t.precision&&(this.options.precision=t.precision),void 0!==t.defaultValue&&(this.options.defaultValue=t.defaultValue),void 0!==t.label&&(this.options.label=t.label),void 0!==t.fillColor&&(this.options.fillColor=t.fillColor)},s.prototype.get=function(){return this.value},s.prototype.set=function(t){this.value=Math.min(Math.max(this.options.range[0],t),this.options.range[1]),o.call(this),this.eventOutput.emit("change",{value:this.get(),range:this.options.range})},s.prototype.getSize=function(){return this.options.size},s.prototype.render=function(){var t=this.options.range,e=Math.floor((this.get()-t[0])/(t[1]-t[0])*this.options.indicatorSize[0]);if(e<this._drawPos)this.indicator.getContext("2d").clearRect(e,0,this._drawPos-e+1,this.options.indicatorSize[1]);else if(e>this._drawPos){var i=this.indicator.getContext("2d");i.fillStyle=this.options.fillColor,i.fillRect(this._drawPos-1,0,e-this._drawPos+1,this.options.indicatorSize[1])}return this._drawPos=e,{size:this.options.size,target:[{origin:[.5,0],target:this.indicator.render()},{transform:u.translate(0,0,1),origin:[.5,1],target:this.label.render()}]}},i.exports=s}),define("main",["require","exports","module","app/control/AppController","app/control/favorViewController","app/custom/GridLayout_Bon","app/custom/InComingTransform","app/custom/LightBox","app/custom/Surface","app/custom/Templates","app/custom/UpDownTransform","app/custom/contactItemWidget","app/models/Favor","app/models/FavorCollection","app/models/Settings","app/models/Suggestions","app/models/SuggestionsCollection","app/view/EditItemView","app/view/EditView","app/view/FavorItemView","app/view/FavorView","app/view/InstallationView","app/view/LogoView","app/view/LogoView2","app/view/MainView","app/widgets/ColoredCounter","app/widgets/Counter","app/widgets/EmptyClass","app/widgets/SplitImages","app/widgets/SplitRenderable","app/widgets/TorqueRenderable","app/Constant","app/config","famous/CanvasSurface","famous/ContainerSurface","famous/Context","famous/ElementAllocator","famous/Engine","famous/Entity","famous/EventArbiter","famous/EventHandler","famous/Group","famous/ImageSurface","famous/Matrix","famous/Modifier","famous/MultipleTransition","famous/OptionsManager","famous/RenderNode","famous/Scene","famous/SceneCompiler","famous/SpecParser","famous/Surface","famous/Timer","famous/Transitionable","famous/TweenTransition","famous/Utility","famous/VideoSurface","famous/View","famous/ViewSequence","famous/WebGLSurface","famous-animation/Animation","famous-animation/AnimationEngine","famous-animation/CubicBezier","famous-animation/Easing","famous-animation/Idle","famous-animation/LayoutEngine","famous-animation/PiecewiseCubicBezier","famous-animation/RegisterEasing","famous-animation/Sequence","famous-animation/Timer","famous-audio/BufferLoader","famous-audio/SoundPlayer","famous-color/Color","famous-color/ColorPalette","famous-color/ColorPalettes","famous-feedback/Circle","famous-feedback/FeedbackBase","famous-feedback/FontFeedback","famous-feedback/Lasers","famous-modifiers/Camera","famous-modifiers/Draggable","famous-modifiers/Lift","famous-performance/Profiler","famous-performance/ProfilerMetric","famous-performance/ProfilerMetricView","famous-performance/ProfilerView","famous-physics/bodies/Body","famous-physics/bodies/Circle","famous-physics/bodies/Particle","famous-physics/bodies/Rectangle","famous-physics/constraints/Collision","famous-physics/constraints/CollisionJacobian","famous-physics/constraints/Constraint","famous-physics/constraints/Curve","famous-physics/constraints/Distance","famous-physics/constraints/Distance1D","famous-physics/constraints/Rod","famous-physics/constraints/Rope","famous-physics/constraints/StiffSpring","famous-physics/constraints/Surface","famous-physics/constraints/Wall","famous-physics/constraints/Walls","famous-physics/constraints/joint","famous-physics/forces/Drag","famous-physics/forces/Force","famous-physics/forces/Repulsion","famous-physics/forces/Spring","famous-physics/forces/TorqueSpring","famous-physics/forces/VectorField","famous-physics/forces/rotationalDrag","famous-physics/integrator/SymplecticEuler","famous-physics/integrator/verlet","famous-physics/math/GaussSeidel","famous-physics/math/Quaternion","famous-physics/math/Random","famous-physics/math/Vector","famous-physics/math/matrix","famous-physics/utils/PhysicsTransition","famous-physics/utils/PhysicsTransition2","famous-physics/utils/SpringTransition","famous-physics/utils/StiffSpringTransition","famous-physics/utils/WallTransition","famous-physics/PhysicsEngine","famous-scene/GLScene","famous-scene/Scene","famous-scene/SceneController","famous-scene/SceneTransitions","famous-scene/Transitions","famous-sync/FastClick","famous-sync/GenericSync","famous-sync/MouseSync","famous-sync/PinchSync","famous-sync/RotateSync","famous-sync/ScaleSync","famous-sync/ScrollSync","famous-sync/TouchSync","famous-sync/TouchTracker","famous-sync/TwoFingerSync","famous-ui/Buttons/ButtonBase","famous-ui/Buttons/RotateButton","famous-ui/Buttons/SpringButton","famous-ui/Buttons/SpringButton.ui","famous-ui/ColorPicker/AlphaPicker","famous-ui/ColorPicker/CanvasPicker","famous-ui/ColorPicker/ColorButton","famous-ui/ColorPicker/ColorPicker","famous-ui/ColorPicker/GradientPicker","famous-ui/ColorPicker/HuePicker","famous-ui/Dropdown/Dropdown","famous-ui/Dropdown/DropdownItem","famous-ui/Easing/CanvasDrawer","famous-ui/Easing/EasingBool","famous-ui/Easing/EasingVisualizer","famous-ui/Easing/MultiEasingToggle","famous-ui/Text/Label","famous-ui/Toggles/BoolToggle","famous-ui/Toggles/MultiBoolToggle","famous-ui/AutoUI","famous-ui/PanelScrollview","famous-ui/Slider","famous-utils/FormatTime","famous-utils/KeyCodes","famous-utils/NoiseImage","famous-utils/Time","famous-utils/TimeAgo","famous-utils/Utils","famous-views/Accordion","famous-views/ControlSet","famous-views/EnergyHelper","famous-views/Flip","famous-views/InputSurface","famous-views/LightBox","famous-views/Modal","famous-views/ScrollContainer","famous-views/Scrollview","famous-views/SequentialLayout","famous-views/Shaper","famous-views/Swappable","famous-widgets/FeedItem","famous-widgets/FeedStream","famous-widgets/IconBar","famous-widgets/InfoBox","famous-widgets/NavMenu","famous-widgets/NavigationBar","famous-widgets/ScrollContainer","famous-widgets/ShrinkContainer","famous-widgets/Slider","famous-widgets/TitleBar","famous-widgets/ToggleButton"],function(t,e,i){var s=function(e){e.call(this,t)};s.App={},s.App.Control_AppController=t("app/control/AppController"),s.App.Control_favorViewController=t("app/control/favorViewController"),s.App.Custom_GridLayout_Bon=t("app/custom/GridLayout_Bon"),s.App.Custom_InComingTransform=t("app/custom/InComingTransform"),s.App.Custom_LightBox=t("app/custom/LightBox"),s.App.Custom_Surface=t("app/custom/Surface"),s.App.Custom_Templates=t("app/custom/Templates"),s.App.Custom_UpDownTransform=t("app/custom/UpDownTransform"),s.App.Custom_contactItemWidget=t("app/custom/contactItemWidget"),s.App.Models_Favor=t("app/models/Favor"),s.App.Models_FavorCollection=t("app/models/FavorCollection"),s.App.Models_Settings=t("app/models/Settings"),s.App.Models_Suggestions=t("app/models/Suggestions"),s.App.Models_SuggestionsCollection=t("app/models/SuggestionsCollection"),s.App.View_EditItemView=t("app/view/EditItemView"),s.App.View_EditView=t("app/view/EditView"),s.App.View_FavorItemView=t("app/view/FavorItemView"),s.App.View_FavorView=t("app/view/FavorView"),s.App.View_InstallationView=t("app/view/InstallationView"),s.App.View_LogoView=t("app/view/LogoView"),s.App.View_LogoView2=t("app/view/LogoView2"),s.App.View_MainView=t("app/view/MainView"),s.App.Widgets_ColoredCounter=t("app/widgets/ColoredCounter"),s.App.Widgets_Counter=t("app/widgets/Counter"),s.App.Widgets_EmptyClass=t("app/widgets/EmptyClass"),s.App.Widgets_SplitImages=t("app/widgets/SplitImages"),s.App.Widgets_SplitRenderable=t("app/widgets/SplitRenderable"),s.App.Widgets_TorqueRenderable=t("app/widgets/TorqueRenderable"),s.App.Constant=t("app/Constant"),s.App.Config=t("app/config"),s.Famous={},s.Famous.CanvasSurface=t("famous/CanvasSurface"),s.Famous.ContainerSurface=t("famous/ContainerSurface"),s.Famous.Context=t("famous/Context"),s.Famous.ElementAllocator=t("famous/ElementAllocator"),s.Famous.Engine=t("famous/Engine"),s.Famous.Entity=t("famous/Entity"),s.Famous.EventArbiter=t("famous/EventArbiter"),s.Famous.EventHandler=t("famous/EventHandler"),s.Famous.Group=t("famous/Group"),s.Famous.ImageSurface=t("famous/ImageSurface"),s.Famous.Matrix=t("famous/Matrix"),s.Famous.Modifier=t("famous/Modifier"),s.Famous.MultipleTransition=t("famous/MultipleTransition"),s.Famous.OptionsManager=t("famous/OptionsManager"),s.Famous.RenderNode=t("famous/RenderNode"),s.Famous.Scene=t("famous/Scene"),s.Famous.SceneCompiler=t("famous/SceneCompiler"),s.Famous.SpecParser=t("famous/SpecParser"),s.Famous.Surface=t("famous/Surface"),s.Famous.Timer=t("famous/Timer"),s.Famous.Transitionable=t("famous/Transitionable"),s.Famous.TweenTransition=t("famous/TweenTransition"),s.Famous.Utility=t("famous/Utility"),s.Famous.VideoSurface=t("famous/VideoSurface"),s.Famous.View=t("famous/View"),s.Famous.ViewSequence=t("famous/ViewSequence"),s.Famous.WebGLSurface=t("famous/WebGLSurface"),s.FamousAnimation={},s.FamousAnimation.Animation=t("famous-animation/Animation"),s.FamousAnimation.AnimationEngine=t("famous-animation/AnimationEngine"),s.FamousAnimation.CubicBezier=t("famous-animation/CubicBezier"),s.FamousAnimation.Easing=t("famous-animation/Easing"),s.FamousAnimation.Idle=t("famous-animation/Idle"),s.FamousAnimation.LayoutEngine=t("famous-animation/LayoutEngine"),s.FamousAnimation.PiecewiseCubicBezier=t("famous-animation/PiecewiseCubicBezier"),s.FamousAnimation.RegisterEasing=t("famous-animation/RegisterEasing"),s.FamousAnimation.Sequence=t("famous-animation/Sequence"),s.FamousAnimation.Timer=t("famous-animation/Timer"),s.FamousAudio={},s.FamousAudio.BufferLoader=t("famous-audio/BufferLoader"),s.FamousAudio.SoundPlayer=t("famous-audio/SoundPlayer"),s.FamousColor={},s.FamousColor.Color=t("famous-color/Color"),s.FamousColor.ColorPalette=t("famous-color/ColorPalette"),s.FamousColor.ColorPalettes=t("famous-color/ColorPalettes"),s.FamousFeedback={},s.FamousFeedback.Circle=t("famous-feedback/Circle"),s.FamousFeedback.FeedbackBase=t("famous-feedback/FeedbackBase"),s.FamousFeedback.FontFeedback=t("famous-feedback/FontFeedback"),s.FamousFeedback.Lasers=t("famous-feedback/Lasers"),s.FamousModifiers={},s.FamousModifiers.Camera=t("famous-modifiers/Camera"),s.FamousModifiers.Draggable=t("famous-modifiers/Draggable"),s.FamousModifiers.Lift=t("famous-modifiers/Lift"),s.FamousPerformance={},s.FamousPerformance.Profiler=t("famous-performance/Profiler"),s.FamousPerformance.ProfilerMetric=t("famous-performance/ProfilerMetric"),s.FamousPerformance.ProfilerMetricView=t("famous-performance/ProfilerMetricView"),s.FamousPerformance.ProfilerView=t("famous-performance/ProfilerView"),s.FamousPhysics={},s.FamousPhysics.Bodies_Body=t("famous-physics/bodies/Body"),s.FamousPhysics.Bodies_Circle=t("famous-physics/bodies/Circle"),s.FamousPhysics.Bodies_Particle=t("famous-physics/bodies/Particle"),s.FamousPhysics.Bodies_Rectangle=t("famous-physics/bodies/Rectangle"),s.FamousPhysics.Constraints_Collision=t("famous-physics/constraints/Collision"),s.FamousPhysics.Constraints_CollisionJacobian=t("famous-physics/constraints/CollisionJacobian"),s.FamousPhysics.Constraints_Constraint=t("famous-physics/constraints/Constraint"),s.FamousPhysics.Constraints_Curve=t("famous-physics/constraints/Curve"),s.FamousPhysics.Constraints_Distance=t("famous-physics/constraints/Distance"),s.FamousPhysics.Constraints_Distance1D=t("famous-physics/constraints/Distance1D"),s.FamousPhysics.Constraints_Rod=t("famous-physics/constraints/Rod"),s.FamousPhysics.Constraints_Rope=t("famous-physics/constraints/Rope"),s.FamousPhysics.Constraints_StiffSpring=t("famous-physics/constraints/StiffSpring"),s.FamousPhysics.Constraints_Surface=t("famous-physics/constraints/Surface"),s.FamousPhysics.Constraints_Wall=t("famous-physics/constraints/Wall"),s.FamousPhysics.Constraints_Walls=t("famous-physics/constraints/Walls"),s.FamousPhysics.Constraints_joint=t("famous-physics/constraints/joint"),s.FamousPhysics.Forces_Drag=t("famous-physics/forces/Drag"),s.FamousPhysics.Forces_Force=t("famous-physics/forces/Force"),s.FamousPhysics.Forces_Repulsion=t("famous-physics/forces/Repulsion"),s.FamousPhysics.Forces_Spring=t("famous-physics/forces/Spring"),s.FamousPhysics.Forces_TorqueSpring=t("famous-physics/forces/TorqueSpring"),s.FamousPhysics.Forces_VectorField=t("famous-physics/forces/VectorField"),s.FamousPhysics.Forces_rotationalDrag=t("famous-physics/forces/rotationalDrag"),s.FamousPhysics.Integrator_SymplecticEuler=t("famous-physics/integrator/SymplecticEuler"),s.FamousPhysics.Integrator_verlet=t("famous-physics/integrator/verlet"),s.FamousPhysics.Math_GaussSeidel=t("famous-physics/math/GaussSeidel"),s.FamousPhysics.Math_Quaternion=t("famous-physics/math/Quaternion"),s.FamousPhysics.Math_Random=t("famous-physics/math/Random"),s.FamousPhysics.Math_Vector=t("famous-physics/math/Vector"),s.FamousPhysics.Math_matrix=t("famous-physics/math/matrix"),s.FamousPhysics.Utils_PhysicsTransition=t("famous-physics/utils/PhysicsTransition"),s.FamousPhysics.Utils_PhysicsTransition2=t("famous-physics/utils/PhysicsTransition2"),s.FamousPhysics.Utils_SpringTransition=t("famous-physics/utils/SpringTransition"),s.FamousPhysics.Utils_StiffSpringTransition=t("famous-physics/utils/StiffSpringTransition"),s.FamousPhysics.Utils_WallTransition=t("famous-physics/utils/WallTransition"),s.FamousPhysics.PhysicsEngine=t("famous-physics/PhysicsEngine"),s.FamousScene={},s.FamousScene.GLScene=t("famous-scene/GLScene"),s.FamousScene.Scene=t("famous-scene/Scene"),s.FamousScene.SceneController=t("famous-scene/SceneController"),s.FamousScene.SceneTransitions=t("famous-scene/SceneTransitions"),s.FamousScene.Transitions=t("famous-scene/Transitions"),s.FamousSync={},s.FamousSync.FastClick=t("famous-sync/FastClick"),s.FamousSync.GenericSync=t("famous-sync/GenericSync"),s.FamousSync.MouseSync=t("famous-sync/MouseSync"),s.FamousSync.PinchSync=t("famous-sync/PinchSync"),s.FamousSync.RotateSync=t("famous-sync/RotateSync"),s.FamousSync.ScaleSync=t("famous-sync/ScaleSync"),s.FamousSync.ScrollSync=t("famous-sync/ScrollSync"),s.FamousSync.TouchSync=t("famous-sync/TouchSync"),s.FamousSync.TouchTracker=t("famous-sync/TouchTracker"),s.FamousSync.TwoFingerSync=t("famous-sync/TwoFingerSync"),s.FamousUi={},s.FamousUi.Buttons_ButtonBase=t("famous-ui/Buttons/ButtonBase"),s.FamousUi.Buttons_RotateButton=t("famous-ui/Buttons/RotateButton"),s.FamousUi.Buttons_SpringButton=t("famous-ui/Buttons/SpringButton"),s.FamousUi.Buttons_SpringButton.ui=t("famous-ui/Buttons/SpringButton.ui"),s.FamousUi.ColorPicker_AlphaPicker=t("famous-ui/ColorPicker/AlphaPicker"),s.FamousUi.ColorPicker_CanvasPicker=t("famous-ui/ColorPicker/CanvasPicker"),s.FamousUi.ColorPicker_ColorButton=t("famous-ui/ColorPicker/ColorButton"),s.FamousUi.ColorPicker_ColorPicker=t("famous-ui/ColorPicker/ColorPicker"),s.FamousUi.ColorPicker_GradientPicker=t("famous-ui/ColorPicker/GradientPicker"),s.FamousUi.ColorPicker_HuePicker=t("famous-ui/ColorPicker/HuePicker"),s.FamousUi.Dropdown_Dropdown=t("famous-ui/Dropdown/Dropdown"),s.FamousUi.Dropdown_DropdownItem=t("famous-ui/Dropdown/DropdownItem"),s.FamousUi.Easing_CanvasDrawer=t("famous-ui/Easing/CanvasDrawer"),s.FamousUi.Easing_EasingBool=t("famous-ui/Easing/EasingBool"),s.FamousUi.Easing_EasingVisualizer=t("famous-ui/Easing/EasingVisualizer"),s.FamousUi.Easing_MultiEasingToggle=t("famous-ui/Easing/MultiEasingToggle"),s.FamousUi.Text_Label=t("famous-ui/Text/Label"),s.FamousUi.Toggles_BoolToggle=t("famous-ui/Toggles/BoolToggle"),s.FamousUi.Toggles_MultiBoolToggle=t("famous-ui/Toggles/MultiBoolToggle"),s.FamousUi.AutoUI=t("famous-ui/AutoUI"),s.FamousUi.PanelScrollview=t("famous-ui/PanelScrollview"),s.FamousUi.Slider=t("famous-ui/Slider"),s.FamousUtils={},s.FamousUtils.FormatTime=t("famous-utils/FormatTime"),s.FamousUtils.KeyCodes=t("famous-utils/KeyCodes"),s.FamousUtils.NoiseImage=t("famous-utils/NoiseImage"),s.FamousUtils.Time=t("famous-utils/Time"),s.FamousUtils.TimeAgo=t("famous-utils/TimeAgo"),s.FamousUtils.Utils=t("famous-utils/Utils"),s.FamousViews={},s.FamousViews.Accordion=t("famous-views/Accordion"),s.FamousViews.ControlSet=t("famous-views/ControlSet"),s.FamousViews.EnergyHelper=t("famous-views/EnergyHelper"),s.FamousViews.Flip=t("famous-views/Flip"),s.FamousViews.InputSurface=t("famous-views/InputSurface"),s.FamousViews.LightBox=t("famous-views/LightBox"),s.FamousViews.Modal=t("famous-views/Modal"),s.FamousViews.ScrollContainer=t("famous-views/ScrollContainer"),s.FamousViews.Scrollview=t("famous-views/Scrollview"),s.FamousViews.SequentialLayout=t("famous-views/SequentialLayout"),s.FamousViews.Shaper=t("famous-views/Shaper"),s.FamousViews.Swappable=t("famous-views/Swappable"),s.FamousWidgets={},s.FamousWidgets.FeedItem=t("famous-widgets/FeedItem"),s.FamousWidgets.FeedStream=t("famous-widgets/FeedStream"),s.FamousWidgets.IconBar=t("famous-widgets/IconBar"),s.FamousWidgets.InfoBox=t("famous-widgets/InfoBox"),s.FamousWidgets.NavMenu=t("famous-widgets/NavMenu"),s.FamousWidgets.NavigationBar=t("famous-widgets/NavigationBar"),s.FamousWidgets.ScrollContainer=t("famous-widgets/ScrollContainer"),s.FamousWidgets.ShrinkContainer=t("famous-widgets/ShrinkContainer"),s.FamousWidgets.Slider=t("famous-widgets/Slider"),s.FamousWidgets.TitleBar=t("famous-widgets/TitleBar"),s.FamousWidgets.ToggleButton=t("famous-widgets/ToggleButton"),i.exports=s}),require(["lib/functionPrototypeBind","lib/classList","lib/requestAnimationFrame","lib/zepto.min","../bower_components/underscore/underscore-min","../bower_components/backbone/backbone-min","lib/backboneLocalStorage","main"]),require("main")});